<!doctype html>
<html lang=en-US>
<meta charset=utf-8>
<meta name="viewport" content="width=device-width, initial-scale=1"><title>ProseMirror Reference manual</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel=stylesheet href="../../css/site.css">

<header >
  <nav>
    <a class=logo href="../../index.html">ProseMirror</a>
    <div class=navlinks><a class=toc-toggle>Contents</a><a href="../../examples/index.html" >Examples</a>
      <a href="../index.html" class=active>Documentation</a>
      <a href="https://discuss.prosemirror.net/">Discuss</a>
      <a href="https://github.com/prosemirror">GitHub</a>
      <a href="https://twitter.com/prosemirror">Twitter</a>
    </div>
  </nav></header><nav id=toc>
    <ul><li><a href="#top.intro">Intro</a></li><li><a href="#state">prosemirror-state</a><ul><li><a href="#state.Editor_State">Editor State</a></li><li><a href="#state.Selection">Selection</a></li><li><a href="#state.Plugin_System">Plugin System</a></li></ul></li><li><a href="#view">prosemirror-view</a><ul><li><a href="#view.Props">Props</a></li><li><a href="#view.Decorations">Decorations</a></li></ul></li><li><a href="#model">prosemirror-model</a><ul><li><a href="#model.Document_Structure">Document Structure</a></li><li><a href="#model.Resolved_Positions">Resolved Positions</a></li><li><a href="#model.Document_Schema">Document Schema</a></li><li><a href="#model.DOM_Representation">DOM Representation</a></li></ul></li><li><a href="#transform">prosemirror-transform</a><ul><li><a href="#transform.Steps">Steps</a></li><li><a href="#transform.Position_Mapping">Position Mapping</a></li><li><a href="#transform.Document_transforms">Document transforms</a></li></ul></li><li><a href="#commands">prosemirror-commands</a></li><li><a href="#history">prosemirror-history</a></li><li><a href="#collab">prosemirror-collab</a></li><li><a href="#keymap">prosemirror-keymap</a></li><li><a href="#inputrules">prosemirror-inputrules</a></li><li><a href="#gapcursor">prosemirror-gapcursor</a></li><li><a href="#schema-basic">prosemirror-schema-basic</a></li><li><a href="#schema-list">prosemirror-schema-list</a></li></ul>
  </nav>
  <script>
addEventListener("load", function() {
  var toc = document.querySelector("nav#toc")
  var state = "top"
  var footer = document.querySelector("footer"), header = document.querySelector("header")
  function align() {
    var tocRect = toc.getBoundingClientRect(),
        headRect = header.getBoundingClientRect(),
        footRect = footer.getBoundingClientRect()
    if (state == "top" && headRect.bottom <= -40 ||
        state == "bottom" && toc.getBoundingClientRect().top >= 0) {
      toc.style.top = "0"
      toc.style.bottom = ""
      toc.classList.add("fixed")
      state = "fixed"
    } else if (state == "fixed" && headRect.bottom > -40) {
      toc.style.bottom = toc.style.top = ""
      toc.classList.remove("fixed")
      state = "top"
    } else if (state == "fixed" && footRect.top < tocRect.bottom) {
      toc.style.bottom = footRect.height + "px"
      toc.style.top = "auto"
      toc.classList.remove("fixed")
      state = "bottom"
    }
  }
  if (document.body.scrollHeight - header.offsetHeight > innerHeight) {
    align()
    addEventListener("scroll", align)
  }
  document.querySelector(".toc-toggle").addEventListener("click", function() {
    toc.classList.toggle("open")
  })
})
  </script><article><section id="part_top">
  <h2 id="top.intro">Reference manual</h2><p>This is the reference manual for the
<a href="../../index.html">ProseMirror</a> rich text editor. It lists and
describes the full public API exported by the library. For more
introductory material, please see the <a href="../guide/index.html">guide</a>.</p>
<p>ProseMirror is structured as a number of separate modules. This
reference manual describes the exported API per module. If you want to
use something from the <a href="#state"><code>prosemirror-state</code></a> module, for
example, you can import it like this:</p>
<pre><code class="language-javascript"><span class="hl-keyword">var</span> <span class="hl-def">EditorState</span> <span class="hl-operator">=</span> <span class="hl-variable">require</span>(<span class="hl-string">&quot;prosemirror-state&quot;</span>).<span class="hl-property">EditorState</span>
<span class="hl-keyword">var</span> <span class="hl-def">state</span> <span class="hl-operator">=</span> <span class="hl-variable">EditorState</span>.<span class="hl-property">create</span>({<span class="hl-property">schema</span>: <span class="hl-variable">mySchema</span>})
</code></pre>
<p>Or, using ES6 syntax:</p>
<pre><code class="language-javascript"><span class="hl-keyword">import</span> {<span class="hl-def">EditorState</span>} <span class="hl-keyword">from</span> <span class="hl-string">&quot;prosemirror-state&quot;</span>
<span class="hl-keyword">let</span> <span class="hl-def">state</span> <span class="hl-operator">=</span> <span class="hl-variable">EditorState</span>.<span class="hl-property">create</span>({<span class="hl-property">schema</span>: <span class="hl-variable">mySchema</span>})
</code></pre>
</section><section id=part_state>
    <h2 class=module id=state>
      <a href="#state">prosemirror-state <span class=kind>module</span></a>
    </h2><p>This module implements the state object of a ProseMirror editor, along
with the representation of the selection and the plugin abstraction.</p>
<h3 id="state.Editor_State"><a href="#state.Editor_State">Editor State</a></h3>
<p>ProseMirror keeps all editor state (the things, basically, that would
be required to create an editor just like the current one) in a single
<a href="#state.EditorState">object</a>. That object is updated (creating a new
state) by applying <a href="#state.Transaction">transactions</a> to it.</p>
<h4 id="state.EditorState">
  <a href="#state.EditorState">EditorState</a> <span class=kind>class</span></h4><p>The state of a ProseMirror editor is represented by an object
of this type. A state is a persistent data structure—it isn't
updated, but rather a new state value is computed from an old one
using the <a href="#state.EditorState.apply"><code>apply</code></a> method.</p>
<p>A state holds a number of built-in fields, and plugins can
<a href="#state.PluginSpec.state">define</a> additional fields.</p>
<dl><dt id="state.EditorState.doc"><code><strong><a href="#state.EditorState.doc">doc</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The current document.</p>
</dd><dt id="state.EditorState.selection"><code><strong><a href="#state.EditorState.selection">selection</a></strong>: <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>The selection.</p>
</dd><dt id="state.EditorState.storedMarks"><code><strong><a href="#state.EditorState.storedMarks">storedMarks</a></strong>: ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>A set of marks to apply to the next input. Will be null when
no explicit marks have been set.</p>
</dd><dt id="state.EditorState.schema"><code><strong><a href="#state.EditorState.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p>The schema of the state's document.</p>
</dd><dt id="state.EditorState.plugins"><code><strong><a href="#state.EditorState.plugins">plugins</a></strong>: [<a href="#state.Plugin"><span class="type">Plugin</span></a>]</code></dt>

<dd><p>The plugins that are active in this state.</p>
</dd><dt id="state.EditorState.apply"><code><strong><a href="#state.EditorState.apply">apply</a></strong>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>) → <a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p>Apply the given transaction to produce a new state.</p>
</dd><dt id="state.EditorState.applyTransaction"><code><strong><a href="#state.EditorState.applyTransaction">applyTransaction</a></strong>(<span class=param>rootTr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>) → {<span class=prop>state: </span><a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=prop>transactions: </span>[<a href="#state.Transaction"><span class="type">Transaction</span></a>]}</code></dt>

<dd><p>Verbose variant of <a href="#state.EditorState.apply"><code>apply</code></a> that
returns the precise transactions that were applied (which might
be influenced by the <a href="#state.PluginSpec.filterTransaction">transaction
hooks</a> of
plugins) along with the new state.</p>
</dd><dt id="state.EditorState.tr"><code><strong><a href="#state.EditorState.tr">tr</a></strong>: <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Start a <a href="#state.Transaction">transaction</a> from this state.</p>
</dd><dt id="state.EditorState.reconfigure"><code><strong><a href="#state.EditorState.reconfigure">reconfigure</a></strong>(<span class=param>config:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p>Create a new state based on this one, but with an adjusted set of
active plugins. State fields that exist in both sets of plugins
are kept unchanged. Those that no longer exist are dropped, and
those that are new are initialized using their
<a href="#state.StateField.init"><code>init</code></a> method, passing in the new
configuration object..</p>
<dl><dt id="state.EditorState.reconfigure^config"><code><strong><a href="#state.EditorState.reconfigure%5Econfig">config</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>configuration options</p>
<dl><dt id="state.EditorState.reconfigure^config.schema"><code><strong><a href="#state.EditorState.reconfigure%5Econfig.schema">schema</a></strong>: ?&#8288;<a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p>New schema to use.</p>
</dd><dl><dt id="state.EditorState.reconfigure^config.plugins"><code><strong><a href="#state.EditorState.reconfigure%5Econfig.plugins">plugins</a></strong>: ?&#8288;[<a href="#state.Plugin"><span class="type">Plugin</span></a>]</code></dt>

<dd><p>New set of active plugins.</p>
</dd></dd></dd><dt id="state.EditorState.toJSON"><code><strong><a href="#state.EditorState.toJSON">toJSON</a></strong>(<span class=param>pluginFields:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#state.Plugin"><span class="type">Plugin</span></a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Serialize this state to JSON. If you want to serialize the state
of plugins, pass an object mapping property names to use in the
resulting JSON object to plugin objects. The argument may also be
a string or number, in which case it is ignored, to support the
way <code>JSON.stringify</code> calls <code>toString</code> methods.</p>
</dd><dt id="state.EditorState^create"><code>static <strong><a href="#state.EditorState%5Ecreate">create</a></strong>(<span class=param>config:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p>Create a new state.</p>
<dl><dt id="state.EditorState^create^config"><code><strong><a href="#state.EditorState%5Ecreate%5Econfig">config</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Configuration options. Must contain <code>schema</code> or <code>doc</code> (or both).</p>
<dl><dt id="state.EditorState^create^config.schema"><code><strong><a href="#state.EditorState%5Ecreate%5Econfig.schema">schema</a></strong>: ?&#8288;<a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p>The schema to use.</p>
</dd><dl><dt id="state.EditorState^create^config.doc"><code><strong><a href="#state.EditorState%5Ecreate%5Econfig.doc">doc</a></strong>: ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The starting document.</p>
</dd><dl><dt id="state.EditorState^create^config.selection"><code><strong><a href="#state.EditorState%5Ecreate%5Econfig.selection">selection</a></strong>: ?&#8288;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>A valid selection in the document.</p>
</dd><dl><dt id="state.EditorState^create^config.storedMarks"><code><strong><a href="#state.EditorState%5Ecreate%5Econfig.storedMarks">storedMarks</a></strong>: ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>The initial set of <a href="#state.EditorState.storedMarks">stored marks</a>.</p>
</dd><dl><dt id="state.EditorState^create^config.plugins"><code><strong><a href="#state.EditorState%5Ecreate%5Econfig.plugins">plugins</a></strong>: ?&#8288;[<a href="#state.Plugin"><span class="type">Plugin</span></a>]</code></dt>

<dd><p>The plugins that should be active in this state.</p>
</dd></dd></dd><dt id="state.EditorState^fromJSON"><code>static <strong><a href="#state.EditorState%5EfromJSON">fromJSON</a></strong>(<span class=param>config:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>json:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>pluginFields:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#state.Plugin"><span class="type">Plugin</span></a>&gt;) → <a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p>Deserialize a JSON representation of a state. <code>config</code> should
have at least a <code>schema</code> field, and should contain array of
plugins to initialize the state with. <code>pluginFields</code> can be used
to deserialize the state of plugins, by associating plugin
instances with the property names they use in the JSON object.</p>
<dl><dt id="state.EditorState^fromJSON^config"><code><strong><a href="#state.EditorState%5EfromJSON%5Econfig">config</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>configuration options</p>
<dl><dt id="state.EditorState^fromJSON^config.schema"><code><strong><a href="#state.EditorState%5EfromJSON%5Econfig.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p>The schema to use.</p>
</dd><dl><dt id="state.EditorState^fromJSON^config.plugins"><code><strong><a href="#state.EditorState%5EfromJSON%5Econfig.plugins">plugins</a></strong>: ?&#8288;[<a href="#state.Plugin"><span class="type">Plugin</span></a>]</code></dt>

<dd><p>The set of active plugins.</p>
</dd></dd></dd></dl>
<h4 id="state.Transaction">
  <a href="#state.Transaction">Transaction</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#transform.Transform"><span class="type">Transform</span></a></code></span></h4><p>An editor state transaction, which can be applied to a state to
create an updated state. Use
<a href="#state.EditorState.tr"><code>EditorState.tr</code></a> to create an instance.</p>
<p>Transactions track changes to the document (they are a subclass of
<a href="#transform.Transform"><code>Transform</code></a>), but also other state changes,
like selection updates and adjustments of the set of <a href="#state.EditorState.storedMarks">stored
marks</a>. In addition, you can store
metadata properties in a transaction, which are extra pieces of
information that client code or plugins can use to describe what a
transacion represents, so that they can update their <a href="#state.StateField">own
state</a> accordingly.</p>
<p>The <a href="#view.EditorView">editor view</a> uses a few metadata properties:
it will attach a property <code>&quot;pointer&quot;</code> with the value <code>true</code> to
selection transactions directly caused by mouse or touch input, and
a <code>&quot;uiEvent&quot;</code> property of that may be <code>&quot;paste&quot;</code>, <code>&quot;cut&quot;</code>, or <code>&quot;drop&quot;</code>.</p>
<dl><dt id="state.Transaction.time"><code><strong><a href="#state.Transaction.time">time</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The timestamp associated with this transaction, in the same
format as <code>Date.now()</code>.</p>
</dd><dt id="state.Transaction.storedMarks"><code><strong><a href="#state.Transaction.storedMarks">storedMarks</a></strong>: ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>The stored marks set by this transaction, if any.</p>
</dd><dt id="state.Transaction.selection"><code><strong><a href="#state.Transaction.selection">selection</a></strong>: <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>The transaction's current selection. This defaults to the editor
selection <a href="#state.Selection.map">mapped</a> through the steps in the
transaction, but can be overwritten with
<a href="#state.Transaction.setSelection"><code>setSelection</code></a>.</p>
</dd><dt id="state.Transaction.setSelection"><code><strong><a href="#state.Transaction.setSelection">setSelection</a></strong>(<span class=param>selection:</span> <a href="#state.Selection"><span class="type">Selection</span></a>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Update the transaction's current selection. Will determine the
selection that the editor gets when the transaction is applied.</p>
</dd><dt id="state.Transaction.selectionSet"><code><strong><a href="#state.Transaction.selectionSet">selectionSet</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Whether the selection was explicitly updated by this transaction.</p>
</dd><dt id="state.Transaction.setStoredMarks"><code><strong><a href="#state.Transaction.setStoredMarks">setStoredMarks</a></strong>(<span class=param>marks:</span> ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Set the current stored marks.</p>
</dd><dt id="state.Transaction.ensureMarks"><code><strong><a href="#state.Transaction.ensureMarks">ensureMarks</a></strong>(<span class=param>marks:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Make sure the current stored marks or, if that is null, the marks
at the selection, match the given set of marks. Does nothing if
this is already the case.</p>
</dd><dt id="state.Transaction.addStoredMark"><code><strong><a href="#state.Transaction.addStoredMark">addStoredMark</a></strong>(<span class=param>mark:</span> <a href="#model.Mark"><span class="type">Mark</span></a>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Add a mark to the set of stored marks.</p>
</dd><dt id="state.Transaction.removeStoredMark"><code><strong><a href="#state.Transaction.removeStoredMark">removeStoredMark</a></strong>(<span class=param>mark:</span> <a href="#model.Mark"><span class="type">Mark</span></a> | <a href="#model.MarkType"><span class="type">MarkType</span></a>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Remove a mark or mark type from the set of stored marks.</p>
</dd><dt id="state.Transaction.storedMarksSet"><code><strong><a href="#state.Transaction.storedMarksSet">storedMarksSet</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Whether the stored marks were explicitly set for this transaction.</p>
</dd><dt id="state.Transaction.setTime"><code><strong><a href="#state.Transaction.setTime">setTime</a></strong>(<span class=param>time:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Update the timestamp for the transaction.</p>
</dd><dt id="state.Transaction.replaceSelection"><code><strong><a href="#state.Transaction.replaceSelection">replaceSelection</a></strong>(<span class=param>slice:</span> <a href="#model.Slice"><span class="type">Slice</span></a>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Replace the current selection with the given slice.</p>
</dd><dt id="state.Transaction.replaceSelectionWith"><code><strong><a href="#state.Transaction.replaceSelectionWith">replaceSelectionWith</a></strong>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>inheritMarks:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Replace the selection with the given node. When <code>inheritMarks</code> is
true and the content is inline, it inherits the marks from the
place where it is inserted.</p>
</dd><dt id="state.Transaction.deleteSelection"><code><strong><a href="#state.Transaction.deleteSelection">deleteSelection</a></strong>() → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Delete the selection.</p>
</dd><dt id="state.Transaction.insertText"><code><strong><a href="#state.Transaction.insertText">insertText</a></strong>(<span class=param>text:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class=param>from:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = from</span>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Replace the given range, or the selection if no range is given,
with a text node containing the given string.</p>
</dd><dt id="state.Transaction.setMeta"><code><strong><a href="#state.Transaction.setMeta">setMeta</a></strong>(<span class=param>key:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="#state.Plugin"><span class="type">Plugin</span></a> | <a href="#state.PluginKey"><span class="type">PluginKey</span></a>, <span class=param>value:</span> <span class="prim">any</span>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Store a metadata property in this transaction, keyed either by
name or by plugin.</p>
</dd><dt id="state.Transaction.getMeta"><code><strong><a href="#state.Transaction.getMeta">getMeta</a></strong>(<span class=param>key:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="#state.Plugin"><span class="type">Plugin</span></a> | <a href="#state.PluginKey"><span class="type">PluginKey</span></a>) → <span class="prim">any</span></code></dt>

<dd><p>Retrieve a metadata property for a given name or plugin.</p>
</dd><dt id="state.Transaction.isGeneric"><code><strong><a href="#state.Transaction.isGeneric">isGeneric</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Returns true if this transaction doesn't contain any metadata,
and can thus safely be extended.</p>
</dd><dt id="state.Transaction.scrollIntoView"><code><strong><a href="#state.Transaction.scrollIntoView">scrollIntoView</a></strong>() → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Indicate that the editor should scroll the selection into view
when updated to the state produced by this transaction.</p>
</dd></dl>
<h3 id="state.Selection"><a href="#state.Selection">Selection</a></h3>
<p>A ProseMirror selection can be one of several types. This module
defines types for classical <a href="#state.TextSelection">text selections</a>
(of which cursors are a special case) and <a href="#state.NodeSelection"><em>node</em>
selections</a>, where a specific document node is
selected. It is possible to extend the editor with custom selection
types.</p>
<h4 id="state.Selection">
  <a href="#state.Selection">Selection</a> <span class=kind>class</span></h4><p>Superclass for editor selections. Every selection type should
extend this. Should not be instantiated directly.</p>
<dl><dt id="state.Selection.constructor"><code>new <strong><a href="#state.Selection.constructor">Selection</a></strong>(<span class=param>$anchor:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>$head:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>ranges:</span> ?&#8288;[<a href="#state.SelectionRange"><span class="type">SelectionRange</span></a>])</code></dt>

<dd><p>Initialize a selection with the head and anchor and ranges. If no
ranges are given, constructs a single range across <code>$anchor</code> and
<code>$head</code>.</p>
</dd><dt id="state.Selection.ranges"><code><strong><a href="#state.Selection.ranges">ranges</a></strong>: [<a href="#state.SelectionRange"><span class="type">SelectionRange</span></a>]</code></dt>

<dd><p>The ranges covered by the selection.</p>
</dd><dt id="state.Selection.$anchor"><code><strong><a href="#state.Selection.$anchor">$anchor</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>The resolved anchor of the selection (the side that stays in
place when the selection is modified).</p>
</dd><dt id="state.Selection.$head"><code><strong><a href="#state.Selection.$head">$head</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>The resolved head of the selection (the side that moves when
the selection is modified).</p>
</dd><dt id="state.Selection.anchor"><code><strong><a href="#state.Selection.anchor">anchor</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The selection's anchor, as an unresolved position.</p>
</dd><dt id="state.Selection.head"><code><strong><a href="#state.Selection.head">head</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The selection's head.</p>
</dd><dt id="state.Selection.from"><code><strong><a href="#state.Selection.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The lower bound of the selection's main range.</p>
</dd><dt id="state.Selection.to"><code><strong><a href="#state.Selection.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The upper bound of the selection's main range.</p>
</dd><dt id="state.Selection.$from"><code><strong><a href="#state.Selection.$from">$from</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>The resolved lower  bound of the selection's main range.</p>
</dd><dt id="state.Selection.$to"><code><strong><a href="#state.Selection.$to">$to</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>The resolved upper bound of the selection's main range.</p>
</dd><dt id="state.Selection.empty"><code><strong><a href="#state.Selection.empty">empty</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Indicates whether the selection contains any content.</p>
</dd><dt id="state.Selection.eq"><code><strong><a href="#state.Selection.eq">eq</a></strong>(<a href="#state.Selection"><span class="type">Selection</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether the selection is the same as another selection.</p>
</dd><dt id="state.Selection.map"><code><strong><a href="#state.Selection.map">map</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>mapping:</span> <a href="#transform.Mappable"><span class="type">Mappable</span></a>) → <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>Map this selection through a <a href="#transform.Mappable">mappable</a> thing. <code>doc</code>
should be the new document to which we are mapping.</p>
</dd><dt id="state.Selection.content"><code><strong><a href="#state.Selection.content">content</a></strong>() → <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p>Get the content of this selection as a slice.</p>
</dd><dt id="state.Selection.replace"><code><strong><a href="#state.Selection.replace">replace</a></strong>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>, <span class=param>content:</span> ?&#8288;<a href="#model.Slice"><span class="type">Slice</span></a><span class=defaultvalue> = Slice.empty</span>)</code></dt>

<dd><p>Replace the selection with a slice or, if no slice is given,
delete the selection. Will append to the given transaction.</p>
</dd><dt id="state.Selection.replaceWith"><code><strong><a href="#state.Selection.replaceWith">replaceWith</a></strong>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>, <span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>)</code></dt>

<dd><p>Replace the selection with the given node, appending the changes
to the given transaction.</p>
</dd><dt id="state.Selection.toJSON"><code><strong><a href="#state.Selection.toJSON">toJSON</a></strong>() → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Convert the selection to a JSON representation. When implementing
this for a custom selection class, make sure to give the object a
<code>type</code> property whose value matches the ID under which you
<a href="#state.Selection%5EjsonID">registered</a> your class.</p>
</dd><dt id="state.Selection.getBookmark"><code><strong><a href="#state.Selection.getBookmark">getBookmark</a></strong>() → <a href="#state.SelectionBookmark"><span class="type">SelectionBookmark</span></a></code></dt>

<dd><p>Get a <a href="#state.SelectionBookmark">bookmark</a> for this selection,
which is a value that can be mapped without having access to a
current document, and later resolved to a real selection for a
given document again. (This is used mostly by the history to
track and restore old selections.) The default implementation of
this method just converts the selection to a text selection and
returns the bookmark for that.</p>
</dd><dt id="state.Selection.visible"><code><strong><a href="#state.Selection.visible">visible</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Controls whether, when a selection of this type is active in the
browser, the selected range should be visible to the user. Defaults
to <code>true</code>.</p>
</dd><dt id="state.Selection^findFrom"><code>static <strong><a href="#state.Selection%5EfindFrom">findFrom</a></strong>(<span class=param>$pos:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>dir:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>textOnly:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → ?&#8288;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>Find a valid cursor or leaf node selection starting at the given
position and searching back if <code>dir</code> is negative, and forward if
positive. When <code>textOnly</code> is true, only consider cursor
selections. Will return null when no valid selection position is
found.</p>
</dd><dt id="state.Selection^near"><code>static <strong><a href="#state.Selection%5Enear">near</a></strong>(<span class=param>$pos:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>bias:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 1</span>) → <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>Find a valid cursor or leaf node selection near the given
position. Searches forward first by default, but if <code>bias</code> is
negative, it will search backwards first.</p>
</dd><dt id="state.Selection^atStart"><code>static <strong><a href="#state.Selection%5EatStart">atStart</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>Find the cursor or leaf node selection closest to the start of
the given document. Will return an
<a href="#state.AllSelection"><code>AllSelection</code></a> if no valid position
exists.</p>
</dd><dt id="state.Selection^atEnd"><code>static <strong><a href="#state.Selection%5EatEnd">atEnd</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>Find the cursor or leaf node selection closest to the end of the
given document.</p>
</dd><dt id="state.Selection^fromJSON"><code>static <strong><a href="#state.Selection%5EfromJSON">fromJSON</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>json:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>Deserialize the JSON representation of a selection. Must be
implemented for custom classes (as a static class method).</p>
</dd><dt id="state.Selection^jsonID"><code>static <strong><a href="#state.Selection%5EjsonID">jsonID</a></strong>(<span class=param>id:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class=param>selectionClass:</span> <span class="prim">constructor</span>&lt;<a href="#state.Selection"><span class="type">Selection</span></a>&gt;)</code></dt>

<dd><p>To be able to deserialize selections from JSON, custom selection
classes must register themselves with an ID string, so that they
can be disambiguated. Try to pick something that's unlikely to
clash with classes from other modules.</p>
</dd></dl>
<h4 id="state.TextSelection">
  <a href="#state.TextSelection">TextSelection</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#state.Selection"><span class="type">Selection</span></a></code></span></h4><p>A text selection represents a classical editor selection, with
a head (the moving side) and anchor (immobile side), both of which
point into textblock nodes. It can be empty (a regular cursor
position).</p>
<dl><dt id="state.TextSelection.constructor"><code>new <strong><a href="#state.TextSelection.constructor">TextSelection</a></strong>(<span class=param>$anchor:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>$head:</span> ?&#8288;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a><span class=defaultvalue> = $anchor</span>)</code></dt>

<dd><p>Construct a text selection between the given points.</p>
</dd><dt id="state.TextSelection.$cursor"><code><strong><a href="#state.TextSelection.$cursor">$cursor</a></strong>: ?&#8288;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>Returns a resolved position if this is a cursor selection (an
empty text selection), and null otherwise.</p>
</dd><dt id="state.TextSelection^create"><code>static <strong><a href="#state.TextSelection%5Ecreate">create</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>anchor:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>head:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = anchor</span>) → <a href="#state.TextSelection"><span class="type">TextSelection</span></a></code></dt>

<dd><p>Create a text selection from non-resolved positions.</p>
</dd><dt id="state.TextSelection^between"><code>static <strong><a href="#state.TextSelection%5Ebetween">between</a></strong>(<span class=param>$anchor:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>$head:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>bias:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>Return a text selection that spans the given positions or, if
they aren't text positions, find a text selection near them.
<code>bias</code> determines whether the method searches forward (default)
or backwards (negative number) first. Will fall back to calling
<a href="#state.Selection%5Enear"><code>Selection.near</code></a> when the document
doesn't contain a valid text position.</p>
</dd></dl>
<h4 id="state.NodeSelection">
  <a href="#state.NodeSelection">NodeSelection</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#state.Selection"><span class="type">Selection</span></a></code></span></h4><p>A node selection is a selection that points at a single node.
All nodes marked <a href="#model.NodeSpec.selectable">selectable</a> can be
the target of a node selection. In such a selection, <code>from</code> and
<code>to</code> point directly before and after the selected node, <code>anchor</code>
equals <code>from</code>, and <code>head</code> equals <code>to</code>..</p>
<dl><dt id="state.NodeSelection.constructor"><code>new <strong><a href="#state.NodeSelection.constructor">NodeSelection</a></strong>(<span class=param>$pos:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>)</code></dt>

<dd><p>Create a node selection. Does not verify the validity of its
argument.</p>
</dd><dt id="state.NodeSelection.node"><code><strong><a href="#state.NodeSelection.node">node</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The selected node.</p>
</dd><dt id="state.NodeSelection^create"><code>static <strong><a href="#state.NodeSelection%5Ecreate">create</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#state.NodeSelection"><span class="type">NodeSelection</span></a></code></dt>

<dd><p>Create a node selection from non-resolved positions.</p>
</dd><dt id="state.NodeSelection^isSelectable"><code>static <strong><a href="#state.NodeSelection%5EisSelectable">isSelectable</a></strong>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Determines whether the given node may be selected as a node
selection.</p>
</dd></dl>
<h4 id="state.AllSelection">
  <a href="#state.AllSelection">AllSelection</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#state.Selection"><span class="type">Selection</span></a></code></span></h4><p>A selection type that represents selecting the whole document
(which can not necessarily be expressed with a text selection, when
there are for example leaf block nodes at the start or end of the
document).</p>
<dl><dt id="state.AllSelection.constructor"><code>new <strong><a href="#state.AllSelection.constructor">AllSelection</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>)</code></dt>

<dd><p>Create an all-selection over the given document.</p>
</dd></dl>
<h4 id="state.SelectionRange">
  <a href="#state.SelectionRange">SelectionRange</a> <span class=kind>class</span></h4><p>Represents a selected range in a document.</p>
<dl><dt id="state.SelectionRange.constructor"><code>new <strong><a href="#state.SelectionRange.constructor">SelectionRange</a></strong>(<span class=param>$from:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>$to:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>)</code></dt>

<dd></dd><dt id="state.SelectionRange.$from"><code><strong><a href="#state.SelectionRange.$from">$from</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>The lower bound of the range.</p>
</dd><dt id="state.SelectionRange.$to"><code><strong><a href="#state.SelectionRange.$to">$to</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>The upper bound of the range.</p>
</dd></dl>
<h4 id="state.SelectionBookmark">
  <a href="#state.SelectionBookmark">SelectionBookmark</a> <span class=kind>interface</span></h4><p>A lightweight, document-independent representation of a selection.
You can define a custom bookmark type for a custom selection class
to make the history handle it well.</p>
<dl><dt id="state.SelectionBookmark.map"><code><strong><a href="#state.SelectionBookmark.map">map</a></strong>(<span class=param>mapping:</span> <a href="#transform.Mapping"><span class="type">Mapping</span></a>) → <a href="#state.SelectionBookmark"><span class="type">SelectionBookmark</span></a></code></dt>

<dd><p>Map the bookmark through a set of changes.</p>
</dd><dt id="state.SelectionBookmark.resolve"><code><strong><a href="#state.SelectionBookmark.resolve">resolve</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>Resolve the bookmark to a real selection again. This may need to
do some error checking and may fall back to a default (usually
<a href="#state.TextSelection%5Ebetween"><code>TextSelection.between</code></a>) if
mapping made the bookmark invalid.</p>
</dd></dl>
<h3 id="state.Plugin_System"><a href="#state.Plugin_System">Plugin System</a></h3>
<p>To make it easy to package and enable extra editor functionality,
ProseMirror has a plugin system.</p>
<h4 id="state.PluginSpec">
  <a href="#state.PluginSpec">PluginSpec</a> <span class=kind>interface</span></h4><p>This is the type passed to the <a href="#state.Plugin"><code>Plugin</code></a>
constructor. It provides a definition for a plugin.</p>
<dl><dt id="state.PluginSpec.props"><code><strong><a href="#state.PluginSpec.props">props</a></strong>: ?&#8288;<a href="#view.EditorProps"><span class="type">EditorProps</span></a></code></dt>

<dd><p>The <a href="#view.EditorProps">view props</a> added by this plugin. Props
that are functions will be bound to have the plugin instance as
their <code>this</code> binding.</p>
</dd><dt id="state.PluginSpec.state"><code><strong><a href="#state.PluginSpec.state">state</a></strong>: ?&#8288;<a href="#state.StateField"><span class="type">StateField</span></a>&lt;<span class="prim">any</span>&gt;</code></dt>

<dd><p>Allows a plugin to define a <a href="#state.StateField">state field</a>, an
extra slot in the state object in which it can keep its own data.</p>
</dd><dt id="state.PluginSpec.key"><code><strong><a href="#state.PluginSpec.key">key</a></strong>: ?&#8288;<a href="#state.PluginKey"><span class="type">PluginKey</span></a></code></dt>

<dd><p>Can be used to make this a keyed plugin. You can have only one
plugin with a given key in a given state, but it is possible to
access the plugin's configuration and state through the key,
without having access to the plugin instance object.</p>
</dd><dt id="state.PluginSpec.view"><code><strong><a href="#state.PluginSpec.view">view</a></strong>: ?&#8288;<span class=fn>fn</span>(<a href="#view.EditorView"><span class="type">EditorView</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>When the plugin needs to interact with the editor view, or
set something up in the DOM, use this field. The function
will be called when the plugin's state is associated with an
editor view.</p>
<dl><dt id="state.PluginSpec.view^returns"><code><strong><a href="#state.PluginSpec.view%5Ereturns">returns</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Should return an object with the following optional
properties:</p>
<dl><dt id="state.PluginSpec.view^returns.update"><code><strong><a href="#state.PluginSpec.view%5Ereturns.update">update</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>prevState:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>)</code></dt>

<dd><p>Called whenever the view's state is updated.</p>
</dd><dl><dt id="state.PluginSpec.view^returns.destroy"><code><strong><a href="#state.PluginSpec.view%5Ereturns.destroy">destroy</a></strong>: ?&#8288;<span class=fn>fn</span>()</code></dt>

<dd><p>Called when the view is destroyed or receives a state
with different plugins.</p>
</dd></dd></dd><dt id="state.PluginSpec.filterTransaction"><code><strong><a href="#state.PluginSpec.filterTransaction">filterTransaction</a></strong>: ?&#8288;<span class=fn>fn</span>(<a href="#state.Transaction"><span class="type">Transaction</span></a>, <a href="#state.EditorState"><span class="type">EditorState</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>When present, this will be called before a transaction is
applied by the state, allowing the plugin to cancel it (by
returning false).</p>
</dd><dt id="state.PluginSpec.appendTransaction"><code><strong><a href="#state.PluginSpec.appendTransaction">appendTransaction</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>transactions:</span> [<a href="#state.Transaction"><span class="type">Transaction</span></a>], <span class=param>oldState:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>newState:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → ?&#8288;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Allows the plugin to append another transaction to be applied
after the given array of transactions. When another plugin
appends a transaction after this was called, it is called again
with the new state and new transactions—but only the new
transactions, i.e. it won't be passed transactions that it
already saw.</p>
</dd></dl>
<h4 id="state.StateField">
  <a href="#state.StateField">StateField</a> <span class=kind>interface</span></h4><p>A plugin spec may provide a state field (under its
<a href="#state.PluginSpec.state"><code>state</code></a> property) of this type, which
describes the state it wants to keep. Functions provided here are
always called with the plugin instance as their <code>this</code> binding.</p>
<dl><dt id="state.StateField.init"><code><strong><a href="#state.StateField.init">init</a></strong>(<span class=param>config:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>instance:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → <span class="prim">T</span></code></dt>

<dd><p>Initialize the value of the field. <code>config</code> will be the object
passed to <a href="#state.EditorState%5Ecreate"><code>EditorState.create</code></a>. Note
that <code>instance</code> is a half-initialized state instance, and will
not have values for plugin fields initialized after this one.</p>
</dd><dt id="state.StateField.apply"><code><strong><a href="#state.StateField.apply">apply</a></strong>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>, <span class=param>value:</span> <span class="prim">T</span>, <span class=param>oldState:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>newState:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → <span class="prim">T</span></code></dt>

<dd><p>Apply the given transaction to this state field, producing a new
field value. Note that the <code>newState</code> argument is again a partially
constructed state does not yet contain the state from plugins
coming after this one.</p>
</dd><dt id="state.StateField.toJSON"><code><strong><a href="#state.StateField.toJSON">toJSON</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>value:</span> <span class="prim">T</span>) → <span class="prim">any</span></code></dt>

<dd><p>Convert this field to JSON. Optional, can be left off to disable
JSON serialization for the field.</p>
</dd><dt id="state.StateField.fromJSON"><code><strong><a href="#state.StateField.fromJSON">fromJSON</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>config:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>value:</span> <span class="prim">any</span>, <span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → <span class="prim">T</span></code></dt>

<dd><p>Deserialize the JSON representation of this field. Note that the
<code>state</code> argument is again a half-initialized state.</p>
</dd></dl>
<h4 id="state.Plugin">
  <a href="#state.Plugin">Plugin</a> <span class=kind>class</span></h4><p>Plugins bundle functionality that can be added to an editor.
They are part of the <a href="#state.EditorState">editor state</a> and
may influence that state and the view that contains it.</p>
<dl><dt id="state.Plugin.constructor"><code>new <strong><a href="#state.Plugin.constructor">Plugin</a></strong>(<span class=param>spec:</span> <a href="#state.PluginSpec"><span class="type">PluginSpec</span></a>)</code></dt>

<dd><p>Create a plugin.</p>
</dd><dt id="state.Plugin.props"><code><strong><a href="#state.Plugin.props">props</a></strong>: <a href="#view.EditorProps"><span class="type">EditorProps</span></a></code></dt>

<dd><p>The <a href="#view.EditorProps">props</a> exported by this plugin.</p>
</dd><dt id="state.Plugin.spec"><code><strong><a href="#state.Plugin.spec">spec</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>The plugin's <a href="#state.PluginSpec">spec object</a>.</p>
</dd><dt id="state.Plugin.getState"><code><strong><a href="#state.Plugin.getState">getState</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → <span class="prim">any</span></code></dt>

<dd><p>Extract the plugin's state field from an editor state.</p>
</dd></dl>
<h4 id="state.PluginKey">
  <a href="#state.PluginKey">PluginKey</a> <span class=kind>class</span></h4><p>A key is used to <a href="#state.PluginSpec.key">tag</a>
plugins in a way that makes it possible to find them, given an
editor state. Assigning a key does mean only one plugin of that
type can be active in a state.</p>
<dl><dt id="state.PluginKey.constructor"><code>new <strong><a href="#state.PluginKey.constructor">PluginKey</a></strong>(<span class=param>name:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a><span class=defaultvalue> = &quot;key&quot;</span>)</code></dt>

<dd><p>Create a plugin key.</p>
</dd><dt id="state.PluginKey.get"><code><strong><a href="#state.PluginKey.get">get</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → ?&#8288;<a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p>Get the active plugin with this key, if any, from an editor
state.</p>
</dd><dt id="state.PluginKey.getState"><code><strong><a href="#state.PluginKey.getState">getState</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → ?&#8288;<span class="prim">any</span></code></dt>

<dd><p>Get the plugin's state from an editor state.</p>
</dd></dl>
</section><section id=part_view>
    <h2 class=module id=view>
      <a href="#view">prosemirror-view <span class=kind>module</span></a>
    </h2><p>ProseMirror's view module displays a given <a href="#state.EditorState">editor
state</a> in the DOM, and handles user events.</p>
<p>Make sure you load <code>style/prosemirror.css</code> as a stylesheet when using
this module.</p>
<h4 id="view.EditorView">
  <a href="#view.EditorView">EditorView</a> <span class=kind>class</span></h4><p>An editor view manages the DOM structure that represents an
editable document. Its state and behavior are determined by its
<a href="#view.DirectEditorProps">props</a>.</p>
<dl><dt id="view.EditorView.constructor"><code>new <strong><a href="#view.EditorView.constructor">EditorView</a></strong>(<span class=param>place:</span> ?&#8288;<a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a> | <span class=fn>fn</span>(<a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>) | {<span class=prop>mount: </span><a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>}, <span class=param>props:</span> <a href="#view.DirectEditorProps"><span class="type">DirectEditorProps</span></a>)</code></dt>

<dd><p>Create a view. <code>place</code> may be a DOM node that the editor should
be appended to, a function that will place it into the document,
or an object whose <code>mount</code> property holds the node to use as the
document container. If it is <code>null</code>, the editor will not be added
to the document.</p>
</dd><dt id="view.EditorView.state"><code><strong><a href="#view.EditorView.state">state</a></strong>: <a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p>The view's current <a href="#state.EditorState">state</a>.</p>
</dd><dt id="view.EditorView.dom"><code><strong><a href="#view.EditorView.dom">dom</a></strong>: <a href="https://developer.mozilla.org/en/docs/DOM/Element"><span class="type">dom.Element</span></a></code></dt>

<dd><p>An editable DOM node containing the document. (You probably
should not directly interfere with its content.)</p>
</dd><dt id="view.EditorView.dragging"><code><strong><a href="#view.EditorView.dragging">dragging</a></strong>: ?&#8288;{<span class=prop>slice: </span><a href="#model.Slice"><span class="type">Slice</span></a>, <span class=prop>move: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>}</code></dt>

<dd><p>When editor content is being dragged, this object contains
information about the dragged slice and whether it is being
copied or moved. At any other time, it is null.</p>
</dd><dt id="view.EditorView.props"><code><strong><a href="#view.EditorView.props">props</a></strong>: <a href="#view.DirectEditorProps"><span class="type">DirectEditorProps</span></a></code></dt>

<dd><p>The view's current <a href="#view.EditorProps">props</a>.</p>
</dd><dt id="view.EditorView.update"><code><strong><a href="#view.EditorView.update">update</a></strong>(<span class=param>props:</span> <a href="#view.DirectEditorProps"><span class="type">DirectEditorProps</span></a>)</code></dt>

<dd><p>Update the view's props. Will immediately cause an update to
the DOM.</p>
</dd><dt id="view.EditorView.setProps"><code><strong><a href="#view.EditorView.setProps">setProps</a></strong>(<span class=param>props:</span> <a href="#view.DirectEditorProps"><span class="type">DirectEditorProps</span></a>)</code></dt>

<dd><p>Update the view by updating existing props object with the object
given as argument. Equivalent to <code>view.update(Object.assign({}, view.props, props))</code>.</p>
</dd><dt id="view.EditorView.updateState"><code><strong><a href="#view.EditorView.updateState">updateState</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>)</code></dt>

<dd><p>Update the editor's <code>state</code> prop, without touching any of the
other props.</p>
</dd><dt id="view.EditorView.someProp"><code><strong><a href="#view.EditorView.someProp">someProp</a></strong>(<span class=param>propName:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class=param>f:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>prop:</span> <span class="prim">any</span>) → <span class="prim">any</span>) → <span class="prim">any</span></code></dt>

<dd><p>Goes over the values of a prop, first those provided directly,
then those from plugins (in order), and calls <code>f</code> every time a
non-undefined value is found. When <code>f</code> returns a truthy value,
that is immediately returned. When <code>f</code> isn't provided, it is
treated as the identity function (the prop value is returned
directly).</p>
</dd><dt id="view.EditorView.hasFocus"><code><strong><a href="#view.EditorView.hasFocus">hasFocus</a></strong>() → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Query whether the view has focus.</p>
</dd><dt id="view.EditorView.focus"><code><strong><a href="#view.EditorView.focus">focus</a></strong>()</code></dt>

<dd><p>Focus the editor.</p>
</dd><dt id="view.EditorView.root"><code><strong><a href="#view.EditorView.root">root</a></strong>: <a href="https://developer.mozilla.org/en/docs/DOM/document"><span class="type">dom.Document</span></a> | <a href="https://developer.mozilla.org/en/docs/DOM/document.createDocumentFragment"><span class="type">dom.DocumentFragment</span></a></code></dt>

<dd><p>Get the document root in which the editor exists. This will
usually be the top-level <code>document</code>, but might be a <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Shadow_DOM">shadow
DOM</a>
root if the editor is inside one.</p>
</dd><dt id="view.EditorView.posAtCoords"><code><strong><a href="#view.EditorView.posAtCoords">posAtCoords</a></strong>(<span class=param>coords:</span> {<span class=prop>left: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=prop>top: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}) → ?&#8288;{<span class=prop>pos: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=prop>inside: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p>Given a pair of viewport coordinates, return the document
position that corresponds to them. May return null if the given
coordinates aren't inside of the visible editor. When an object
is returned, its <code>pos</code> property is the position nearest to the
coordinates, and its <code>inside</code> property holds the position of the
inner node that the position falls inside of, or -1 if it is at
the top level, not in any node.</p>
</dd><dt id="view.EditorView.coordsAtPos"><code><strong><a href="#view.EditorView.coordsAtPos">coordsAtPos</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → {<span class=prop>left: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=prop>right: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=prop>top: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=prop>bottom: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p>Returns the viewport rectangle at a given document position. <code>left</code>
and <code>right</code> will be the same number, as this returns a flat
cursor-ish rectangle.</p>
</dd><dt id="view.EditorView.domAtPos"><code><strong><a href="#view.EditorView.domAtPos">domAtPos</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → {<span class=prop>node: </span><a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>, <span class=prop>offset: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p>Find the DOM position that corresponds to the given document
position. Note that you should <strong>not</strong> mutate the editor's
internal DOM, only inspect it (and even that is usually not
necessary).</p>
</dd><dt id="view.EditorView.nodeDOM"><code><strong><a href="#view.EditorView.nodeDOM">nodeDOM</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a></code></dt>

<dd><p>Find the DOM node that represents the document node after the
given position. May return <code>null</code> when the position doesn't point
in front of a node or if the node is inside an opaque node view.</p>
<p>This is intended to be able to call things like
<code>getBoundingClientRect</code> on that DOM node. Do <strong>not</strong> mutate the
editor DOM directly, or add styling this way, since that will be
immediately overriden by the editor as it redraws the node.</p>
</dd><dt id="view.EditorView.posAtDOM"><code><strong><a href="#view.EditorView.posAtDOM">posAtDOM</a></strong>(<span class=param>node:</span> <a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>, <span class=param>offset:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>bias:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = -1</span>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Find the document position that corresponds to a given DOM
position. (Whenever possible, it is preferable to inspect the
document structure directly, rather than poking around in the
DOM, but sometimes—for example when interpreting an event
target—you don't have a choice.)</p>
<p>The <code>bias</code> parameter can be used to influence which side of a DOM
node to use when the position is inside a leaf node.</p>
</dd><dt id="view.EditorView.endOfTextblock"><code><strong><a href="#view.EditorView.endOfTextblock">endOfTextblock</a></strong>(<span class=param>dir:</span> <span class="string">&quot;up&quot;</span> | <span class="string">&quot;down&quot;</span> | <span class="string">&quot;left&quot;</span> | <span class="string">&quot;right&quot;</span> | <span class="string">&quot;forward&quot;</span> | <span class="string">&quot;backward&quot;</span>, <span class=param>state:</span> ?&#8288;<a href="#state.EditorState"><span class="type">EditorState</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Find out whether the selection is at the end of a textblock when
moving in a given direction. When, for example, given <code>&quot;left&quot;</code>,
it will return true if moving left from the current cursor
position would leave that position's parent textblock. Will apply
to the view's current state by default, but it is possible to
pass a different state.</p>
</dd><dt id="view.EditorView.destroy"><code><strong><a href="#view.EditorView.destroy">destroy</a></strong>()</code></dt>

<dd><p>Removes the editor from the DOM and destroys all <a href="#view.NodeView">node
views</a>.</p>
</dd><dt id="view.EditorView.dispatch"><code><strong><a href="#view.EditorView.dispatch">dispatch</a></strong>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)</code></dt>

<dd><p>Dispatch a transaction. Will call
<a href="#view.DirectEditorProps.dispatchTransaction"><code>dispatchTransaction</code></a>
when given, and otherwise defaults to applying the transaction to
the current state and calling
<a href="#view.EditorView.updateState"><code>updateState</code></a> with the result.
This method is bound to the view instance, so that it can be
easily passed around.</p>
</dd></dl>
<h3 id="view.Props"><a href="#view.Props">Props</a></h3>
<h4 id="view.EditorProps">
  <a href="#view.EditorProps">EditorProps</a> <span class=kind>interface</span></h4><p>Props are configuration values that can be passed to an editor view
or included in a plugin. This interface lists the supported props.</p>
<p>The various event-handling functions may all return <code>true</code> to
indicate that they handled the given event. The view will then take
care to call <code>preventDefault</code> on the event, except with
<code>handleDOMEvents</code>, where the handler itself is responsible for that.</p>
<p>How a prop is resolved depends on the prop. Handler functions are
called one at a time, starting with the base props and then
searching through the plugins (in order of appearance) until one of
them returns true. For some props, the first plugin that yields a
value gets precedence.</p>
<dl><dt id="view.EditorProps.handleDOMEvents"><code><strong><a href="#view.EditorProps.handleDOMEvents">handleDOMEvents</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en-US/docs/DOM/event"><span class="type">dom.Event</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>&gt;</code></dt>

<dd><p>Can be an object mapping DOM event type names to functions that
handle them. Such functions will be called before any handling
ProseMirror does of events fired on the editable DOM element.
Contrary to the other event handling props, when returning true
from such a function, you are responsible for calling
<code>preventDefault</code> yourself (or not, if you want to allow the
default behavior).</p>
</dd><dt id="view.EditorProps.handleKeyDown"><code><strong><a href="#view.EditorProps.handleKeyDown">handleKeyDown</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en/docs/DOM/KeyboardEvent"><span class="type">dom.KeyboardEvent</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called when the editor receives a <code>keydown</code> event.</p>
</dd><dt id="view.EditorProps.handleKeyPress"><code><strong><a href="#view.EditorProps.handleKeyPress">handleKeyPress</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en/docs/DOM/KeyboardEvent"><span class="type">dom.KeyboardEvent</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Handler for <code>keypress</code> events.</p>
</dd><dt id="view.EditorProps.handleTextInput"><code><strong><a href="#view.EditorProps.handleTextInput">handleTextInput</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>text:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Whenever the user directly input text, this handler is called
before the input is applied. If it returns <code>true</code>, the default
behavior of actually inserting the text is suppressed.</p>
</dd><dt id="view.EditorProps.handleClickOn"><code><strong><a href="#view.EditorProps.handleClickOn">handleClickOn</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>nodePos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">dom.MouseEvent</span></a>, <span class=param>direct:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called for each node around a click, from the inside out. The
<code>direct</code> flag will be true for the inner node.</p>
</dd><dt id="view.EditorProps.handleClick"><code><strong><a href="#view.EditorProps.handleClick">handleClick</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">dom.MouseEvent</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called when the editor is clicked, after <code>handleClickOn</code> handlers
have been called.</p>
</dd><dt id="view.EditorProps.handleDoubleClickOn"><code><strong><a href="#view.EditorProps.handleDoubleClickOn">handleDoubleClickOn</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>nodePos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">dom.MouseEvent</span></a>, <span class=param>direct:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called for each node around a double click.</p>
</dd><dt id="view.EditorProps.handleDoubleClick"><code><strong><a href="#view.EditorProps.handleDoubleClick">handleDoubleClick</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">dom.MouseEvent</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called when the editor is double-clicked, after <code>handleDoubleClickOn</code>.</p>
</dd><dt id="view.EditorProps.handleTripleClickOn"><code><strong><a href="#view.EditorProps.handleTripleClickOn">handleTripleClickOn</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>nodePos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">dom.MouseEvent</span></a>, <span class=param>direct:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called for each node around a triple click.</p>
</dd><dt id="view.EditorProps.handleTripleClick"><code><strong><a href="#view.EditorProps.handleTripleClick">handleTripleClick</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">dom.MouseEvent</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called when the editor is triple-clicked, after <code>handleTripleClickOn</code>.</p>
</dd><dt id="view.EditorProps.handlePaste"><code><strong><a href="#view.EditorProps.handlePaste">handlePaste</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en-US/docs/DOM/event"><span class="type">dom.Event</span></a>, <span class=param>slice:</span> <a href="#model.Slice"><span class="type">Slice</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Can be used to override the behavior of pasting. <code>slice</code> is the
pasted content parsed by the editor, but you can directly access
the event to get at the raw content.</p>
</dd><dt id="view.EditorProps.handleDrop"><code><strong><a href="#view.EditorProps.handleDrop">handleDrop</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en-US/docs/DOM/event"><span class="type">dom.Event</span></a>, <span class=param>slice:</span> <a href="#model.Slice"><span class="type">Slice</span></a>, <span class=param>moved:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called when something is dropped on the editor. <code>moved</code> will be
true if this drop moves from the current selection (which should
thus be deleted).</p>
</dd><dt id="view.EditorProps.handleScrollToSelection"><code><strong><a href="#view.EditorProps.handleScrollToSelection">handleScrollToSelection</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called when the view, after updating its state, tries to scroll
the selection into view. A handler function may return false to
indicate that it did not handle the scrolling and further
handlers or the default behavior should be tried.</p>
</dd><dt id="view.EditorProps.createSelectionBetween"><code><strong><a href="#view.EditorProps.createSelectionBetween">createSelectionBetween</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>anchor:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>head:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) → ?&#8288;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p>Can be used to override the way a selection is created when
reading a DOM selection between the given anchor and head.</p>
</dd><dt id="view.EditorProps.domParser"><code><strong><a href="#view.EditorProps.domParser">domParser</a></strong>: ?&#8288;<a href="#model.DOMParser"><span class="type">DOMParser</span></a></code></dt>

<dd><p>The <a href="#model.DOMParser">parser</a> to use when reading editor changes
from the DOM. Defaults to calling
<a href="#model.DOMParser%5EfromSchema"><code>DOMParser.fromSchema</code></a> on the
editor's schema.</p>
</dd><dt id="view.EditorProps.transformPastedHTML"><code><strong><a href="#view.EditorProps.transformPastedHTML">transformPastedHTML</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>html:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>Can be used to transform pasted HTML text, <em>before</em> it is parsed,
for example to clean it up.</p>
</dd><dt id="view.EditorProps.clipboardParser"><code><strong><a href="#view.EditorProps.clipboardParser">clipboardParser</a></strong>: ?&#8288;<a href="#model.DOMParser"><span class="type">DOMParser</span></a></code></dt>

<dd><p>The <a href="#model.DOMParser">parser</a> to use when reading content from
the clipboard. When not given, the value of the
<a href="#view.EditorProps.domParser"><code>domParser</code></a> prop is used.</p>
</dd><dt id="view.EditorProps.transformPastedText"><code><strong><a href="#view.EditorProps.transformPastedText">transformPastedText</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>text:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>Transform pasted plain text.</p>
</dd><dt id="view.EditorProps.clipboardTextParser"><code><strong><a href="#view.EditorProps.clipboardTextParser">clipboardTextParser</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>text:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class=param>$context:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) → <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p>A function to parse text from the clipboard into a document
slice. Called after
<a href="#view.EditorProps.transformPastedText"><code>transformPastedText</code></a>.
The default behavior is to split the text into lines, wrap them
in <code>&lt;p&gt;</code> tags, and call
<a href="#view.EditorProps.clipboardParser"><code>clipboardParser</code></a> on it.</p>
</dd><dt id="view.EditorProps.transformPasted"><code><strong><a href="#view.EditorProps.transformPasted">transformPasted</a></strong>: ?&#8288;<span class=fn>fn</span>(<a href="#model.Slice"><span class="type">Slice</span></a>) → <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p>Can be used to transform pasted content before it is applied to
the document.</p>
</dd><dt id="view.EditorProps.nodeViews"><code><strong><a href="#view.EditorProps.nodeViews">nodeViews</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>getPos:</span> <span class=fn>fn</span>() → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>decorations:</span> [<a href="#view.Decoration"><span class="type">Decoration</span></a>]) → <a href="#view.NodeView"><span class="type">NodeView</span></a>&gt;</code></dt>

<dd><p>Allows you to pass custom rendering and behavior logic for nodes
and marks. Should map node and mark names to constructor
functions that produce a <a href="#view.NodeView"><code>NodeView</code></a> object
implementing the node's display behavior. For nodes, the third
argument <code>getPos</code> is a function that can be called to get the
node's current position, which can be useful when creating
transactions to update it. For marks, the third argument is a
boolean that indicates whether the mark's content is inline.</p>
<p><code>decorations</code> is an array of node or inline decorations that are
active around the node. They are automatically drawn in the
normal way, and you will usually just want to ignore this, but
they can also be used as a way to provide context information to
the node view without adding it to the document itself.</p>
</dd><dt id="view.EditorProps.clipboardSerializer"><code><strong><a href="#view.EditorProps.clipboardSerializer">clipboardSerializer</a></strong>: ?&#8288;<a href="#model.DOMSerializer"><span class="type">DOMSerializer</span></a></code></dt>

<dd><p>The DOM serializer to use when putting content onto the
clipboard. If not given, the result of
<a href="#model.DOMSerializer%5EfromSchema"><code>DOMSerializer.fromSchema</code></a>
will be used.</p>
</dd><dt id="view.EditorProps.clipboardTextSerializer"><code><strong><a href="#view.EditorProps.clipboardTextSerializer">clipboardTextSerializer</a></strong>: ?&#8288;<span class=fn>fn</span>(<a href="#model.Slice"><span class="type">Slice</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>A function that will be called to get the text for the current
selection when copying text to the clipboard. By default, the
editor will use <a href="#model.Node.textBetween"><code>textBetween</code></a> on the
selected range.</p>
</dd><dt id="view.EditorProps.decorations"><code><strong><a href="#view.EditorProps.decorations">decorations</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → ?&#8288;<a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p>A set of <a href="#view.Decoration">document decorations</a> to show in the
view.</p>
</dd><dt id="view.EditorProps.editable"><code><strong><a href="#view.EditorProps.editable">editable</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>When this returns false, the content of the view is not directly
editable.</p>
</dd><dt id="view.EditorProps.attributes"><code><strong><a href="#view.EditorProps.attributes">attributes</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>&gt; | <span class=fn>fn</span>(<a href="#state.EditorState"><span class="type">EditorState</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>&gt;</code></dt>

<dd><p>Control the DOM attributes of the editable element. May be either
an object or a function going from an editor state to an object.
By default, the element will get a class <code>&quot;ProseMirror&quot;</code>, and
will have its <code>contentEditable</code> attribute determined by the
<a href="#view.EditorProps.editable"><code>editable</code> prop</a>. Additional classes
provided here will be added to the class. For other attributes,
the value provided first (as in
<a href="#view.EditorView.someProp"><code>someProp</code></a>) will be used.</p>
</dd><dt id="view.EditorProps.scrollThreshold"><code><strong><a href="#view.EditorProps.scrollThreshold">scrollThreshold</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>| {top: number, right: number, bottom: number, left: number}
Determines the distance (in pixels) between the cursor and the
end of the visible viewport at which point, when scrolling the
cursor into view, scrolling takes place. Defaults to 0.</p>
</dd><dt id="view.EditorProps.scrollMargin"><code><strong><a href="#view.EditorProps.scrollMargin">scrollMargin</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>| {top: number, right: number, bottom: number, left: number}
Determines the extra space (in pixels) that is left above or
below the cursor when it is scrolled into view. Defaults to 5.</p>
</dd></dl>
<h4 id="view.DirectEditorProps">
  <a href="#view.DirectEditorProps">DirectEditorProps</a> <span class=kind>interface</span> <span class=extends>extends <code><a href="#view.EditorProps"><span class="type">EditorProps</span></a></code></span></h4><p>The props object given directly to the editor view supports two
fields that can't be used in plugins:</p>
<dl><dt id="view.DirectEditorProps.state"><code><strong><a href="#view.DirectEditorProps.state">state</a></strong>: <a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p>The current state of the editor.</p>
</dd><dt id="view.DirectEditorProps.dispatchTransaction"><code><strong><a href="#view.DirectEditorProps.dispatchTransaction">dispatchTransaction</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)</code></dt>

<dd><p>The callback over which to send transactions (state updates)
produced by the view. If you specify this, you probably want to
make sure this ends up calling the view's
<a href="#view.EditorView.updateState"><code>updateState</code></a> method with a new
state that has the transaction
<a href="#state.EditorState.apply">applied</a>. The callback will be bound to have
the view instance as its <code>this</code> binding.</p>
</dd></dl>
<h4 id="view.NodeView">
  <a href="#view.NodeView">NodeView</a> <span class=kind>interface</span></h4><p>By default, document nodes are rendered using the result of the
<a href="#model.NodeSpec.toDOM"><code>toDOM</code></a> method of their spec, and managed
entirely by the editor. For some use cases, such as embedded
node-specific editing interfaces, you want more control over
the behavior of a node's in-editor representation, and need to
<a href="#view.EditorProps.nodeViews">define</a> a custom node view.</p>
<p>Objects returned as node views must conform to this interface.</p>
<dl><dt id="view.NodeView.dom"><code><strong><a href="#view.NodeView.dom">dom</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a></code></dt>

<dd><p>The outer DOM node that represents the document node. When not
given, the default strategy is used to create a DOM node.</p>
</dd><dt id="view.NodeView.contentDOM"><code><strong><a href="#view.NodeView.contentDOM">contentDOM</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a></code></dt>

<dd><p>The DOM node that should hold the node's content. Only meaningful
if the node view also defines a <code>dom</code> property and if its node
type is not a leaf node type. When this is present, ProseMirror
will take care of rendering the node's children into it. When it
is not present, the node view itself is responsible for rendering
(or deciding not to render) its child nodes.</p>
</dd><dt id="view.NodeView.update"><code><strong><a href="#view.NodeView.update">update</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>decorations:</span> [<a href="#view.Decoration"><span class="type">Decoration</span></a>]) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>When given, this will be called when the view is updating itself.
It will be given a node (possibly of a different type), and an
array of active decorations (which are automatically drawn, and
the node view may ignore if it isn't interested in them), and
should return true if it was able to update to that node, and
false otherwise. If the node view has a <code>contentDOM</code> property (or
no <code>dom</code> property), updating its child nodes will be handled by
ProseMirror.</p>
</dd><dt id="view.NodeView.selectNode"><code><strong><a href="#view.NodeView.selectNode">selectNode</a></strong>: ?&#8288;<span class=fn>fn</span>()</code></dt>

<dd><p>Can be used to override the way the node's selected status (as a
node selection) is displayed.</p>
</dd><dt id="view.NodeView.deselectNode"><code><strong><a href="#view.NodeView.deselectNode">deselectNode</a></strong>: ?&#8288;<span class=fn>fn</span>()</code></dt>

<dd><p>When defining a <code>selectNode</code> method, you should also provide a
<code>deselectNode</code> method to remove the effect again.</p>
</dd><dt id="view.NodeView.setSelection"><code><strong><a href="#view.NodeView.setSelection">setSelection</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>anchor:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>head:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>root:</span> <a href="https://developer.mozilla.org/en/docs/DOM/document"><span class="type">dom.Document</span></a>)</code></dt>

<dd><p>This will be called to handle setting the selection inside the
node. The <code>anchor</code> and <code>head</code> positions are relative to the start
of the node. By default, a DOM selection will be created between
the DOM positions corresponding to those positions, but if you
override it you can do something else.</p>
</dd><dt id="view.NodeView.stopEvent"><code><strong><a href="#view.NodeView.stopEvent">stopEvent</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>event:</span> <a href="https://developer.mozilla.org/en-US/docs/DOM/event"><span class="type">dom.Event</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Can be used to prevent the editor view from trying to handle some
or all DOM events that bubble up from the node view. Events for
which this returns true are not handled by the editor.</p>
</dd><dt id="view.NodeView.ignoreMutation"><code><strong><a href="#view.NodeView.ignoreMutation">ignoreMutation</a></strong>: ?&#8288;<span class=fn>fn</span>(<a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationRecord"><span class="type">dom.MutationRecord</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Called when a DOM
<a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver">mutation</a>
happens within the view. Return false if the editor should
re-parse the range around the mutation, true if it can safely be
ignored.</p>
</dd><dt id="view.NodeView.destroy"><code><strong><a href="#view.NodeView.destroy">destroy</a></strong>: ?&#8288;<span class=fn>fn</span>()</code></dt>

<dd><p>Called when the node view is removed from the editor or the whole
editor is destroyed.</p>
</dd></dl>
<h3 id="view.Decorations"><a href="#view.Decorations">Decorations</a></h3>
<p>Decorations make it possible to influence the way the document is
drawn, without actually changing the document.</p>
<h4 id="view.Decoration">
  <a href="#view.Decoration">Decoration</a> <span class=kind>class</span></h4><p>Decoration objects can be provided to the view through the
<a href="#view.EditorProps.decorations"><code>decorations</code> prop</a>. They come in
several variants—see the static members of this class for details.</p>
<dl><dt id="view.Decoration.from"><code><strong><a href="#view.Decoration.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The start position of the decoration.</p>
</dd><dt id="view.Decoration.to"><code><strong><a href="#view.Decoration.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The end position. Will be the same as <code>from</code> for <a href="#view.Decoration%5Ewidget">widget
decorations</a>.</p>
</dd><dt id="view.Decoration.spec"><code><strong><a href="#view.Decoration.spec">spec</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>The spec provided when creating this decoration. Can be useful
if you've stored extra information in that object.</p>
</dd><dt id="view.Decoration^widget"><code>static <strong><a href="#view.Decoration%5Ewidget">widget</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>toDOM:</span> <span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>getPos:</span> <span class=fn>fn</span>() → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a> | <a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>, <span class=param>spec:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#view.Decoration"><span class="type">Decoration</span></a></code></dt>

<dd><p>Creates a widget decoration, which is a DOM node that's shown in
the document at the given position. It is recommended that you
delay rendering the widget by passing a function that will be
called when the widget is actually drawn in a view, but you can
also directly pass a DOM node. <code>getPos</code> can be used to find the
widget's current document position.</p>
<dl><dt id="view.Decoration^widget^spec"><code><strong><a href="#view.Decoration%5Ewidget%5Espec">spec</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>These options are supported:</p>
<dl><dt id="view.Decoration^widget^spec.side"><code><strong><a href="#view.Decoration%5Ewidget%5Espec.side">side</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Controls which side of the document position this widget is
associated with. When negative, it is drawn before a cursor
at its position, and content inserted at that position ends
up after the widget. When zero (the default) or positive, the
widget is drawn after the cursor and content inserted there
ends up before the widget.</p>
<p>When there are multiple widgets at a given position, their
<code>side</code> values determine the order in which they appear. Those
with lower values appear first. The ordering of widgets with
the same <code>side</code> value is unspecified.</p>
<p>When <code>marks</code> is null, <code>side</code> also determines the marks that
the widget is wrapped in—those of the node before when
negative, those of the node after when positive.</p>
</dd><dl><dt id="view.Decoration^widget^spec.marks"><code><strong><a href="#view.Decoration%5Ewidget%5Espec.marks">marks</a></strong>: ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>The precise set of marks to draw around the widget.</p>
</dd><dl><dt id="view.Decoration^widget^spec.stopEvent"><code><strong><a href="#view.Decoration%5Ewidget%5Espec.stopEvent">stopEvent</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>event:</span> <a href="https://developer.mozilla.org/en-US/docs/DOM/event"><span class="type">dom.Event</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Can be used to control which DOM events, when they bubble out
of this widget, the editor view should ignore.</p>
</dd><dl><dt id="view.Decoration^widget^spec.key"><code><strong><a href="#view.Decoration%5Ewidget%5Espec.key">key</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>When comparing decorations of this type (in order to decide
whether it needs to be redrawn), ProseMirror will by default
compare the widget DOM node by identity. If you pass a key,
that key will be compared instead, which can be useful when
you generate decorations on the fly and don't want to store
and reuse DOM nodes. Make sure that any widgets with the same
key are interchangeable—if widgets differ in, for example,
the behavior of some event handler, they should get
different keys.</p>
</dd></dd></dd><dt id="view.Decoration^inline"><code>static <strong><a href="#view.Decoration%5Einline">inline</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>attrs:</span> <a href="#view.DecorationAttrs"><span class="type">DecorationAttrs</span></a>, <span class=param>spec:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#view.Decoration"><span class="type">Decoration</span></a></code></dt>

<dd><p>Creates an inline decoration, which adds the given attributes to
each inline node between <code>from</code> and <code>to</code>.</p>
<dl><dt id="view.Decoration^inline^spec"><code><strong><a href="#view.Decoration%5Einline%5Espec">spec</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>These options are recognized:</p>
<dl><dt id="view.Decoration^inline^spec.inclusiveStart"><code><strong><a href="#view.Decoration%5Einline%5Espec.inclusiveStart">inclusiveStart</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Determines how the left side of the decoration is
<a href="#transform.Position_Mapping">mapped</a> when content is
inserted directly at that position. By default, the decoration
won't include the new content, but you can set this to <code>true</code>
to make it inclusive.</p>
</dd><dl><dt id="view.Decoration^inline^spec.inclusiveEnd"><code><strong><a href="#view.Decoration%5Einline%5Espec.inclusiveEnd">inclusiveEnd</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Determines how the right side of the decoration is mapped.
See
<a href="#view.Decoration%5Einline%5Espec.inclusiveStart"><code>inclusiveStart</code></a>.</p>
</dd></dd></dd><dt id="view.Decoration^node"><code>static <strong><a href="#view.Decoration%5Enode">node</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>attrs:</span> <a href="#view.DecorationAttrs"><span class="type">DecorationAttrs</span></a>, <span class=param>spec:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#view.Decoration"><span class="type">Decoration</span></a></code></dt>

<dd><p>Creates a node decoration. <code>from</code> and <code>to</code> should point precisely
before and after a node in the document. That node, and only that
node, will receive the given attributes.</p>
</dd></dl>
<h4 id="view.DecorationAttrs">
  <a href="#view.DecorationAttrs">DecorationAttrs</a> <span class=kind>interface</span></h4><p>A set of attributes to add to a decorated node. Most properties
simply directly correspond to DOM attributes of the same name,
which will be set to the property's value. These are exceptions:</p>
<dl><dt id="view.DecorationAttrs.class"><code><strong><a href="#view.DecorationAttrs.class">class</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>A CSS class name or a space-separated set of class names to be
<em>added</em> to the classes that the node already had.</p>
</dd><dt id="view.DecorationAttrs.style"><code><strong><a href="#view.DecorationAttrs.style">style</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>A string of CSS to be <em>added</em> to the node's existing <code>style</code> property.</p>
</dd><dt id="view.DecorationAttrs.nodeName"><code><strong><a href="#view.DecorationAttrs.nodeName">nodeName</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>When non-null, the target node is wrapped in a DOM element of
this type (and the other attributes are applied to this element).</p>
</dd></dl>
<h4 id="view.DecorationSet">
  <a href="#view.DecorationSet">DecorationSet</a> <span class=kind>class</span></h4><p>A collection of <a href="#view.Decoration">decorations</a>, organized in
such a way that the drawing algorithm can efficiently use and
compare them. This is a persistent data structure—it is not
modified, updates create a new value.</p>
<dl><dt id="view.DecorationSet.find"><code><strong><a href="#view.DecorationSet.find">find</a></strong>(<span class=param>start:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>end:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>predicate:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>spec:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → [<a href="#view.Decoration"><span class="type">Decoration</span></a>]</code></dt>

<dd><p>Find all decorations in this set which touch the given range
(including decorations that start or end directly at the
boundaries) and match the given predicate on their spec. When
<code>start</code> and <code>end</code> are omitted, all decorations in the set are
considered. When <code>predicate</code> isn't given, all decorations are
asssumed to match.</p>
</dd><dt id="view.DecorationSet.map"><code><strong><a href="#view.DecorationSet.map">map</a></strong>(<span class=param>mapping:</span> <a href="#transform.Mapping"><span class="type">Mapping</span></a>, <span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>options:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p>Map the set of decorations in response to a change in the
document.</p>
<dl><dt id="view.DecorationSet.map^options"><code><strong><a href="#view.DecorationSet.map%5Eoptions">options</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>An optional set of options.</p>
<dl><dt id="view.DecorationSet.map^options.onRemove"><code><strong><a href="#view.DecorationSet.map%5Eoptions.onRemove">onRemove</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>decorationSpec:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>)</code></dt>

<dd><p>When given, this function will be called for each decoration
that gets dropped as a result of the mapping, passing the
spec of that decoration.</p>
</dd></dd></dd><dt id="view.DecorationSet.add"><code><strong><a href="#view.DecorationSet.add">add</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>decorations:</span> [<a href="#view.Decoration"><span class="type">Decoration</span></a>]) → <a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p>Add the given array of decorations to the ones in the set,
producing a new set. Needs access to the current document to
create the appropriate tree structure.</p>
</dd><dt id="view.DecorationSet.remove"><code><strong><a href="#view.DecorationSet.remove">remove</a></strong>(<span class=param>decorations:</span> [<a href="#view.Decoration"><span class="type">Decoration</span></a>]) → <a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p>Create a new set that contains the decorations in this set, minus
the ones in the given array.</p>
</dd><dt id="view.DecorationSet^create"><code>static <strong><a href="#view.DecorationSet%5Ecreate">create</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>decorations:</span> [<a href="#view.Decoration"><span class="type">Decoration</span></a>]) → <a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p>Create a set of decorations, using the structure of the given
document.</p>
</dd><dt id="view.DecorationSet^empty"><code>static <strong><a href="#view.DecorationSet%5Eempty">empty</a></strong>: <a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p>The empty set of decorations.</p>
</dd></dl>
</section><section id=part_model>
    <h2 class=module id=model>
      <a href="#model">prosemirror-model <span class=kind>module</span></a>
    </h2><p>This module defines ProseMirror's content model, the data structures
used to represent and work with documents.</p>
<h3 id="model.Document_Structure"><a href="#model.Document_Structure">Document Structure</a></h3>
<p>A ProseMirror document is a tree. At each level, a <a href="#model.Node">node</a>
describes the type of the content, and holds a
<a href="#model.Fragment">fragment</a> containing its children.</p>
<h4 id="model.Node">
  <a href="#model.Node">Node</a> <span class=kind>class</span></h4><p>This class represents a node in the tree that makes up a
ProseMirror document. So a document is an instance of <code>Node</code>, with
children that are also instances of <code>Node</code>.</p>
<p>Nodes are persistent data structures. Instead of changing them, you
create new ones with the content you want. Old ones keep pointing
at the old document shape. This is made cheaper by sharing
structure between the old and new data as much as possible, which a
tree shape like this (without back pointers) makes easy.</p>
<p><strong>Do not</strong> directly mutate the properties of a <code>Node</code> object. See
<a href="../guide/index.html#doc">the guide</a> for more information.</p>
<dl><dt id="model.Node.type"><code><strong><a href="#model.Node.type">type</a></strong>: <a href="#model.NodeType"><span class="type">NodeType</span></a></code></dt>

<dd><p>The type of node that this is.</p>
</dd><dt id="model.Node.attrs"><code><strong><a href="#model.Node.attrs">attrs</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>An object mapping attribute names to values. The kind of
attributes allowed and required are
<a href="#model.NodeSpec.attrs">determined</a> by the node type.</p>
</dd><dt id="model.Node.content"><code><strong><a href="#model.Node.content">content</a></strong>: <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>A container holding the node's children.</p>
</dd><dt id="model.Node.marks"><code><strong><a href="#model.Node.marks">marks</a></strong>: [<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>The marks (things like whether it is emphasized or part of a
link) applied to this node.</p>
</dd><dt id="model.Node.text"><code><strong><a href="#model.Node.text">text</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>For text nodes, this contains the node's text content.</p>
</dd><dt id="model.Node.nodeSize"><code><strong><a href="#model.Node.nodeSize">nodeSize</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The size of this node, as defined by the integer-based <a href="../guide/index.html#doc.indexing">indexing
scheme</a>. For text nodes, this is the
amount of characters. For other leaf nodes, it is one. For
non-leaf nodes, it is the size of the content plus two (the start
and end token).</p>
</dd><dt id="model.Node.childCount"><code><strong><a href="#model.Node.childCount">childCount</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The number of children that the node has.</p>
</dd><dt id="model.Node.child"><code><strong><a href="#model.Node.child">child</a></strong>(<span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Get the child node at the given index. Raises an error when the
index is out of range.</p>
</dd><dt id="model.Node.maybeChild"><code><strong><a href="#model.Node.maybeChild">maybeChild</a></strong>(<span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Get the child node at the given index, if it exists.</p>
</dd><dt id="model.Node.forEach"><code><strong><a href="#model.Node.forEach">forEach</a></strong>(<span class=param>f:</span> <span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>offset:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>))</code></dt>

<dd><p>Call <code>f</code> for every child node, passing the node, its offset
into this parent node, and its index.</p>
</dd><dt id="model.Node.nodesBetween"><code><strong><a href="#model.Node.nodesBetween">nodesBetween</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>f:</span> <span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>parent:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>, <span class=param>startPos:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 0</span>)</code></dt>

<dd><p>Invoke a callback for all descendant nodes recursively between
the given two positions that are relative to start of this node's
content. The callback is invoked with the node, its
parent-relative position, its parent node, and its child index.
When the callback returns false for a given node, that node's
children will not be recursed over. The last parameter can be
used to specify a starting position to count from.</p>
</dd><dt id="model.Node.descendants"><code><strong><a href="#model.Node.descendants">descendants</a></strong>(<span class=param>f:</span> <span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>parent:</span> <a href="#model.Node"><span class="type">Node</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>)</code></dt>

<dd><p>Call the given callback for every descendant node. Doesn't
descend into a node when the callback returns <code>false</code>.</p>
</dd><dt id="model.Node.textContent"><code><strong><a href="#model.Node.textContent">textContent</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>Concatenates all the text nodes found in this fragment and its
children.</p>
</dd><dt id="model.Node.textBetween"><code><strong><a href="#model.Node.textBetween">textBetween</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>blockSeparator:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class=param>leafText:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>Get all text between positions <code>from</code> and <code>to</code>. When
<code>blockSeparator</code> is given, it will be inserted whenever a new
block node is started. When <code>leafText</code> is given, it'll be
inserted for every non-text leaf node encountered.</p>
</dd><dt id="model.Node.firstChild"><code><strong><a href="#model.Node.firstChild">firstChild</a></strong>: ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Returns this node's first child, or <code>null</code> if there are no
children.</p>
</dd><dt id="model.Node.lastChild"><code><strong><a href="#model.Node.lastChild">lastChild</a></strong>: ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Returns this node's last child, or <code>null</code> if there are no
children.</p>
</dd><dt id="model.Node.eq"><code><strong><a href="#model.Node.eq">eq</a></strong>(<span class=param>other:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether two nodes represent the same piece of document.</p>
</dd><dt id="model.Node.sameMarkup"><code><strong><a href="#model.Node.sameMarkup">sameMarkup</a></strong>(<span class=param>other:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Compare the markup (type, attributes, and marks) of this node to
those of another. Returns <code>true</code> if both have the same markup.</p>
</dd><dt id="model.Node.hasMarkup"><code><strong><a href="#model.Node.hasMarkup">hasMarkup</a></strong>(<span class=param>type:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>marks:</span> ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Check whether this node's markup correspond to the given type,
attributes, and marks.</p>
</dd><dt id="model.Node.copy"><code><strong><a href="#model.Node.copy">copy</a></strong>(<span class=param>content:</span> ?&#8288;<a href="#model.Fragment"><span class="type">Fragment</span></a><span class=defaultvalue> = null</span>) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Create a new node with the same markup as this node, containing
the given content (or empty, if no content is given).</p>
</dd><dt id="model.Node.mark"><code><strong><a href="#model.Node.mark">mark</a></strong>(<span class=param>marks:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Create a copy of this node, with the given set of marks instead
of the node's own marks.</p>
</dd><dt id="model.Node.cut"><code><strong><a href="#model.Node.cut">cut</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Create a copy of this node with only the content between the
given positions. If <code>to</code> is not given, it defaults to the end of
the node.</p>
</dd><dt id="model.Node.slice"><code><strong><a href="#model.Node.slice">slice</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = this.content.size</span>) → <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p>Cut out the part of the document between the given positions, and
return it as a <code>Slice</code> object.</p>
</dd><dt id="model.Node.replace"><code><strong><a href="#model.Node.replace">replace</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>slice:</span> <a href="#model.Slice"><span class="type">Slice</span></a>) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Replace the part of the document between the given positions with
the given slice. The slice must 'fit', meaning its open sides
must be able to connect to the surrounding content, and its
content nodes must be valid children for the node they are placed
into. If any of this is violated, an error of type
<a href="#model.ReplaceError"><code>ReplaceError</code></a> is thrown.</p>
</dd><dt id="model.Node.nodeAt"><code><strong><a href="#model.Node.nodeAt">nodeAt</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Find the node directly after the given position.</p>
</dd><dt id="model.Node.childAfter"><code><strong><a href="#model.Node.childAfter">childAfter</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → {<span class=prop>node: </span>?&#8288;<a href="#model.Node"><span class="type">Node</span></a>, <span class=prop>index: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=prop>offset: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p>Find the (direct) child node after the given offset, if any,
and return it along with its index and offset relative to this
node.</p>
</dd><dt id="model.Node.childBefore"><code><strong><a href="#model.Node.childBefore">childBefore</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → {<span class=prop>node: </span>?&#8288;<a href="#model.Node"><span class="type">Node</span></a>, <span class=prop>index: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=prop>offset: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p>Find the (direct) child node before the given offset, if any,
and return it along with its index and offset relative to this
node.</p>
</dd><dt id="model.Node.resolve"><code><strong><a href="#model.Node.resolve">resolve</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>Resolve the given position in the document, returning an
<a href="#model.ResolvedPos">object</a> with information about its context.</p>
</dd><dt id="model.Node.rangeHasMark"><code><strong><a href="#model.Node.rangeHasMark">rangeHasMark</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>type:</span> <a href="#model.MarkType"><span class="type">MarkType</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether a mark of the given type occurs in this document
between the two given positions.</p>
</dd><dt id="model.Node.isBlock"><code><strong><a href="#model.Node.isBlock">isBlock</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when this is a block (non-inline node)</p>
</dd><dt id="model.Node.isTextblock"><code><strong><a href="#model.Node.isTextblock">isTextblock</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when this is a textblock node, a block node with inline
content.</p>
</dd><dt id="model.Node.inlineContent"><code><strong><a href="#model.Node.inlineContent">inlineContent</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when this node allows inline content.</p>
</dd><dt id="model.Node.isInline"><code><strong><a href="#model.Node.isInline">isInline</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when this is an inline node (a text node or a node that can
appear among text).</p>
</dd><dt id="model.Node.isText"><code><strong><a href="#model.Node.isText">isText</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when this is a text node.</p>
</dd><dt id="model.Node.isLeaf"><code><strong><a href="#model.Node.isLeaf">isLeaf</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when this is a leaf node.</p>
</dd><dt id="model.Node.isAtom"><code><strong><a href="#model.Node.isAtom">isAtom</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when this is an atom, i.e. when it does not have directly
editable content. This is usually the same as <code>isLeaf</code>, but can
be configured with the <a href="#model.NodeSpec.atom"><code>atom</code> property</a> on
a node's spec (typically used when the node is displayed as an
uneditable <a href="#view.NodeView">node view</a>).</p>
</dd><dt id="model.Node.toString"><code><strong><a href="#model.Node.toString">toString</a></strong>() → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>Return a string representation of this node for debugging
purposes.</p>
</dd><dt id="model.Node.contentMatchAt"><code><strong><a href="#model.Node.contentMatchAt">contentMatchAt</a></strong>(<span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#model.ContentMatch"><span class="type">ContentMatch</span></a></code></dt>

<dd><p>Get the content match in this node at the given index.</p>
</dd><dt id="model.Node.canReplace"><code><strong><a href="#model.Node.canReplace">canReplace</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>replacement:</span> ?&#8288;<a href="#model.Fragment"><span class="type">Fragment</span></a><span class=defaultvalue> = Fragment.empty</span>, <span class=param>start:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 0</span>, <span class=param>end:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether replacing the range between <code>from</code> and <code>to</code> (by
child index) with the given replacement fragment (which defaults
to the empty fragment) would leave the node's content valid. You
can optionally pass <code>start</code> and <code>end</code> indices into the
replacement fragment.</p>
</dd><dt id="model.Node.canReplaceWith"><code><strong><a href="#model.Node.canReplaceWith">canReplaceWith</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>type:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>marks:</span> ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether replacing the range <code>from</code> to <code>to</code> (by index) with a
node of the given type would leave the node's content valid.</p>
</dd><dt id="model.Node.canAppend"><code><strong><a href="#model.Node.canAppend">canAppend</a></strong>(<span class=param>other:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether the given node's content could be appended to this
node. If that node is empty, this will only return true if there
is at least one node type that can appear in both nodes (to avoid
merging completely incompatible nodes).</p>
</dd><dt id="model.Node.check"><code><strong><a href="#model.Node.check">check</a></strong>()</code></dt>

<dd><p>Check whether this node and its descendants conform to the
schema, and raise error when they do not.</p>
</dd><dt id="model.Node.toJSON"><code><strong><a href="#model.Node.toJSON">toJSON</a></strong>() → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Return a JSON-serializeable representation of this node.</p>
</dd><dt id="model.Node^fromJSON"><code>static <strong><a href="#model.Node%5EfromJSON">fromJSON</a></strong>(<span class=param>schema:</span> <a href="#model.Schema"><span class="type">Schema</span></a>, <span class=param>json:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Deserialize a node from its JSON representation.</p>
</dd></dl>
<h4 id="model.Fragment">
  <a href="#model.Fragment">Fragment</a> <span class=kind>class</span></h4><p>A fragment represents a node's collection of child nodes.</p>
<p>Like nodes, fragments are persistent data structures, and you
should not mutate them or their content. Rather, you create new
instances whenever needed. The API tries to make this easy.</p>
<dl><dt id="model.Fragment.size"><code><strong><a href="#model.Fragment.size">size</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The size of the fragment, which is the total of the size of its
content nodes.</p>
</dd><dt id="model.Fragment.nodesBetween"><code><strong><a href="#model.Fragment.nodesBetween">nodesBetween</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>f:</span> <span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>start:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>parent:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>, <span class=param>nodeStart:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 0</span>)</code></dt>

<dd><p>Invoke a callback for all descendant nodes between the given two
positions (relative to start of this fragment). Doesn't descend
into a node when the callback returns <code>false</code>.</p>
</dd><dt id="model.Fragment.descendants"><code><strong><a href="#model.Fragment.descendants">descendants</a></strong>(<span class=param>f:</span> <span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>parent:</span> <a href="#model.Node"><span class="type">Node</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>)</code></dt>

<dd><p>Call the given callback for every descendant node. The callback
may return <code>false</code> to prevent traversal of a given node's children.</p>
</dd><dt id="model.Fragment.append"><code><strong><a href="#model.Fragment.append">append</a></strong>(<span class=param>other:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>) → <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>Create a new fragment containing the combined content of this
fragment and the other.</p>
</dd><dt id="model.Fragment.cut"><code><strong><a href="#model.Fragment.cut">cut</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>Cut out the sub-fragment between the two given positions.</p>
</dd><dt id="model.Fragment.replaceChild"><code><strong><a href="#model.Fragment.replaceChild">replaceChild</a></strong>(<span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>Create a new fragment in which the node at the given index is
replaced by the given node.</p>
</dd><dt id="model.Fragment.eq"><code><strong><a href="#model.Fragment.eq">eq</a></strong>(<span class=param>other:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Compare this fragment to another one.</p>
</dd><dt id="model.Fragment.firstChild"><code><strong><a href="#model.Fragment.firstChild">firstChild</a></strong>: ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The first child of the fragment, or <code>null</code> if it is empty.</p>
</dd><dt id="model.Fragment.lastChild"><code><strong><a href="#model.Fragment.lastChild">lastChild</a></strong>: ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The last child of the fragment, or <code>null</code> if it is empty.</p>
</dd><dt id="model.Fragment.childCount"><code><strong><a href="#model.Fragment.childCount">childCount</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The number of child nodes in this fragment.</p>
</dd><dt id="model.Fragment.child"><code><strong><a href="#model.Fragment.child">child</a></strong>(<span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Get the child node at the given index. Raise an error when the
index is out of range.</p>
</dd><dt id="model.Fragment.maybeChild"><code><strong><a href="#model.Fragment.maybeChild">maybeChild</a></strong>(<span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Get the child node at the given index, if it exists.</p>
</dd><dt id="model.Fragment.forEach"><code><strong><a href="#model.Fragment.forEach">forEach</a></strong>(<span class=param>f:</span> <span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>offset:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>index:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>))</code></dt>

<dd><p>Call <code>f</code> for every child node, passing the node, its offset
into this parent node, and its index.</p>
</dd><dt id="model.Fragment.findDiffStart"><code><strong><a href="#model.Fragment.findDiffStart">findDiffStart</a></strong>(<span class=param>other:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Find the first position at which this fragment and another
fragment differ, or <code>null</code> if they are the same.</p>
</dd><dt id="model.Fragment.findDiffEnd"><code><strong><a href="#model.Fragment.findDiffEnd">findDiffEnd</a></strong>(<span class=param>other:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>) → ?&#8288;{<span class=prop>a: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=prop>b: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p>Find the first position, searching from the end, at which this
fragment and the given fragment differ, or <code>null</code> if they are the
same. Since this position will not be the same in both nodes, an
object with two separate positions is returned.</p>
</dd><dt id="model.Fragment.toString"><code><strong><a href="#model.Fragment.toString">toString</a></strong>() → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>Return a debugging string that describes this fragment.</p>
</dd><dt id="model.Fragment.toJSON"><code><strong><a href="#model.Fragment.toJSON">toJSON</a></strong>() → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Create a JSON-serializeable representation of this fragment.</p>
</dd><dt id="model.Fragment^fromJSON"><code>static <strong><a href="#model.Fragment%5EfromJSON">fromJSON</a></strong>(<span class=param>schema:</span> <a href="#model.Schema"><span class="type">Schema</span></a>, <span class=param>value:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>Deserialize a fragment from its JSON representation.</p>
</dd><dt id="model.Fragment^fromArray"><code>static <strong><a href="#model.Fragment%5EfromArray">fromArray</a></strong>(<span class=param>array:</span> [<a href="#model.Node"><span class="type">Node</span></a>]) → <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>Build a fragment from an array of nodes. Ensures that adjacent
text nodes with the same marks are joined together.</p>
</dd><dt id="model.Fragment^from"><code>static <strong><a href="#model.Fragment%5Efrom">from</a></strong>(<span class=param>nodes:</span> ?&#8288;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | [<a href="#model.Node"><span class="type">Node</span></a>]) → <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>Create a fragment from something that can be interpreted as a set
of nodes. For <code>null</code>, it returns the empty fragment. For a
fragment, the fragment itself. For a node or array of nodes, a
fragment containing those nodes.</p>
</dd><dt id="model.Fragment^empty"><code>static <strong><a href="#model.Fragment%5Eempty">empty</a></strong>: <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>An empty fragment. Intended to be reused whenever a node doesn't
contain anything (rather than allocating a new empty fragment for
each leaf node).</p>
</dd></dl>
<h4 id="model.Mark">
  <a href="#model.Mark">Mark</a> <span class=kind>class</span></h4><p>A mark is a piece of information that can be attached to a node,
such as it being emphasized, in code font, or a link. It has a type
and optionally a set of attributes that provide further information
(such as the target of the link). Marks are created through a
<code>Schema</code>, which controls which types exist and which
attributes they have.</p>
<dl><dt id="model.Mark.type"><code><strong><a href="#model.Mark.type">type</a></strong>: <a href="#model.MarkType"><span class="type">MarkType</span></a></code></dt>

<dd><p>The type of this mark.</p>
</dd><dt id="model.Mark.attrs"><code><strong><a href="#model.Mark.attrs">attrs</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>The attributes associated with this mark.</p>
</dd><dt id="model.Mark.addToSet"><code><strong><a href="#model.Mark.addToSet">addToSet</a></strong>(<span class=param>set:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → [<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>Given a set of marks, create a new set which contains this one as
well, in the right position. If this mark is already in the set,
the set itself is returned. If any marks that are set to be
<a href="#model.MarkSpec.excludes">exclusive</a> with this mark are present,
those are replaced by this one.</p>
</dd><dt id="model.Mark.removeFromSet"><code><strong><a href="#model.Mark.removeFromSet">removeFromSet</a></strong>(<span class=param>set:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → [<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>Remove this mark from the given set, returning a new set. If this
mark is not in the set, the set itself is returned.</p>
</dd><dt id="model.Mark.isInSet"><code><strong><a href="#model.Mark.isInSet">isInSet</a></strong>(<span class=param>set:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether this mark is in the given set of marks.</p>
</dd><dt id="model.Mark.eq"><code><strong><a href="#model.Mark.eq">eq</a></strong>(<span class=param>other:</span> <a href="#model.Mark"><span class="type">Mark</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether this mark has the same type and attributes as
another mark.</p>
</dd><dt id="model.Mark.toJSON"><code><strong><a href="#model.Mark.toJSON">toJSON</a></strong>() → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Convert this mark to a JSON-serializeable representation.</p>
</dd><dt id="model.Mark^fromJSON"><code>static <strong><a href="#model.Mark%5EfromJSON">fromJSON</a></strong>(<span class=param>schema:</span> <a href="#model.Schema"><span class="type">Schema</span></a>, <span class=param>json:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd></dd><dt id="model.Mark^sameSet"><code>static <strong><a href="#model.Mark%5EsameSet">sameSet</a></strong>(<span class=param>a:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>], <span class=param>b:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether two sets of marks are identical.</p>
</dd><dt id="model.Mark^setFrom"><code>static <strong><a href="#model.Mark%5EsetFrom">setFrom</a></strong>(<span class=param>marks:</span> ?&#8288;<a href="#model.Mark"><span class="type">Mark</span></a> | [<a href="#model.Mark"><span class="type">Mark</span></a>]) → [<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>Create a properly sorted mark set from null, a single mark, or an
unsorted array of marks.</p>
</dd><dt id="model.Mark^none"><code>static <strong><a href="#model.Mark%5Enone">none</a></strong>: [<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>The empty set of marks.</p>
</dd></dl>
<h4 id="model.Slice">
  <a href="#model.Slice">Slice</a> <span class=kind>class</span></h4><p>A slice represents a piece cut out of a larger document. It
stores not only a fragment, but also the depth up to which nodes on
both side are ‘open’ (cut through).</p>
<dl><dt id="model.Slice.constructor"><code>new <strong><a href="#model.Slice.constructor">Slice</a></strong>(<span class=param>content:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>, <span class=param>openStart:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>openEnd:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>)</code></dt>

<dd><p>Create a slice. When specifying a non-zero open depth, you must
make sure that there are nodes of at least that depth at the
appropriate side of the fragment—i.e. if the fragment is an empty
paragraph node, <code>openStart</code> and <code>openEnd</code> can't be greater than 1.</p>
<p>It is not necessary for the content of open nodes to conform to
the schema's content constraints, though it should be a valid
start/end/middle for such a node, depending on which sides are
open.</p>
</dd><dt id="model.Slice.content"><code><strong><a href="#model.Slice.content">content</a></strong>: <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>The slice's content.</p>
</dd><dt id="model.Slice.openStart"><code><strong><a href="#model.Slice.openStart">openStart</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The open depth at the start.</p>
</dd><dt id="model.Slice.openEnd"><code><strong><a href="#model.Slice.openEnd">openEnd</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The open depth at the end.</p>
</dd><dt id="model.Slice.size"><code><strong><a href="#model.Slice.size">size</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The size this slice would add when inserted into a document.</p>
</dd><dt id="model.Slice.eq"><code><strong><a href="#model.Slice.eq">eq</a></strong>(<span class=param>other:</span> <a href="#model.Slice"><span class="type">Slice</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Tests whether this slice is equal to another slice.</p>
</dd><dt id="model.Slice.toJSON"><code><strong><a href="#model.Slice.toJSON">toJSON</a></strong>() → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Convert a slice to a JSON-serializable representation.</p>
</dd><dt id="model.Slice^fromJSON"><code>static <strong><a href="#model.Slice%5EfromJSON">fromJSON</a></strong>(<span class=param>schema:</span> <a href="#model.Schema"><span class="type">Schema</span></a>, <span class=param>json:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p>Deserialize a slice from its JSON representation.</p>
</dd><dt id="model.Slice^maxOpen"><code>static <strong><a href="#model.Slice%5EmaxOpen">maxOpen</a></strong>(<span class=param>fragment:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>, <span class=param>openIsolating:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a><span class=defaultvalue> = true</span>) → <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p>Create a slice from a fragment by taking the maximum possible
open value on both side of the fragment.</p>
</dd><dt id="model.Slice^empty"><code>static <strong><a href="#model.Slice%5Eempty">empty</a></strong>: <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p>The empty slice.</p>
</dd></dl>
<h4 id="model.ReplaceError">
  <a href="#model.ReplaceError">ReplaceError</a> <span class=kind>class</span> <span class=extends>extends <code><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Error"><span class="type">Error</span></a></code></span></h4><p>Error type raised by <a href="#model.Node.replace"><code>Node.replace</code></a> when
given an invalid replacement.</p>
<dl></dl>
<h3 id="model.Resolved_Positions"><a href="#model.Resolved_Positions">Resolved Positions</a></h3>
<p>Positions in a document can be represented as integer
<a href="../guide/index.html#doc.indexing">offsets</a>. But you'll often want to use a
more convenient representation.</p>
<h4 id="model.ResolvedPos">
  <a href="#model.ResolvedPos">ResolvedPos</a> <span class=kind>class</span></h4><p>You can <a href="#model.Node.resolve"><em>resolve</em></a> a position to get more
information about it. Objects of this class represent such a
resolved position, providing various pieces of context information,
and some helper methods.</p>
<p>Throughout this interface, methods that take an optional <code>depth</code>
parameter will interpret undefined as <code>this.depth</code> and negative
numbers as <code>this.depth + value</code>.</p>
<dl><dt id="model.ResolvedPos.pos"><code><strong><a href="#model.ResolvedPos.pos">pos</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The position that was resolved.</p>
</dd><dt id="model.ResolvedPos.depth"><code><strong><a href="#model.ResolvedPos.depth">depth</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The number of levels the parent node is from the root. If this
position points directly into the root node, it is 0. If it
points into a top-level paragraph, 1, and so on.</p>
</dd><dt id="model.ResolvedPos.parentOffset"><code><strong><a href="#model.ResolvedPos.parentOffset">parentOffset</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The offset this position has into its parent node.</p>
</dd><dt id="model.ResolvedPos.parent"><code><strong><a href="#model.ResolvedPos.parent">parent</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The parent node that the position points into. Note that even if
a position points into a text node, that node is not considered
the parent—text nodes are ‘flat’ in this model, and have no content.</p>
</dd><dt id="model.ResolvedPos.doc"><code><strong><a href="#model.ResolvedPos.doc">doc</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The root node in which the position was resolved.</p>
</dd><dt id="model.ResolvedPos.node"><code><strong><a href="#model.ResolvedPos.node">node</a></strong>(<span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The ancestor node at the given level. <code>p.node(p.depth)</code> is the
same as <code>p.parent</code>.</p>
</dd><dt id="model.ResolvedPos.index"><code><strong><a href="#model.ResolvedPos.index">index</a></strong>(<span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The index into the ancestor at the given level. If this points at
the 3rd node in the 2nd paragraph on the top level, for example,
<code>p.index(0)</code> is 2 and <code>p.index(1)</code> is 3.</p>
</dd><dt id="model.ResolvedPos.indexAfter"><code><strong><a href="#model.ResolvedPos.indexAfter">indexAfter</a></strong>(<span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The index pointing after this position into the ancestor at the
given level.</p>
</dd><dt id="model.ResolvedPos.start"><code><strong><a href="#model.ResolvedPos.start">start</a></strong>(<span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The (absolute) position at the start of the node at the given
level.</p>
</dd><dt id="model.ResolvedPos.end"><code><strong><a href="#model.ResolvedPos.end">end</a></strong>(<span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The (absolute) position at the end of the node at the given
level.</p>
</dd><dt id="model.ResolvedPos.before"><code><strong><a href="#model.ResolvedPos.before">before</a></strong>(<span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The (absolute) position directly before the wrapping node at the
given level, or, when <code>level</code> is <code>this.depth + 1</code>, the original
position.</p>
</dd><dt id="model.ResolvedPos.after"><code><strong><a href="#model.ResolvedPos.after">after</a></strong>(<span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The (absolute) position directly after the wrapping node at the
given level, or the original position when <code>level</code> is <code>this.depth + 1</code>.</p>
</dd><dt id="model.ResolvedPos.textOffset"><code><strong><a href="#model.ResolvedPos.textOffset">textOffset</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>When this position points into a text node, this returns the
distance between the position and the start of the text node.
Will be zero for positions that point between nodes.</p>
</dd><dt id="model.ResolvedPos.nodeAfter"><code><strong><a href="#model.ResolvedPos.nodeAfter">nodeAfter</a></strong>: ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Get the node directly after the position, if any. If the position
points into a text node, only the part of that node after the
position is returned.</p>
</dd><dt id="model.ResolvedPos.nodeBefore"><code><strong><a href="#model.ResolvedPos.nodeBefore">nodeBefore</a></strong>: ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Get the node directly before the position, if any. If the
position points into a text node, only the part of that node
before the position is returned.</p>
</dd><dt id="model.ResolvedPos.marks"><code><strong><a href="#model.ResolvedPos.marks">marks</a></strong>() → [<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>Get the marks at this position, factoring in the surrounding
marks' <a href="#model.MarkSpec.inclusive"><code>inclusive</code></a> property. If the
position is at the start of a non-empty node, the marks of the
node after it (if any) are returned.</p>
</dd><dt id="model.ResolvedPos.marksAcross"><code><strong><a href="#model.ResolvedPos.marksAcross">marksAcross</a></strong>(<span class=param>$end:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) → ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>Get the marks after the current position, if any, except those
that are non-inclusive and not present at position <code>$end</code>. This
is mostly useful for getting the set of marks to preserve after a
deletion. Will return <code>null</code> if this position is at the end of
its parent node or its parent node isn't a textblock (in which
case no marks should be preserved).</p>
</dd><dt id="model.ResolvedPos.sharedDepth"><code><strong><a href="#model.ResolvedPos.sharedDepth">sharedDepth</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The depth up to which this position and the given (non-resolved)
position share the same parent nodes.</p>
</dd><dt id="model.ResolvedPos.blockRange"><code><strong><a href="#model.ResolvedPos.blockRange">blockRange</a></strong>(<span class=param>other:</span> ?&#8288;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a><span class=defaultvalue> = this</span>, <span class=param>pred:</span> ?&#8288;<span class=fn>fn</span>(<a href="#model.Node"><span class="type">Node</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → ?&#8288;<a href="#model.NodeRange"><span class="type">NodeRange</span></a></code></dt>

<dd><p>Returns a range based on the place where this position and the
given position diverge around block content. If both point into
the same textblock, for example, a range around that textblock
will be returned. If they point into different blocks, the range
around those blocks in their shared ancestor is returned. You can
pass in an optional predicate that will be called with a parent
node to see if a range into that parent is acceptable.</p>
</dd><dt id="model.ResolvedPos.sameParent"><code><strong><a href="#model.ResolvedPos.sameParent">sameParent</a></strong>(<span class=param>other:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Query whether the given position shares the same parent node.</p>
</dd><dt id="model.ResolvedPos.max"><code><strong><a href="#model.ResolvedPos.max">max</a></strong>(<span class=param>other:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) → <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>Return the greater of this and the given position.</p>
</dd><dt id="model.ResolvedPos.min"><code><strong><a href="#model.ResolvedPos.min">min</a></strong>(<span class=param>other:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) → <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>Return the smaller of this and the given position.</p>
</dd></dl>
<h4 id="model.NodeRange">
  <a href="#model.NodeRange">NodeRange</a> <span class=kind>class</span></h4><p>Represents a flat range of content, i.e. one that starts and
ends in the same node.</p>
<dl><dt id="model.NodeRange.constructor"><code>new <strong><a href="#model.NodeRange.constructor">NodeRange</a></strong>(<span class=param>$from:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>$to:</span> <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <span class=param>depth:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>)</code></dt>

<dd><p>Construct a node range. <code>$from</code> and <code>$to</code> should point into the
same node until at least the given <code>depth</code>, since a node range
denotes an adjacent set of nodes in a single parent node.</p>
</dd><dt id="model.NodeRange.$from"><code><strong><a href="#model.NodeRange.$from">$from</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>A resolved position along the start of the
content. May have a <code>depth</code> greater than this object's <code>depth</code>
property, since these are the positions that were used to
compute the range, not re-resolved positions directly at its
boundaries.</p>
</dd><dt id="model.NodeRange.$to"><code><strong><a href="#model.NodeRange.$to">$to</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>A position along the end of the content. See
caveat for <a href="#model.NodeRange.$from"><code>$from</code></a>.</p>
</dd><dt id="model.NodeRange.depth"><code><strong><a href="#model.NodeRange.depth">depth</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The depth of the node that this range points into.</p>
</dd><dt id="model.NodeRange.start"><code><strong><a href="#model.NodeRange.start">start</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The position at the start of the range.</p>
</dd><dt id="model.NodeRange.end"><code><strong><a href="#model.NodeRange.end">end</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The position at the end of the range.</p>
</dd><dt id="model.NodeRange.parent"><code><strong><a href="#model.NodeRange.parent">parent</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The parent node that the range points into.</p>
</dd><dt id="model.NodeRange.startIndex"><code><strong><a href="#model.NodeRange.startIndex">startIndex</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The start index of the range in the parent node.</p>
</dd><dt id="model.NodeRange.endIndex"><code><strong><a href="#model.NodeRange.endIndex">endIndex</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The end index of the range in the parent node.</p>
</dd></dl>
<h3 id="model.Document_Schema"><a href="#model.Document_Schema">Document Schema</a></h3>
<p>Every ProseMirror document conforms to a
<a href="../guide/index.html#schema">schema</a>, which describes the set of nodes and
marks that it is made out of, along with the relations between those,
such as which node may occur as a child node of which other nodes.</p>
<h4 id="model.Schema">
  <a href="#model.Schema">Schema</a> <span class=kind>class</span></h4><p>A document schema. Holds <a href="#model.NodeType">node</a> and <a href="#model.MarkType">mark
type</a> objects for the nodes and marks that may
occur in conforming documents, and provides functionality for
creating and deserializing such documents.</p>
<dl><dt id="model.Schema.constructor"><code>new <strong><a href="#model.Schema.constructor">Schema</a></strong>(<span class=param>spec:</span> <a href="#model.SchemaSpec"><span class="type">SchemaSpec</span></a>)</code></dt>

<dd><p>Construct a schema from a schema <a href="#model.SchemaSpec">specification</a>.</p>
</dd><dt id="model.Schema.spec"><code><strong><a href="#model.Schema.spec">spec</a></strong>: <a href="#model.SchemaSpec"><span class="type">SchemaSpec</span></a></code></dt>

<dd><p>The <a href="#model.SchemaSpec">spec</a> on which the schema is based,
with the added guarantee that its <code>nodes</code> and <code>marks</code>
properties are
<a href="https://github.com/marijnh/orderedmap"><code>OrderedMap</code></a> instances
(not raw objects).</p>
</dd><dt id="model.Schema.nodes"><code><strong><a href="#model.Schema.nodes">nodes</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.NodeType"><span class="type">NodeType</span></a>&gt;</code></dt>

<dd><p>An object mapping the schema's node names to node type objects.</p>
</dd><dt id="model.Schema.marks"><code><strong><a href="#model.Schema.marks">marks</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.MarkType"><span class="type">MarkType</span></a>&gt;</code></dt>

<dd><p>A map from mark names to mark type objects.</p>
</dd><dt id="model.Schema.topNodeType"><code><strong><a href="#model.Schema.topNodeType">topNodeType</a></strong>: <a href="#model.NodeType"><span class="type">NodeType</span></a></code></dt>

<dd><p>The type of the <a href="#model.SchemaSpec.topNode">default top node</a>
for this schema.</p>
</dd><dt id="model.Schema.cached"><code><strong><a href="#model.Schema.cached">cached</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>An object for storing whatever values modules may want to
compute and cache per schema. (If you want to store something
in it, try to use property names unlikely to clash.)</p>
</dd><dt id="model.Schema.node"><code><strong><a href="#model.Schema.node">node</a></strong>(<span class=param>type:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>content:</span> ?&#8288;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | [<a href="#model.Node"><span class="type">Node</span></a>], <span class=param>marks:</span> ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Create a node in this schema. The <code>type</code> may be a string or a
<code>NodeType</code> instance. Attributes will be extended
with defaults, <code>content</code> may be a <code>Fragment</code>,
<code>null</code>, a <code>Node</code>, or an array of nodes.</p>
</dd><dt id="model.Schema.text"><code><strong><a href="#model.Schema.text">text</a></strong>(<span class=param>text:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class=param>marks:</span> ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Create a text node in the schema. Empty text nodes are not
allowed.</p>
</dd><dt id="model.Schema.mark"><code><strong><a href="#model.Schema.mark">mark</a></strong>(<span class=param>type:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="#model.MarkType"><span class="type">MarkType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p>Create a mark with the given type and attributes.</p>
</dd><dt id="model.Schema.nodeFromJSON"><code><strong><a href="#model.Schema.nodeFromJSON">nodeFromJSON</a></strong>(<span class=param>json:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Deserialize a node from its JSON representation. This method is
bound.</p>
</dd><dt id="model.Schema.markFromJSON"><code><strong><a href="#model.Schema.markFromJSON">markFromJSON</a></strong>(<span class=param>json:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p>Deserialize a mark from its JSON representation. This method is
bound.</p>
</dd></dl>
<h4 id="model.SchemaSpec">
  <a href="#model.SchemaSpec">SchemaSpec</a> <span class=kind>interface</span></h4><p>An object describing a schema, as passed to the <a href="#model.Schema"><code>Schema</code></a>
constructor.</p>
<dl><dt id="model.SchemaSpec.nodes"><code><strong><a href="#model.SchemaSpec.nodes">nodes</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.NodeSpec"><span class="type">NodeSpec</span></a>&gt; | <a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.NodeSpec"><span class="type">NodeSpec</span></a>&gt;</code></dt>

<dd><p>The node types in this schema. Maps names to
<a href="#model.NodeSpec"><code>NodeSpec</code></a> objects that describe the node type
associated with that name. Their order is significant—it
determines which <a href="#model.NodeSpec.parseDOM">parse rules</a> take
precedence by default, and which nodes come first in a given
<a href="#model.NodeSpec.group">group</a>.</p>
</dd><dt id="model.SchemaSpec.marks"><code><strong><a href="#model.SchemaSpec.marks">marks</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.MarkSpec"><span class="type">MarkSpec</span></a>&gt; | <a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.MarkSpec"><span class="type">MarkSpec</span></a>&gt;</code></dt>

<dd><p>The mark types that exist in this schema. The order in which they
are provided determines the order in which <a href="#model.Mark.addToSet">mark
sets</a> are sorted and in which <a href="#model.MarkSpec.parseDOM">parse
rules</a> are tried.</p>
</dd><dt id="model.SchemaSpec.topNode"><code><strong><a href="#model.SchemaSpec.topNode">topNode</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The name of the default top-level node for the schema. Defaults
to <code>&quot;doc&quot;</code>.</p>
</dd></dl>
<h4 id="model.NodeSpec">
  <a href="#model.NodeSpec">NodeSpec</a> <span class=kind>interface</span></h4><dl><dt id="model.NodeSpec.content"><code><strong><a href="#model.NodeSpec.content">content</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The content expression for this node, as described in the <a href="../guide/index.html#schema.content_expressions">schema
guide</a>. When not given,
the node does not allow any content.</p>
</dd><dt id="model.NodeSpec.marks"><code><strong><a href="#model.NodeSpec.marks">marks</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The marks that are allowed inside of this node. May be a
space-separated string referring to mark names or groups, <code>&quot;_&quot;</code>
to explicitly allow all marks, or <code>&quot;&quot;</code> to disallow marks. When
not given, nodes with inline content default to allowing all
marks, other nodes default to not allowing marks.</p>
</dd><dt id="model.NodeSpec.group"><code><strong><a href="#model.NodeSpec.group">group</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The group or space-separated groups to which this node belongs,
which can be referred to in the content expressions for the
schema.</p>
</dd><dt id="model.NodeSpec.inline"><code><strong><a href="#model.NodeSpec.inline">inline</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Should be set to true for inline nodes. (Implied for text nodes.)</p>
</dd><dt id="model.NodeSpec.atom"><code><strong><a href="#model.NodeSpec.atom">atom</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Can be set to true to indicate that, though this isn't a <a href="#model.NodeType.isLeaf">leaf
node</a>, it doesn't have directly editable
content and should be treated as a single unit in the view.</p>
</dd><dt id="model.NodeSpec.attrs"><code><strong><a href="#model.NodeSpec.attrs">attrs</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.AttributeSpec"><span class="type">AttributeSpec</span></a>&gt;</code></dt>

<dd><p>The attributes that nodes of this type get.</p>
</dd><dt id="model.NodeSpec.selectable"><code><strong><a href="#model.NodeSpec.selectable">selectable</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Controls whether nodes of this type can be selected as a <a href="#state.NodeSelection">node
selection</a>. Defaults to true for non-text
nodes.</p>
</dd><dt id="model.NodeSpec.draggable"><code><strong><a href="#model.NodeSpec.draggable">draggable</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Determines whether nodes of this type can be dragged without
being selected. Defaults to false.</p>
</dd><dt id="model.NodeSpec.code"><code><strong><a href="#model.NodeSpec.code">code</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Can be used to indicate that this node contains code, which
causes some commands to behave differently.</p>
</dd><dt id="model.NodeSpec.defining"><code><strong><a href="#model.NodeSpec.defining">defining</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Determines whether this node is considered an important parent
node during replace operations (such as paste). Non-defining (the
default) nodes get dropped when their entire content is replaced,
whereas defining nodes persist and wrap the inserted content.
Likewise, in <em>inserted</em> content the defining parents of the
content are preserved when possible. Typically,
non-default-paragraph textblock types, and possibly list items,
are marked as defining.</p>
</dd><dt id="model.NodeSpec.isolating"><code><strong><a href="#model.NodeSpec.isolating">isolating</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>When enabled (default is false), the sides of nodes of this type
count as boundaries that regular editing operations, like
backspacing or lifting, won't cross. An example of a node that
should probably have this enabled is a table cell.</p>
</dd><dt id="model.NodeSpec.toDOM"><code><strong><a href="#model.NodeSpec.toDOM">toDOM</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a></code></dt>

<dd><p>Defines the default way a node of this type should be serialized
to DOM/HTML (as used by
<a href="#model.DOMSerializer%5EfromSchema"><code>DOMSerializer.fromSchema</code></a>).
Should return a DOM node or an <a href="#model.DOMOutputSpec">array
structure</a> that describes one, with an
optional number zero (“hole”) in it to indicate where the node's
content should be inserted.</p>
<p>For text nodes, the default is to create a text DOM node. Though
it is possible to create a serializer where text is rendered
differently, this is not supported inside the editor, so you
shouldn't override that in your text node spec.</p>
</dd><dt id="model.NodeSpec.parseDOM"><code><strong><a href="#model.NodeSpec.parseDOM">parseDOM</a></strong>: ?&#8288;[<a href="#model.ParseRule"><span class="type">ParseRule</span></a>]</code></dt>

<dd><p>Associates DOM parser information with this node, which can be
used by <a href="#model.DOMParser%5EfromSchema"><code>DOMParser.fromSchema</code></a> to
automatically derive a parser. The <code>node</code> field in the rules is
implied (the name of this node will be filled in automatically).
If you supply your own parser, you do not need to also specify
parsing rules in your schema.</p>
</dd><dt id="model.NodeSpec.toDebugString"><code><strong><a href="#model.NodeSpec.toDebugString">toDebugString</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>Defines the default way a node of this type should be serialized
to a string representation for debugging (e.g. in error messages).</p>
</dd></dl>
<h4 id="model.MarkSpec">
  <a href="#model.MarkSpec">MarkSpec</a> <span class=kind>interface</span></h4><dl><dt id="model.MarkSpec.attrs"><code><strong><a href="#model.MarkSpec.attrs">attrs</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.AttributeSpec"><span class="type">AttributeSpec</span></a>&gt;</code></dt>

<dd><p>The attributes that marks of this type get.</p>
</dd><dt id="model.MarkSpec.inclusive"><code><strong><a href="#model.MarkSpec.inclusive">inclusive</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Whether this mark should be active when the cursor is positioned
at its end (or at its start when that is also the start of the
parent node). Defaults to true.</p>
</dd><dt id="model.MarkSpec.excludes"><code><strong><a href="#model.MarkSpec.excludes">excludes</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>Determines which other marks this mark can coexist with. Should
be a space-separated strings naming other marks or groups of marks.
When a mark is <a href="#model.Mark.addToSet">added</a> to a set, all marks
that it excludes are removed in the process. If the set contains
any mark that excludes the new mark but is not, itself, excluded
by the new mark, the mark can not be added an the set. You can
use the value <code>&quot;_&quot;</code> to indicate that the mark excludes all
marks in the schema.</p>
<p>Defaults to only being exclusive with marks of the same type. You
can set it to an empty string (or any string not containing the
mark's own name) to allow multiple marks of a given type to
coexist (as long as they have different attributes).</p>
</dd><dt id="model.MarkSpec.group"><code><strong><a href="#model.MarkSpec.group">group</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The group or space-separated groups to which this mark belongs.</p>
</dd><dt id="model.MarkSpec.spanning"><code><strong><a href="#model.MarkSpec.spanning">spanning</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Determines whether marks of this type can span multiple adjacent
nodes when serialized to DOM/HTML. Defaults to true.</p>
</dd><dt id="model.MarkSpec.toDOM"><code><strong><a href="#model.MarkSpec.toDOM">toDOM</a></strong>: ?&#8288;<span class=fn>fn</span>(<span class=param>mark:</span> <a href="#model.Mark"><span class="type">Mark</span></a>, <span class=param>inline:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → <a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a></code></dt>

<dd><p>Defines the default way marks of this type should be serialized
to DOM/HTML. When the resulting spec contains a hole, that is
where the marked content is placed. Otherwise, it is appended to
the top node.</p>
</dd><dt id="model.MarkSpec.parseDOM"><code><strong><a href="#model.MarkSpec.parseDOM">parseDOM</a></strong>: ?&#8288;[<a href="#model.ParseRule"><span class="type">ParseRule</span></a>]</code></dt>

<dd><p>Associates DOM parser information with this mark (see the
corresponding <a href="#model.NodeSpec.parseDOM">node spec field</a>). The
<code>mark</code> field in the rules is implied.</p>
</dd></dl>
<h4 id="model.AttributeSpec">
  <a href="#model.AttributeSpec">AttributeSpec</a> <span class=kind>interface</span></h4><p>Used to <a href="#model.NodeSpec.attrs">define</a> attributes on nodes or
marks.</p>
<dl><dt id="model.AttributeSpec.default"><code><strong><a href="#model.AttributeSpec.default">default</a></strong>: ?&#8288;<span class="prim">any</span></code></dt>

<dd><p>The default value for this attribute, to use when no explicit
value is provided. Attributes that have no default must be
provided whenever a node or mark of a type that has them is
created.</p>
</dd></dl>
<h4 id="model.NodeType">
  <a href="#model.NodeType">NodeType</a> <span class=kind>class</span></h4><p>Node types are objects allocated once per <code>Schema</code> and used to
<a href="#model.Node.type">tag</a> <code>Node</code> instances. They contain information
about the node type, such as its name and what kind of node it
represents.</p>
<dl><dt id="model.NodeType.name"><code><strong><a href="#model.NodeType.name">name</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The name the node type has in this schema.</p>
</dd><dt id="model.NodeType.schema"><code><strong><a href="#model.NodeType.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p>A link back to the <code>Schema</code> the node type belongs to.</p>
</dd><dt id="model.NodeType.spec"><code><strong><a href="#model.NodeType.spec">spec</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>The spec that this type is based on</p>
</dd><dt id="model.NodeType.contentMatch"><code><strong><a href="#model.NodeType.contentMatch">contentMatch</a></strong>: <a href="#model.ContentMatch"><span class="type">ContentMatch</span></a></code></dt>

<dd><p>The starting match of the node type's content expression.</p>
</dd><dt id="model.NodeType.inlineContent"><code><strong><a href="#model.NodeType.inlineContent">inlineContent</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True if this node type has inline content.</p>
</dd><dt id="model.NodeType.isBlock"><code><strong><a href="#model.NodeType.isBlock">isBlock</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True if this is a block type</p>
</dd><dt id="model.NodeType.isText"><code><strong><a href="#model.NodeType.isText">isText</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True if this is the text node type.</p>
</dd><dt id="model.NodeType.isInline"><code><strong><a href="#model.NodeType.isInline">isInline</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True if this is an inline type.</p>
</dd><dt id="model.NodeType.isTextblock"><code><strong><a href="#model.NodeType.isTextblock">isTextblock</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True if this is a textblock type, a block that contains inline
content.</p>
</dd><dt id="model.NodeType.isLeaf"><code><strong><a href="#model.NodeType.isLeaf">isLeaf</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True for node types that allow no content.</p>
</dd><dt id="model.NodeType.isAtom"><code><strong><a href="#model.NodeType.isAtom">isAtom</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when this node is an atom, i.e. when it does not have
directly editable content.</p>
</dd><dt id="model.NodeType.create"><code><strong><a href="#model.NodeType.create">create</a></strong>(<span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>content:</span> ?&#8288;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | [<a href="#model.Node"><span class="type">Node</span></a>], <span class=param>marks:</span> ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Create a <code>Node</code> of this type. The given attributes are
checked and defaulted (you can pass <code>null</code> to use the type's
defaults entirely, if no required attributes exist). <code>content</code>
may be a <code>Fragment</code>, a node, an array of nodes, or
<code>null</code>. Similarly <code>marks</code> may be <code>null</code> to default to the empty
set of marks.</p>
</dd><dt id="model.NodeType.createChecked"><code><strong><a href="#model.NodeType.createChecked">createChecked</a></strong>(<span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>content:</span> ?&#8288;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | [<a href="#model.Node"><span class="type">Node</span></a>], <span class=param>marks:</span> ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Like <a href="#model.NodeType.create"><code>create</code></a>, but check the given content
against the node type's content restrictions, and throw an error
if it doesn't match.</p>
</dd><dt id="model.NodeType.createAndFill"><code><strong><a href="#model.NodeType.createAndFill">createAndFill</a></strong>(<span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>content:</span> ?&#8288;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | [<a href="#model.Node"><span class="type">Node</span></a>], <span class=param>marks:</span> ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]) → ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Like <a href="#model.NodeType.create"><code>create</code></a>, but see if it is necessary to
add nodes to the start or end of the given fragment to make it
fit the node. If no fitting wrapping can be found, return null.
Note that, due to the fact that required nodes can always be
created, this will always succeed if you pass null or
<code>Fragment.empty</code> as content.</p>
</dd><dt id="model.NodeType.validContent"><code><strong><a href="#model.NodeType.validContent">validContent</a></strong>(<span class=param>content:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Returns true if the given fragment is valid content for this node
type with the given attributes.</p>
</dd><dt id="model.NodeType.allowsMarkType"><code><strong><a href="#model.NodeType.allowsMarkType">allowsMarkType</a></strong>(<span class=param>markType:</span> <a href="#model.MarkType"><span class="type">MarkType</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Check whether the given mark type is allowed in this node.</p>
</dd><dt id="model.NodeType.allowsMarks"><code><strong><a href="#model.NodeType.allowsMarks">allowsMarks</a></strong>(<span class=param>marks:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether the given set of marks are allowed in this node.</p>
</dd><dt id="model.NodeType.allowedMarks"><code><strong><a href="#model.NodeType.allowedMarks">allowedMarks</a></strong>(<span class=param>marks:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → [<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>Removes the marks that are not allowed in this node from the given set.</p>
</dd></dl>
<h4 id="model.MarkType">
  <a href="#model.MarkType">MarkType</a> <span class=kind>class</span></h4><p>Like nodes, marks (which are associated with nodes to signify
things like emphasis or being part of a link) are
<a href="#model.Mark.type">tagged</a> with type objects, which are
instantiated once per <code>Schema</code>.</p>
<dl><dt id="model.MarkType.name"><code><strong><a href="#model.MarkType.name">name</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The name of the mark type.</p>
</dd><dt id="model.MarkType.schema"><code><strong><a href="#model.MarkType.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p>The schema that this mark type instance is part of.</p>
</dd><dt id="model.MarkType.spec"><code><strong><a href="#model.MarkType.spec">spec</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p>The spec on which the type is based.</p>
</dd><dt id="model.MarkType.create"><code><strong><a href="#model.MarkType.create">create</a></strong>(<span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p>Create a mark of this type. <code>attrs</code> may be <code>null</code> or an object
containing only some of the mark's attributes. The others, if
they have defaults, will be added.</p>
</dd><dt id="model.MarkType.removeFromSet"><code><strong><a href="#model.MarkType.removeFromSet">removeFromSet</a></strong>(<span class=param>set:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → [<a href="#model.Mark"><span class="type">Mark</span></a>]</code></dt>

<dd><p>When there is a mark of this type in the given set, a new set
without it is returned. Otherwise, the input set is returned.</p>
</dd><dt id="model.MarkType.isInSet"><code><strong><a href="#model.MarkType.isInSet">isInSet</a></strong>(<span class=param>set:</span> [<a href="#model.Mark"><span class="type">Mark</span></a>]) → ?&#8288;<a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p>Tests whether there is a mark of this type in the given set.</p>
</dd><dt id="model.MarkType.excludes"><code><strong><a href="#model.MarkType.excludes">excludes</a></strong>(<span class=param>other:</span> <a href="#model.MarkType"><span class="type">MarkType</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Queries whether a given mark type is
<a href="#model.MarkSpec.excludes">excluded</a> by this one.</p>
</dd></dl>
<h4 id="model.ContentMatch">
  <a href="#model.ContentMatch">ContentMatch</a> <span class=kind>class</span></h4><p>Instances of this class represent a match state of a node
type's <a href="#model.NodeSpec.content">content expression</a>, and can be
used to find out whether further content matches here, and whether
a given position is a valid end of the node.</p>
<dl><dt id="model.ContentMatch.validEnd"><code><strong><a href="#model.ContentMatch.validEnd">validEnd</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when this match state represents a valid end of the node.</p>
</dd><dt id="model.ContentMatch.matchType"><code><strong><a href="#model.ContentMatch.matchType">matchType</a></strong>(<span class=param>type:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>) → ?&#8288;<a href="#model.ContentMatch"><span class="type">ContentMatch</span></a></code></dt>

<dd><p>Match a node type, returning a match after that node if
successful.</p>
</dd><dt id="model.ContentMatch.matchFragment"><code><strong><a href="#model.ContentMatch.matchFragment">matchFragment</a></strong>(<span class=param>frag:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>, <span class=param>start:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 0</span>, <span class=param>end:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = frag.childCount</span>) → ?&#8288;<a href="#model.ContentMatch"><span class="type">ContentMatch</span></a></code></dt>

<dd><p>Try to match a fragment. Returns the resulting match when
successful.</p>
</dd><dt id="model.ContentMatch.defaultType"><code><strong><a href="#model.ContentMatch.defaultType">defaultType</a></strong>: ?&#8288;<a href="#model.NodeType"><span class="type">NodeType</span></a></code></dt>

<dd><p>Get the first matching node type at this match position that can
be generated.</p>
</dd><dt id="model.ContentMatch.fillBefore"><code><strong><a href="#model.ContentMatch.fillBefore">fillBefore</a></strong>(<span class=param>after:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>, <span class=param>toEnd:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a><span class=defaultvalue> = false</span>, <span class=param>startIndex:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 0</span>) → ?&#8288;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>Try to match the given fragment, and if that fails, see if it can
be made to match by inserting nodes in front of it. When
successful, return a fragment of inserted nodes (which may be
empty if nothing had to be inserted). When <code>toEnd</code> is true, only
return a fragment if the resulting match goes to the end of the
content expression.</p>
</dd><dt id="model.ContentMatch.findWrapping"><code><strong><a href="#model.ContentMatch.findWrapping">findWrapping</a></strong>(<span class=param>target:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>) → ?&#8288;[<a href="#model.NodeType"><span class="type">NodeType</span></a>]</code></dt>

<dd><p>Find a set of wrapping node types that would allow a node of the
given type to appear at this position. The result may be empty
(when it fits directly) and will be null when no such wrapping
exists.</p>
</dd><dt id="model.ContentMatch.edgeCount"><code><strong><a href="#model.ContentMatch.edgeCount">edgeCount</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The number of outgoing edges this node has in the finite
automaton that describes the content expression.</p>
</dd><dt id="model.ContentMatch.edge"><code><strong><a href="#model.ContentMatch.edge">edge</a></strong>(<span class=param>n:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → {<span class=prop>type: </span><a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=prop>next: </span><a href="#model.ContentMatch"><span class="type">ContentMatch</span></a>}</code></dt>

<dd><p>Get the _n_th outgoing edge from this node in the finite
automaton that describes the content expression.</p>
</dd></dl>
<h3 id="model.DOM_Representation"><a href="#model.DOM_Representation">DOM Representation</a></h3>
<p>Because representing a document as a tree of DOM nodes is central to
the way ProseMirror operates, DOM <a href="#model.DOMParser">parsing</a> and
<a href="#model.DOMSerializer">serializing</a> is integrated with the model.</p>
<p>(But note that you do <em>not</em> need to have a DOM implementation loaded
to use this module.)</p>
<h4 id="model.DOMParser">
  <a href="#model.DOMParser">DOMParser</a> <span class=kind>class</span></h4><p>A DOM parser represents a strategy for parsing DOM content into
a ProseMirror document conforming to a given schema. Its behavior
is defined by an array of <a href="#model.ParseRule">rules</a>.</p>
<dl><dt id="model.DOMParser.constructor"><code>new <strong><a href="#model.DOMParser.constructor">DOMParser</a></strong>(<span class=param>schema:</span> <a href="#model.Schema"><span class="type">Schema</span></a>, <span class=param>rules:</span> [<a href="#model.ParseRule"><span class="type">ParseRule</span></a>])</code></dt>

<dd><p>Create a parser that targets the given schema, using the given
parsing rules.</p>
</dd><dt id="model.DOMParser.schema"><code><strong><a href="#model.DOMParser.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p>The schema into which the parser parses.</p>
</dd><dt id="model.DOMParser.rules"><code><strong><a href="#model.DOMParser.rules">rules</a></strong>: [<a href="#model.ParseRule"><span class="type">ParseRule</span></a>]</code></dt>

<dd><p>The set of <a href="#model.ParseRule">parse rules</a> that the parser
uses, in order of precedence.</p>
</dd><dt id="model.DOMParser.parse"><code><strong><a href="#model.DOMParser.parse">parse</a></strong>(<span class=param>dom:</span> <a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>, <span class=param>options:</span> ?&#8288;<a href="#model.ParseOptions"><span class="type">ParseOptions</span></a><span class=defaultvalue> = {}</span>) → <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>Parse a document from the content of a DOM node.</p>
</dd><dt id="model.DOMParser.parseSlice"><code><strong><a href="#model.DOMParser.parseSlice">parseSlice</a></strong>(<span class=param>dom:</span> <a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>, <span class=param>options:</span> ?&#8288;<a href="#model.ParseOptions"><span class="type">ParseOptions</span></a><span class=defaultvalue> = {}</span>) → <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p>Parses the content of the given DOM node, like
<a href="#model.DOMParser.parse"><code>parse</code></a>, and takes the same set of
options. But unlike that method, which produces a whole node,
this one returns a slice that is open at the sides, meaning that
the schema constraints aren't applied to the start of nodes to
the left of the input and the end of nodes at the end.</p>
</dd><dt id="model.DOMParser^fromSchema"><code>static <strong><a href="#model.DOMParser%5EfromSchema">fromSchema</a></strong>(<span class=param>schema:</span> <a href="#model.Schema"><span class="type">Schema</span></a>) → <a href="#model.DOMParser"><span class="type">DOMParser</span></a></code></dt>

<dd><p>Construct a DOM parser using the parsing rules listed in a
schema's <a href="#model.NodeSpec.parseDOM">node specs</a>, reordered by
<a href="#model.ParseRule.priority">priority</a>.</p>
</dd></dl>
<h4 id="model.ParseOptions">
  <a href="#model.ParseOptions">ParseOptions</a> <span class=kind>interface</span></h4><p>These are the options recognized by the
<a href="#model.DOMParser.parse"><code>parse</code></a> and
<a href="#model.DOMParser.parseSlice"><code>parseSlice</code></a> methods.</p>
<dl><dt id="model.ParseOptions.preserveWhitespace"><code><strong><a href="#model.ParseOptions.preserveWhitespace">preserveWhitespace</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a> | <span class="string">&quot;full&quot;</span></code></dt>

<dd><p>By default, whitespace is collapsed as per HTML's rules. Pass
<code>true</code> to preserve whitespace, but normalize newlines to
spaces, and <code>&quot;full&quot;</code> to preserve whitespace entirely.</p>
</dd><dt id="model.ParseOptions.findPositions"><code><strong><a href="#model.ParseOptions.findPositions">findPositions</a></strong>: ?&#8288;[{<span class=prop>node: </span><a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>, <span class=prop>offset: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}]</code></dt>

<dd><p>When given, the parser will, beside parsing the content,
record the document positions of the given DOM positions. It
will do so by writing to the objects, adding a <code>pos</code> property
that holds the document position. DOM positions that are not
in the parsed content will not be written to.</p>
</dd><dt id="model.ParseOptions.from"><code><strong><a href="#model.ParseOptions.from">from</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The child node index to start parsing from.</p>
</dd><dt id="model.ParseOptions.to"><code><strong><a href="#model.ParseOptions.to">to</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The child node index to stop parsing at.</p>
</dd><dt id="model.ParseOptions.topNode"><code><strong><a href="#model.ParseOptions.topNode">topNode</a></strong>: ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>By default, the content is parsed into the schema's default
<a href="#model.Schema.topNodeType">top node type</a>. You can pass this
option to use the type and attributes from a different node
as the top container.</p>
</dd><dt id="model.ParseOptions.topMatch"><code><strong><a href="#model.ParseOptions.topMatch">topMatch</a></strong>: ?&#8288;<a href="#model.ContentMatch"><span class="type">ContentMatch</span></a></code></dt>

<dd><p>Provide the starting content match that content parsed into the
top node is matched against.</p>
</dd><dt id="model.ParseOptions.context"><code><strong><a href="#model.ParseOptions.context">context</a></strong>: ?&#8288;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p>A set of additional nodes to count as
<a href="#model.ParseRule.context">context</a> when parsing, above the
given <a href="#model.ParseOptions.topNode">top node</a>.</p>
</dd></dl>
<h4 id="model.ParseRule">
  <a href="#model.ParseRule">ParseRule</a> <span class=kind>interface</span></h4><p>A value that describes how to parse a given DOM node or inline
style as a ProseMirror node or mark.</p>
<dl><dt id="model.ParseRule.tag"><code><strong><a href="#model.ParseRule.tag">tag</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>A CSS selector describing the kind of DOM elements to match. A
single rule should have <em>either</em> a <code>tag</code> or a <code>style</code> property.</p>
</dd><dt id="model.ParseRule.namespace"><code><strong><a href="#model.ParseRule.namespace">namespace</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The namespace to match. This should be used with <code>tag</code>.
Nodes are only matched when the namespace matches or this property
is null.</p>
</dd><dt id="model.ParseRule.style"><code><strong><a href="#model.ParseRule.style">style</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>A CSS property name to match. When given, this rule matches
inline styles that list that property. May also have the form
<code>&quot;property=value&quot;</code>, in which case the rule only matches if the
propery's value exactly matches the given value. (For more
complicated filters, use <a href="#model.ParseRule.getAttrs"><code>getAttrs</code></a>
and return undefined to indicate that the match failed.)</p>
</dd><dt id="model.ParseRule.priority"><code><strong><a href="#model.ParseRule.priority">priority</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Can be used to change the order in which the parse rules in a
schema are tried. Those with higher priority come first. Rules
without a priority are counted as having priority 50. This
property is only meaningful in a schema—when directly
constructing a parser, the order of the rule array is used.</p>
</dd><dt id="model.ParseRule.context"><code><strong><a href="#model.ParseRule.context">context</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>When given, restricts this rule to only match when the current
context—the parent nodes into which the content is being
parsed—matches this expression. Should contain one or more node
names or node group names followed by single or double slashes.
For example <code>&quot;paragraph/&quot;</code> means the rule only matches when the
parent node is a paragraph, <code>&quot;blockquote/paragraph/&quot;</code> restricts
it to be in a paragraph that is inside a blockquote, and
<code>&quot;section//&quot;</code> matches any position inside a section—a double
slash matches any sequence of ancestor nodes. To allow multiple
different contexts, they can be separated by a pipe (<code>|</code>)
character, as in <code>&quot;blockquote/|list_item/&quot;</code>.</p>
</dd><dt id="model.ParseRule.node"><code><strong><a href="#model.ParseRule.node">node</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The name of the node type to create when this rule matches. Only
valid for rules with a <code>tag</code> property, not for style rules. Each
rule should have one of a <code>node</code>, <code>mark</code>, or <code>ignore</code> property
(except when it appears in a <a href="#model.NodeSpec.parseDOM">node</a> or
<a href="#model.MarkSpec.parseDOM">mark spec</a>, in which case the <code>node</code>
or <code>mark</code> property will be derived from its position).</p>
</dd><dt id="model.ParseRule.mark"><code><strong><a href="#model.ParseRule.mark">mark</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>The name of the mark type to wrap the matched content in.</p>
</dd><dt id="model.ParseRule.ignore"><code><strong><a href="#model.ParseRule.ignore">ignore</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>When true, ignore content that matches this rule.</p>
</dd><dt id="model.ParseRule.skip"><code><strong><a href="#model.ParseRule.skip">skip</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>When true, ignore the node that matches this rule, but do parse
its content.</p>
</dd><dt id="model.ParseRule.attrs"><code><strong><a href="#model.ParseRule.attrs">attrs</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Attributes for the node or mark created by this rule. When
<code>getAttrs</code> is provided, it takes precedence.</p>
</dd><dt id="model.ParseRule.getAttrs"><code><strong><a href="#model.ParseRule.getAttrs">getAttrs</a></strong>: ?&#8288;<span class=fn>fn</span>(<a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a> | <span class="prim">false</span></code></dt>

<dd><p>A function used to compute the attributes for the node or mark
created by this rule. Can also be used to describe further
conditions the DOM element or style must match. When it returns
<code>false</code>, the rule won't match. When it returns null or undefined,
that is interpreted as an empty/default set of attributes.</p>
<p>Called with a DOM Element for <code>tag</code> rules, and with a string (the
style's value) for <code>style</code> rules.</p>
</dd><dt id="model.ParseRule.contentElement"><code><strong><a href="#model.ParseRule.contentElement">contentElement</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <span class=fn>fn</span>(<a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>) → <a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a></code></dt>

<dd><p>For <code>tag</code> rules that produce non-leaf nodes or marks, by default
the content of the DOM element is parsed as content of the mark
or node. If the child nodes are in a descendent node, this may be
a CSS selector string that the parser must use to find the actual
content element, or a function that returns the actual content
element to the parser.</p>
</dd><dt id="model.ParseRule.getContent"><code><strong><a href="#model.ParseRule.getContent">getContent</a></strong>: ?&#8288;<span class=fn>fn</span>(<a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>, <span class=param>schema:</span> <a href="#model.Schema"><span class="type">Schema</span></a>) → <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p>Can be used to override the content of a matched node. When
present, instead of parsing the node's child nodes, the result of
this function is used.</p>
</dd><dt id="model.ParseRule.preserveWhitespace"><code><strong><a href="#model.ParseRule.preserveWhitespace">preserveWhitespace</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a> | <span class="string">&quot;full&quot;</span></code></dt>

<dd><p>Controls whether whitespace should be preserved when parsing the
content inside the matched element. <code>false</code> means whitespace may
be collapsed, <code>true</code> means that whitespace should be preserved
but newlines normalized to spaces, and <code>&quot;full&quot;</code> means that
newlines should also be preserved.</p>
</dd></dl>
<h4 id="model.DOMSerializer">
  <a href="#model.DOMSerializer">DOMSerializer</a> <span class=kind>class</span></h4><p>A DOM serializer knows how to convert ProseMirror nodes and
marks of various types to DOM nodes.</p>
<dl><dt id="model.DOMSerializer.constructor"><code>new <strong><a href="#model.DOMSerializer.constructor">DOMSerializer</a></strong>(<span class=param>nodes:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a>&gt;, <span class=param>marks:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;?&#8288;<span class=fn>fn</span>(<span class=param>mark:</span> <a href="#model.Mark"><span class="type">Mark</span></a>, <span class=param>inline:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → <a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a>&gt;)</code></dt>

<dd><p>Create a serializer. <code>nodes</code> should map node names to functions
that take a node and return a description of the corresponding
DOM. <code>marks</code> does the same for mark names, but also gets an
argument that tells it whether the mark's content is block or
inline content (for typical use, it'll always be inline). A mark
serializer may be <code>null</code> to indicate that marks of that type
should not be serialized.</p>
</dd><dt id="model.DOMSerializer.nodes"><code><strong><a href="#model.DOMSerializer.nodes">nodes</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<span class=fn>fn</span>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a>&gt;</code></dt>

<dd><p>The node serialization functions.</p>
</dd><dt id="model.DOMSerializer.marks"><code><strong><a href="#model.DOMSerializer.marks">marks</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;?&#8288;<span class=fn>fn</span>(<span class=param>mark:</span> <a href="#model.Mark"><span class="type">Mark</span></a>, <span class=param>inline:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → <a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a>&gt;</code></dt>

<dd><p>The mark serialization functions.</p>
</dd><dt id="model.DOMSerializer.serializeFragment"><code><strong><a href="#model.DOMSerializer.serializeFragment">serializeFragment</a></strong>(<span class=param>fragment:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a>, <span class=param>options:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a><span class=defaultvalue> = {}</span>) → <a href="https://developer.mozilla.org/en/docs/DOM/document.createDocumentFragment"><span class="type">dom.DocumentFragment</span></a></code></dt>

<dd><p>Serialize the content of this fragment to a DOM fragment. When
not in the browser, the <code>document</code> option, containing a DOM
document, should be passed so that the serializer can create
nodes.</p>
</dd><dt id="model.DOMSerializer.serializeNode"><code><strong><a href="#model.DOMSerializer.serializeNode">serializeNode</a></strong>(<span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>options:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a><span class=defaultvalue> = {}</span>) → <a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a></code></dt>

<dd><p>Serialize this node to a DOM node. This can be useful when you
need to serialize a part of a document, as opposed to the whole
document. To serialize a whole document, use
<a href="#model.DOMSerializer.serializeFragment"><code>serializeFragment</code></a> on
its <a href="#model.Node.content">content</a>.</p>
</dd><dt id="model.DOMSerializer^renderSpec"><code>static <strong><a href="#model.DOMSerializer%5ErenderSpec">renderSpec</a></strong>(<span class=param>doc:</span> <a href="https://developer.mozilla.org/en/docs/DOM/document"><span class="type">dom.Document</span></a>, <span class=param>structure:</span> <a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a>) → {<span class=prop>dom: </span><a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>, <span class=prop>contentDOM: </span>?&#8288;<a href="https://developer.mozilla.org/en/docs/DOM/Node"><span class="type">dom.Node</span></a>}</code></dt>

<dd><p>Render an <a href="#model.DOMOutputSpec">output spec</a> to a DOM node. If
the spec has a hole (zero) in it, <code>contentDOM</code> will point at the
node with the hole.</p>
</dd><dt id="model.DOMSerializer^fromSchema"><code>static <strong><a href="#model.DOMSerializer%5EfromSchema">fromSchema</a></strong>(<span class=param>schema:</span> <a href="#model.Schema"><span class="type">Schema</span></a>) → <a href="#model.DOMSerializer"><span class="type">DOMSerializer</span></a></code></dt>

<dd><p>Build a serializer using the <a href="#model.NodeSpec.toDOM"><code>toDOM</code></a>
properties in a schema's node and mark specs.</p>
</dd></dl>
<h4 id="model.DOMOutputSpec">
  <a href="#model.DOMOutputSpec">DOMOutputSpec</a> <span class=kind>interface</span></h4><p>A description of a DOM structure. Can be either a string, which is
interpreted as a text node, a DOM node, which is interpreted as
itself, or an array.</p>
<p>An array describes a DOM element. The first value in the array
should be a string—the name of the DOM element. If the second
element is plain object, it is interpreted as a set of attributes
for the element. Any elements after that (including the 2nd if it's
not an attribute object) are interpreted as children of the DOM
elements, and must either be valid <code>DOMOutputSpec</code> values, or the
number zero.</p>
<p>The number zero (pronounced “hole”) is used to indicate the place
where a node's child nodes should be inserted. It it occurs in an
output spec, it should be the only child element in its parent
node.</p>
<dl></dl>
</section><section id=part_transform>
    <h2 class=module id=transform>
      <a href="#transform">prosemirror-transform <span class=kind>module</span></a>
    </h2><p>This module defines a way of modifying documents that allows changes
to be recorded, replayed, and reordered. You can read more about
transformations in <a href="../guide/index.html#transform">the guide</a>.</p>
<h3 id="transform.Steps"><a href="#transform.Steps">Steps</a></h3>
<p>Transforming happens in <code>Step</code>s, which are atomic, well-defined
modifications to a document. <a href="#transform.Step.apply">Applying</a> a step
produces a new document.</p>
<p>Each step provides a <a href="#transform.StepMap">change map</a> that maps
positions in the old document to position in the transformed document.
Steps can be <a href="#transform.Step.invert">inverted</a> to create a step that
undoes their effect, and chained together in a convenience object
called a <a href="#transform.Transform"><code>Transform</code></a>.</p>
<h4 id="transform.Step">
  <a href="#transform.Step">Step</a> <span class=kind>class</span></h4><p>A step object represents an atomic change. It generally applies
only to the document it was created for, since the positions
stored in it will only make sense for that document.</p>
<p>New steps are defined by creating classes that extend <code>Step</code>,
overriding the <code>apply</code>, <code>invert</code>, <code>map</code>, <code>getMap</code> and <code>fromJSON</code>
methods, and registering your class with a unique
JSON-serialization identifier using
<a href="#transform.Step%5EjsonID"><code>Step.jsonID</code></a>.</p>
<dl><dt id="transform.Step.apply"><code><strong><a href="#transform.Step.apply">apply</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p>Applies this step to the given document, returning a result
object that either indicates failure, if the step can not be
applied to this document, or indicates success by containing a
transformed document.</p>
</dd><dt id="transform.Step.getMap"><code><strong><a href="#transform.Step.getMap">getMap</a></strong>() → <a href="#transform.StepMap"><span class="type">StepMap</span></a></code></dt>

<dd><p>Get the step map that represents the changes made by this step,
and which can be used to transform between positions in the old
and the new document.</p>
</dd><dt id="transform.Step.invert"><code><strong><a href="#transform.Step.invert">invert</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#transform.Step"><span class="type">Step</span></a></code></dt>

<dd><p>Create an inverted version of this step. Needs the document as it
was before the step as argument.</p>
</dd><dt id="transform.Step.map"><code><strong><a href="#transform.Step.map">map</a></strong>(<span class=param>mapping:</span> <a href="#transform.Mappable"><span class="type">Mappable</span></a>) → ?&#8288;<a href="#transform.Step"><span class="type">Step</span></a></code></dt>

<dd><p>Map this step through a mappable thing, returning either a
version of that step with its positions adjusted, or <code>null</code> if
the step was entirely deleted by the mapping.</p>
</dd><dt id="transform.Step.merge"><code><strong><a href="#transform.Step.merge">merge</a></strong>(<span class=param>other:</span> <a href="#transform.Step"><span class="type">Step</span></a>) → ?&#8288;<a href="#transform.Step"><span class="type">Step</span></a></code></dt>

<dd><p>Try to merge this step with another one, to be applied directly
after it. Returns the merged step when possible, null if the
steps can't be merged.</p>
</dd><dt id="transform.Step.toJSON"><code><strong><a href="#transform.Step.toJSON">toJSON</a></strong>() → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Create a JSON-serializeable representation of this step. When
defining this for a custom subclass, make sure the result object
includes the step type's <a href="#transform.Step%5EjsonID">JSON id</a> under
the <code>stepType</code> property.</p>
</dd><dt id="transform.Step^fromJSON"><code>static <strong><a href="#transform.Step%5EfromJSON">fromJSON</a></strong>(<span class=param>schema:</span> <a href="#model.Schema"><span class="type">Schema</span></a>, <span class=param>json:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#transform.Step"><span class="type">Step</span></a></code></dt>

<dd><p>Deserialize a step from its JSON representation. Will call
through to the step class' own implementation of this method.</p>
</dd><dt id="transform.Step^jsonID"><code>static <strong><a href="#transform.Step%5EjsonID">jsonID</a></strong>(<span class=param>id:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class=param>stepClass:</span> <span class="prim">constructor</span>&lt;<a href="#transform.Step"><span class="type">Step</span></a>&gt;)</code></dt>

<dd><p>To be able to serialize steps to JSON, each step needs a string
ID to attach to its JSON representation. Use this method to
register an ID for your step classes. Try to pick something
that's unlikely to clash with steps from other modules.</p>
</dd></dl>
<h4 id="transform.StepResult">
  <a href="#transform.StepResult">StepResult</a> <span class=kind>class</span></h4><p>The result of <a href="#transform.Step.apply">applying</a> a step. Contains either a
new document or a failure value.</p>
<dl><dt id="transform.StepResult.doc"><code><strong><a href="#transform.StepResult.doc">doc</a></strong>: ?&#8288;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The transformed document.</p>
</dd><dt id="transform.StepResult.failed"><code><strong><a href="#transform.StepResult.failed">failed</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>Text providing information about a failed step.</p>
</dd><dt id="transform.StepResult^ok"><code>static <strong><a href="#transform.StepResult%5Eok">ok</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p>Create a successful step result.</p>
</dd><dt id="transform.StepResult^fail"><code>static <strong><a href="#transform.StepResult%5Efail">fail</a></strong>(<span class=param>message:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) → <a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p>Create a failed step result.</p>
</dd><dt id="transform.StepResult^fromReplace"><code>static <strong><a href="#transform.StepResult%5EfromReplace">fromReplace</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>slice:</span> <a href="#model.Slice"><span class="type">Slice</span></a>) → <a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p>Call <a href="#model.Node.replace"><code>Node.replace</code></a> with the given
arguments. Create a successful result if it succeeds, and a
failed one if it throws a <code>ReplaceError</code>.</p>
</dd></dl>
<h4 id="transform.ReplaceStep">
  <a href="#transform.ReplaceStep">ReplaceStep</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#transform.Step"><span class="type">Step</span></a></code></span></h4><p>Replace a part of the document with a slice of new content.</p>
<dl><dt id="transform.ReplaceStep.constructor"><code>new <strong><a href="#transform.ReplaceStep.constructor">ReplaceStep</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>slice:</span> <a href="#model.Slice"><span class="type">Slice</span></a>, <span class=param>structure:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>)</code></dt>

<dd><p>The given <code>slice</code> should fit the 'gap' between <code>from</code> and
<code>to</code>—the depths must line up, and the surrounding nodes must be
able to be joined with the open sides of the slice. When
<code>structure</code> is true, the step will fail if the content between
from and to is not just a sequence of closing and then opening
tokens (this is to guard against rebased replace steps
overwriting something they weren't supposed to).</p>
</dd></dl>
<h4 id="transform.ReplaceAroundStep">
  <a href="#transform.ReplaceAroundStep">ReplaceAroundStep</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#transform.Step"><span class="type">Step</span></a></code></span></h4><p>Replace a part of the document with a slice of content, but
preserve a range of the replaced content by moving it into the
slice.</p>
<dl><dt id="transform.ReplaceAroundStep.constructor"><code>new <strong><a href="#transform.ReplaceAroundStep.constructor">ReplaceAroundStep</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>gapFrom:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>gapTo:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>slice:</span> <a href="#model.Slice"><span class="type">Slice</span></a>, <span class=param>insert:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>structure:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>)</code></dt>

<dd><p>Create a replace-around step with the given range and gap.
<code>insert</code> should be the point in the slice into which the content
of the gap should be moved. <code>structure</code> has the same meaning as
it has in the <a href="#transform.ReplaceStep"><code>ReplaceStep</code></a> class.</p>
</dd></dl>
<h4 id="transform.AddMarkStep">
  <a href="#transform.AddMarkStep">AddMarkStep</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#transform.Step"><span class="type">Step</span></a></code></span></h4><p>Add a mark to all inline content between two positions.</p>
<dl><dt id="transform.AddMarkStep.constructor"><code>new <strong><a href="#transform.AddMarkStep.constructor">AddMarkStep</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>mark:</span> <a href="#model.Mark"><span class="type">Mark</span></a>)</code></dt>

<dd></dd></dl>
<h4 id="transform.RemoveMarkStep">
  <a href="#transform.RemoveMarkStep">RemoveMarkStep</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#transform.Step"><span class="type">Step</span></a></code></span></h4><p>Remove a mark from all inline content between two positions.</p>
<dl><dt id="transform.RemoveMarkStep.constructor"><code>new <strong><a href="#transform.RemoveMarkStep.constructor">RemoveMarkStep</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>mark:</span> <a href="#model.Mark"><span class="type">Mark</span></a>)</code></dt>

<dd></dd></dl>
<h3 id="transform.Position_Mapping"><a href="#transform.Position_Mapping">Position Mapping</a></h3>
<p>Mapping positions from one document to another by running through the
<a href="#transform.StepMap">step maps</a> produced by steps is an important
operation in ProseMirror. It is used, for example, for updating the
selection when the document changes.</p>
<h4 id="transform.Mappable">
  <a href="#transform.Mappable">Mappable</a> <span class=kind>interface</span></h4><p>There are several things that positions can be mapped through.
Such objects conform to this interface.</p>
<dl><dt id="transform.Mappable.map"><code><strong><a href="#transform.Mappable.map">map</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>assoc:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Map a position through this object. When given, <code>assoc</code> (should
be -1 or 1, defaults to 1) determines with which side the
position is associated, which determines in which direction to
move when a chunk of content is inserted at the mapped position.</p>
</dd><dt id="transform.Mappable.mapResult"><code><strong><a href="#transform.Mappable.mapResult">mapResult</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>assoc:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#transform.MapResult"><span class="type">MapResult</span></a></code></dt>

<dd><p>Map a position, and return an object containing additional
information about the mapping. The result's <code>deleted</code> field tells
you whether the position was deleted (completely enclosed in a
replaced range) during the mapping. When content on only one side
is deleted, the position itself is only considered deleted when
<code>assoc</code> points in the direction of the deleted content.</p>
</dd></dl>
<h4 id="transform.MapResult">
  <a href="#transform.MapResult">MapResult</a> <span class=kind>class</span></h4><p>An object representing a mapped position with extra
information.</p>
<dl><dt id="transform.MapResult.pos"><code><strong><a href="#transform.MapResult.pos">pos</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The mapped version of the position.</p>
</dd><dt id="transform.MapResult.deleted"><code><strong><a href="#transform.MapResult.deleted">deleted</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Tells you whether the position was deleted, that is,
whether the step removed its surroundings from the document.</p>
</dd></dl>
<h4 id="transform.StepMap">
  <a href="#transform.StepMap">StepMap</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#transform.Mappable"><span class="type">Mappable</span></a></code></span></h4><p>A map describing the deletions and insertions made by a step, which
can be used to find the correspondence between positions in the
pre-step version of a document and the same position in the
post-step version.</p>
<dl><dt id="transform.StepMap.constructor"><code>new <strong><a href="#transform.StepMap.constructor">StepMap</a></strong>(<span class=param>ranges:</span> [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>])</code></dt>

<dd><p>Create a position map. The modifications to the document are
represented as an array of numbers, in which each group of three
represents a modified chunk as <code>[start, oldSize, newSize]</code>.</p>
</dd><dt id="transform.StepMap.forEach"><code><strong><a href="#transform.StepMap.forEach">forEach</a></strong>(<span class=param>f:</span> <span class=fn>fn</span>(<span class=param>oldStart:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>oldEnd:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>newStart:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>newEnd:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>))</code></dt>

<dd><p>Calls the given function on each of the changed ranges included in
this map.</p>
</dd><dt id="transform.StepMap.invert"><code><strong><a href="#transform.StepMap.invert">invert</a></strong>() → <a href="#transform.StepMap"><span class="type">StepMap</span></a></code></dt>

<dd><p>Create an inverted version of this map. The result can be used to
map positions in the post-step document to the pre-step document.</p>
</dd><dt id="transform.StepMap^offset"><code>static <strong><a href="#transform.StepMap%5Eoffset">offset</a></strong>(<span class=param>n:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="#transform.StepMap"><span class="type">StepMap</span></a></code></dt>

<dd><p>Create a map that moves all positions by offset <code>n</code> (which may be
negative). This can be useful when applying steps meant for a
sub-document to a larger document, or vice-versa.</p>
</dd></dl>
<h4 id="transform.Mapping">
  <a href="#transform.Mapping">Mapping</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#transform.Mappable"><span class="type">Mappable</span></a></code></span></h4><p>A mapping represents a pipeline of zero or more <a href="#transform.StepMap">step
maps</a>. It has special provisions for losslessly
handling mapping positions through a series of steps in which some
steps are inverted versions of earlier steps. (This comes up when
‘<a href="../guide/index.html#transform.rebasing">rebasing</a>’ steps for
collaboration or history management.)</p>
<dl><dt id="transform.Mapping.constructor"><code>new <strong><a href="#transform.Mapping.constructor">Mapping</a></strong>(<span class=param>maps:</span> ?&#8288;[<a href="#transform.StepMap"><span class="type">StepMap</span></a>])</code></dt>

<dd><p>Create a new mapping with the given position maps.</p>
</dd><dt id="transform.Mapping.maps"><code><strong><a href="#transform.Mapping.maps">maps</a></strong>: [<a href="#transform.StepMap"><span class="type">StepMap</span></a>]</code></dt>

<dd><p>The step maps in this mapping.</p>
</dd><dt id="transform.Mapping.from"><code><strong><a href="#transform.Mapping.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The starting position in the <code>maps</code> array, used when <code>map</code> or
<code>mapResult</code> is called.</p>
</dd><dt id="transform.Mapping.to"><code><strong><a href="#transform.Mapping.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The end position in the <code>maps</code> array.</p>
</dd><dt id="transform.Mapping.slice"><code><strong><a href="#transform.Mapping.slice">slice</a></strong>(<span class=param>from:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 0</span>, <span class=param>to:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = this.maps.length</span>) → <a href="#transform.Mapping"><span class="type">Mapping</span></a></code></dt>

<dd><p>Create a mapping that maps only through a part of this one.</p>
</dd><dt id="transform.Mapping.appendMap"><code><strong><a href="#transform.Mapping.appendMap">appendMap</a></strong>(<span class=param>map:</span> <a href="#transform.StepMap"><span class="type">StepMap</span></a>, <span class=param>mirrors:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>)</code></dt>

<dd><p>Add a step map to the end of this mapping. If <code>mirrors</code> is
given, it should be the index of the step map that is the mirror
image of this one.</p>
</dd><dt id="transform.Mapping.appendMapping"><code><strong><a href="#transform.Mapping.appendMapping">appendMapping</a></strong>(<span class=param>mapping:</span> <a href="#transform.Mapping"><span class="type">Mapping</span></a>)</code></dt>

<dd><p>Add all the step maps in a given mapping to this one (preserving
mirroring information).</p>
</dd><dt id="transform.Mapping.getMirror"><code><strong><a href="#transform.Mapping.getMirror">getMirror</a></strong>(<span class=param>n:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Finds the offset of the step map that mirrors the map at the
given offset, in this mapping (as per the second argument to
<code>appendMap</code>).</p>
</dd><dt id="transform.Mapping.appendMappingInverted"><code><strong><a href="#transform.Mapping.appendMappingInverted">appendMappingInverted</a></strong>(<span class=param>mapping:</span> <a href="#transform.Mapping"><span class="type">Mapping</span></a>)</code></dt>

<dd><p>Append the inverse of the given mapping to this one.</p>
</dd></dl>
<h3 id="transform.Document_transforms"><a href="#transform.Document_transforms">Document transforms</a></h3>
<p>Because you often need to collect a number of steps together to effect
a composite change, ProseMirror provides an abstraction to make this
easy. <a href="#state.Transaction">State transactions</a> are a subclass of
transforms.</p>
<h4 id="transform.Transform">
  <a href="#transform.Transform">Transform</a> <span class=kind>class</span></h4><p>Abstraction to build up and track an array of
<a href="#transform.Step">steps</a> representing a document transformation.</p>
<p>Most transforming methods return the <code>Transform</code> object itself, so
that they can be chained.</p>
<dl><dt id="transform.Transform.constructor"><code>new <strong><a href="#transform.Transform.constructor">Transform</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>)</code></dt>

<dd><p>Create a transform that starts with the given document.</p>
</dd><dt id="transform.Transform.doc"><code><strong><a href="#transform.Transform.doc">doc</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The current document (the result of applying the steps in the
transform).</p>
</dd><dt id="transform.Transform.steps"><code><strong><a href="#transform.Transform.steps">steps</a></strong>: [<a href="#transform.Step"><span class="type">Step</span></a>]</code></dt>

<dd><p>The steps in this transform.</p>
</dd><dt id="transform.Transform.docs"><code><strong><a href="#transform.Transform.docs">docs</a></strong>: [<a href="#model.Node"><span class="type">Node</span></a>]</code></dt>

<dd><p>The documents before each of the steps.</p>
</dd><dt id="transform.Transform.mapping"><code><strong><a href="#transform.Transform.mapping">mapping</a></strong>: <a href="#transform.Mapping"><span class="type">Mapping</span></a></code></dt>

<dd><p>A mapping with the maps for each of the steps in this transform.</p>
</dd><dt id="transform.Transform.before"><code><strong><a href="#transform.Transform.before">before</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p>The starting document.</p>
</dd><dt id="transform.Transform.step"><code><strong><a href="#transform.Transform.step">step</a></strong>(<span class=param>step:</span> <a href="#transform.Step"><span class="type">Step</span></a>) → <span class="prim">this</span></code></dt>

<dd><p>Apply a new step in this transform, saving the result. Throws an
error when the step fails.</p>
</dd><dt id="transform.Transform.maybeStep"><code><strong><a href="#transform.Transform.maybeStep">maybeStep</a></strong>(<span class=param>step:</span> <a href="#transform.Step"><span class="type">Step</span></a>) → <a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p>Try to apply a step in this transformation, ignoring it if it
fails. Returns the step result.</p>
</dd><dt id="transform.Transform.docChanged"><code><strong><a href="#transform.Transform.docChanged">docChanged</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>True when the document has been changed (when there are any
steps).</p>
</dd><dt id="transform.Transform.addMark"><code><strong><a href="#transform.Transform.addMark">addMark</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>mark:</span> <a href="#model.Mark"><span class="type">Mark</span></a>) → <span class="prim">this</span></code></dt>

<dd><p>Add the given mark to the inline content between <code>from</code> and <code>to</code>.</p>
</dd><dt id="transform.Transform.removeMark"><code><strong><a href="#transform.Transform.removeMark">removeMark</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>mark:</span> ?&#8288;<a href="#model.Mark"><span class="type">Mark</span></a> | <a href="#model.MarkType"><span class="type">MarkType</span></a><span class=defaultvalue> = null</span>) → <span class="prim">this</span></code></dt>

<dd><p>Remove marks from inline nodes between <code>from</code> and <code>to</code>. When <code>mark</code>
is a single mark, remove precisely that mark. When it is a mark type,
remove all marks of that type. When it is null, remove all marks of
any type.</p>
</dd><dt id="transform.Transform.clearIncompatible"><code><strong><a href="#transform.Transform.clearIncompatible">clearIncompatible</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>parentType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>match:</span> ?&#8288;<a href="#model.ContentMatch"><span class="type">ContentMatch</span></a>) → <span class="prim">this</span></code></dt>

<dd><p>Removes all marks and nodes from the content of the node at <code>pos</code>
that don't match the given new parent node type. Accepts an
optional starting <a href="#model.ContentMatch">content match</a> as third
argument.</p>
</dd><dt id="transform.Transform.replace"><code><strong><a href="#transform.Transform.replace">replace</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = from</span>, <span class=param>slice:</span> ?&#8288;<a href="#model.Slice"><span class="type">Slice</span></a><span class=defaultvalue> = Slice.empty</span>) → <span class="prim">this</span></code></dt>

<dd><p>Replace the part of the document between <code>from</code> and <code>to</code> with the
given <code>slice</code>.</p>
</dd><dt id="transform.Transform.replaceWith"><code><strong><a href="#transform.Transform.replaceWith">replaceWith</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>content:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | [<a href="#model.Node"><span class="type">Node</span></a>]) → <span class="prim">this</span></code></dt>

<dd><p>Replace the given range with the given content, which may be a
fragment, node, or array of nodes.</p>
</dd><dt id="transform.Transform.delete"><code><strong><a href="#transform.Transform.delete">delete</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <span class="prim">this</span></code></dt>

<dd><p>Delete the content between the given positions.</p>
</dd><dt id="transform.Transform.insert"><code><strong><a href="#transform.Transform.insert">insert</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>content:</span> <a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | [<a href="#model.Node"><span class="type">Node</span></a>]) → <span class="prim">this</span></code></dt>

<dd><p>Insert the given content at the given position.</p>
</dd><dt id="transform.Transform.replaceRange"><code><strong><a href="#transform.Transform.replaceRange">replaceRange</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>slice:</span> <a href="#model.Slice"><span class="type">Slice</span></a>) → <span class="prim">this</span></code></dt>

<dd><p>Replace a range of the document with a given slice, using <code>from</code>,
<code>to</code>, and the slice's <a href="#model.Slice.openStart"><code>openStart</code></a> property
as hints, rather than fixed start and end points. This method may
grow the replaced area or close open nodes in the slice in order to
get a fit that is more in line with WYSIWYG expectations, by
dropping fully covered parent nodes of the replaced region when
they are marked <a href="#model.NodeSpec.defining">non-defining</a>, or
including an open parent node from the slice that <em>is</em> marked as
<a href="#model.NodeSpec.defining">defining</a>.</p>
<p>This is the method, for example, to handle paste. The similar
<a href="#transform.Transform.replace"><code>replace</code></a> method is a more
primitive tool which will <em>not</em> move the start and end of its given
range, and is useful in situations where you need more precise
control over what happens.</p>
</dd><dt id="transform.Transform.replaceRangeWith"><code><strong><a href="#transform.Transform.replaceRangeWith">replaceRangeWith</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>node:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <span class="prim">this</span></code></dt>

<dd><p>Replace the given range with a node, but use <code>from</code> and <code>to</code> as
hints, rather than precise positions. When from and to are the same
and are at the start or end of a parent node in which the given
node doesn't fit, this method may <em>move</em> them out towards a parent
that does allow the given node to be placed. When the given range
completely covers a parent node, this method may completely replace
that parent node.</p>
</dd><dt id="transform.Transform.deleteRange"><code><strong><a href="#transform.Transform.deleteRange">deleteRange</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <span class="prim">this</span></code></dt>

<dd><p>Delete the given range, expanding it to cover fully covered
parent nodes until a valid replace is found.</p>
</dd><dt id="transform.Transform.lift"><code><strong><a href="#transform.Transform.lift">lift</a></strong>(<span class=param>range:</span> <a href="#model.NodeRange"><span class="type">NodeRange</span></a>, <span class=param>target:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <span class="prim">this</span></code></dt>

<dd><p>Split the content in the given range off from its parent, if there
is sibling content before or after it, and move it up the tree to
the depth specified by <code>target</code>. You'll probably want to use
<a href="#transform.liftTarget"><code>liftTarget</code></a> to compute <code>target</code>, to make
sure the lift is valid.</p>
</dd><dt id="transform.Transform.wrap"><code><strong><a href="#transform.Transform.wrap">wrap</a></strong>(<span class=param>range:</span> <a href="#model.NodeRange"><span class="type">NodeRange</span></a>, <span class=param>wrappers:</span> [{<span class=prop>type: </span><a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=prop>attrs: </span>?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>}]) → <span class="prim">this</span></code></dt>

<dd><p>Wrap the given <a href="#model.NodeRange">range</a> in the given set of wrappers.
The wrappers are assumed to be valid in this position, and should
probably be computed with <a href="#transform.findWrapping"><code>findWrapping</code></a>.</p>
</dd><dt id="transform.Transform.setBlockType"><code><strong><a href="#transform.Transform.setBlockType">setBlockType</a></strong>(<span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = from</span>, <span class=param>type:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <span class="prim">this</span></code></dt>

<dd><p>Set the type of all textblocks (partly) between <code>from</code> and <code>to</code> to
the given node type with the given attributes.</p>
</dd><dt id="transform.Transform.setNodeMarkup"><code><strong><a href="#transform.Transform.setNodeMarkup">setNodeMarkup</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>type:</span> ?&#8288;<a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>marks:</span> ?&#8288;[<a href="#model.Mark"><span class="type">Mark</span></a>]) → <span class="prim">this</span></code></dt>

<dd><p>Change the type, attributes, and/or marks of the node at <code>pos</code>.
When <code>type</code> isn't given, the existing node type is preserved,</p>
</dd><dt id="transform.Transform.split"><code><strong><a href="#transform.Transform.split">split</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 1</span>, <span class=param>typesAfter:</span> ?&#8288;[?&#8288;{<span class=prop>type: </span><a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=prop>attrs: </span>?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>}]) → <span class="prim">this</span></code></dt>

<dd><p>Split the node at the given position, and optionally, if <code>depth</code> is
greater than one, any number of nodes above that. By default, the
parts split off will inherit the node type of the original node.
This can be changed by passing an array of types and attributes to
use after the split.</p>
</dd><dt id="transform.Transform.join"><code><strong><a href="#transform.Transform.join">join</a></strong>(<span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 1</span>) → <span class="prim">this</span></code></dt>

<dd><p>Join the blocks around the given position. If depth is 2, their
last and first siblings are also joined, and so on.</p>
</dd></dl>
<p>The following helper functions can be useful when creating
transformations or determining whether they are even possible.</p>
<dt id="transform.replaceStep"><code><strong><a href="#transform.replaceStep">replaceStep</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>from:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>to:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = from</span>, <span class=param>slice:</span> ?&#8288;<a href="#model.Slice"><span class="type">Slice</span></a><span class=defaultvalue> = Slice.empty</span>) → ?&#8288;<a href="#transform.Step"><span class="type">Step</span></a></code></dt>

<dd><p>‘Fit’ a slice into a given position in the document, producing a
<a href="#transform.Step">step</a> that inserts it. Will return null if
there's no meaningful way to insert the slice here, or inserting it
would be a no-op (an empty slice over an empty range).</p>
</dd>
<dt id="transform.liftTarget"><code><strong><a href="#transform.liftTarget">liftTarget</a></strong>(<span class=param>range:</span> <a href="#model.NodeRange"><span class="type">NodeRange</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Try to find a target depth to which the content in the given range
can be lifted. Will not go across
<a href="#model.NodeSpec.isolating">isolating</a> parent nodes.</p>
</dd>
<dt id="transform.findWrapping"><code><strong><a href="#transform.findWrapping">findWrapping</a></strong>(<span class=param>range:</span> <a href="#model.NodeRange"><span class="type">NodeRange</span></a>, <span class=param>nodeType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>innerRange:</span> ?&#8288;<a href="#model.NodeRange"><span class="type">NodeRange</span></a><span class=defaultvalue> = range</span>) → ?&#8288;[{<span class=prop>type: </span><a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=prop>attrs: </span>?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>}]</code></dt>

<dd><p>Try to find a valid way to wrap the content in the given range in a
node of the given type. May introduce extra nodes around and inside
the wrapper node, if necessary. Returns null if no valid wrapping
could be found. When <code>innerRange</code> is given, that range's content is
used as the content to fit into the wrapping, instead of the
content of <code>range</code>.</p>
</dd>
<dt id="transform.canSplit"><code><strong><a href="#transform.canSplit">canSplit</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>depth:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = 1</span>, <span class=param>typesAfter:</span> ?&#8288;[?&#8288;{<span class=prop>type: </span><a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=prop>attrs: </span>?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>}]) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Check whether splitting at the given position is allowed.</p>
</dd>
<dt id="transform.canJoin"><code><strong><a href="#transform.canJoin">canJoin</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Test whether the blocks before and after a given position can be
joined.</p>
</dd>
<dt id="transform.joinPoint"><code><strong><a href="#transform.joinPoint">joinPoint</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>dir:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class=defaultvalue> = -1</span>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Find an ancestor of the given position that can be joined to the
block before (or after if <code>dir</code> is positive). Returns the joinable
point, if any.</p>
</dd>
<dt id="transform.insertPoint"><code><strong><a href="#transform.insertPoint">insertPoint</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>nodeType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Try to find a point where a node of the given type can be inserted
near <code>pos</code>, by searching up the node hierarchy when <code>pos</code> itself
isn't a valid place but is at the start or end of a node. Return
null if no position was found.</p>
</dd>
<dt id="transform.dropPoint"><code><strong><a href="#transform.dropPoint">dropPoint</a></strong>(<span class=param>doc:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>pos:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>slice:</span> <a href="#model.Slice"><span class="type">Slice</span></a>) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Finds a position at or around the given position where the given
slice can be inserted. Will look at parent nodes' nearest boundary
and try there, even if the original position wasn't directly at the
start or end of that node. Returns null when no position was found.</p>
</dd>
</section><section id=part_commands>
    <h2 class=module id=commands>
      <a href="#commands">prosemirror-commands <span class=kind>module</span></a>
    </h2><p>This module exports a number of <em>commands</em>, which are building block
functions that encapsulate an editing action. A command function takes
an editor state and <em>optionally</em> a <code>dispatch</code> function that it can use
to dispatch a transaction. It should return a boolean that indicates
whether it could perform any action. When no <code>dispatch</code> callback is
passed, the command should do a 'dry run', determining whether it is
applicable, but not actually doing anything.</p>
<p>These are mostly used to bind keys and define menu items.</p>
<dt id="commands.chainCommands"><code><strong><a href="#commands.chainCommands">chainCommands</a></strong>(...<span class=param>commands:</span> [<span class=fn>fn</span>(<a href="#state.EditorState"><span class="type">EditorState</span></a>, ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>), ?&#8288;<a href="#view.EditorView"><span class="type">EditorView</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>]) → <span class=fn>fn</span>(<a href="#state.EditorState"><span class="type">EditorState</span></a>, ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>), ?&#8288;<a href="#view.EditorView"><span class="type">EditorView</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Combine a number of command functions into a single function (which
calls them one by one until one returns true).</p>
</dd>
<dt id="commands.deleteSelection"><code><strong><a href="#commands.deleteSelection">deleteSelection</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Delete the selection, if there is one.</p>
</dd>
<dt id="commands.joinBackward"><code><strong><a href="#commands.joinBackward">joinBackward</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>), <span class=param>view:</span> ?&#8288;<a href="#view.EditorView"><span class="type">EditorView</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>If the selection is empty and at the start of a textblock, try to
reduce the distance between that block and the one before it—if
there's a block directly before it that can be joined, join them.
If not, try to move the selected block closer to the next one in
the document structure by lifting it out of its parent or moving it
into a parent of the previous block. Will use the view for accurate
(bidi-aware) start-of-textblock detection if given.</p>
</dd>
<dt id="commands.selectNodeBackward"><code><strong><a href="#commands.selectNodeBackward">selectNodeBackward</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>), <span class=param>view:</span> ?&#8288;<a href="#view.EditorView"><span class="type">EditorView</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>When the selection is empty and at the start of a textblock, select
the node before that textblock, if possible. This is intended to be
bound to keys like backspace, after
<a href="#commands.joinBackward"><code>joinBackward</code></a> or other deleting
commands, as a fall-back behavior when the schema doesn't allow
deletion at the selected point.</p>
</dd>
<dt id="commands.joinForward"><code><strong><a href="#commands.joinForward">joinForward</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>), <span class=param>view:</span> ?&#8288;<a href="#view.EditorView"><span class="type">EditorView</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>If the selection is empty and the cursor is at the end of a
textblock, try to reduce or remove the boundary between that block
and the one after it, either by joining them or by moving the other
block closer to this one in the tree structure. Will use the view
for accurate start-of-textblock detection if given.</p>
</dd>
<dt id="commands.selectNodeForward"><code><strong><a href="#commands.selectNodeForward">selectNodeForward</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>), <span class=param>view:</span> ?&#8288;<a href="#view.EditorView"><span class="type">EditorView</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>When the selection is empty and at the end of a textblock, select
the node coming after that textblock, if possible. This is intended
to be bound to keys like delete, after
<a href="#commands.joinForward"><code>joinForward</code></a> and similar deleting
commands, to provide a fall-back behavior when the schema doesn't
allow deletion at the selected point.</p>
</dd>
<dt id="commands.joinUp"><code><strong><a href="#commands.joinUp">joinUp</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Join the selected block or, if there is a text selection, the
closest ancestor block of the selection that can be joined, with
the sibling above it.</p>
</dd>
<dt id="commands.joinDown"><code><strong><a href="#commands.joinDown">joinDown</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Join the selected block, or the closest ancestor of the selection
that can be joined, with the sibling after it.</p>
</dd>
<dt id="commands.lift"><code><strong><a href="#commands.lift">lift</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Lift the selected block, or the closest ancestor block of the
selection that can be lifted, out of its parent node.</p>
</dd>
<dt id="commands.newlineInCode"><code><strong><a href="#commands.newlineInCode">newlineInCode</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>If the selection is in a node whose type has a truthy
<a href="#model.NodeSpec.code"><code>code</code></a> property in its spec, replace the
selection with a newline character.</p>
</dd>
<dt id="commands.exitCode"><code><strong><a href="#commands.exitCode">exitCode</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>When the selection is in a node with a truthy
<a href="#model.NodeSpec.code"><code>code</code></a> property in its spec, create a
default block after the code block, and move the cursor there.</p>
</dd>
<dt id="commands.createParagraphNear"><code><strong><a href="#commands.createParagraphNear">createParagraphNear</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>If a block node is selected, create an empty paragraph before (if
it is its parent's first child) or after it.</p>
</dd>
<dt id="commands.liftEmptyBlock"><code><strong><a href="#commands.liftEmptyBlock">liftEmptyBlock</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>If the cursor is in an empty textblock that can be lifted, lift the
block.</p>
</dd>
<dt id="commands.splitBlock"><code><strong><a href="#commands.splitBlock">splitBlock</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Split the parent block of the selection. If the selection is a text
selection, also delete its content.</p>
</dd>
<dt id="commands.splitBlockKeepMarks"><code><strong><a href="#commands.splitBlockKeepMarks">splitBlockKeepMarks</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Acts like <a href="#commands.splitBlock"><code>splitBlock</code></a>, but without
resetting the set of active marks at the cursor.</p>
</dd>
<dt id="commands.selectParentNode"><code><strong><a href="#commands.selectParentNode">selectParentNode</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Move the selection to the node wrapping the current selection, if
any. (Will not select the document node.)</p>
</dd>
<dt id="commands.selectAll"><code><strong><a href="#commands.selectAll">selectAll</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Select the whole document.</p>
</dd>
<dt id="commands.wrapIn"><code><strong><a href="#commands.wrapIn">wrapIn</a></strong>(<span class=param>nodeType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Wrap the selection in a node of the given type with the given
attributes.</p>
</dd>
<dt id="commands.setBlockType"><code><strong><a href="#commands.setBlockType">setBlockType</a></strong>(<span class=param>nodeType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Returns a command that tries to set the selected textblocks to the
given node type with the given attributes.</p>
</dd>
<dt id="commands.toggleMark"><code><strong><a href="#commands.toggleMark">toggleMark</a></strong>(<span class=param>markType:</span> <a href="#model.MarkType"><span class="type">MarkType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Create a command function that toggles the given mark with the
given attributes. Will return <code>false</code> when the current selection
doesn't support that mark. This will remove the mark if any marks
of that type exist in the selection, or add it otherwise. If the
selection is empty, this applies to the <a href="#state.EditorState.storedMarks">stored
marks</a> instead of a range of the
document.</p>
</dd>
<dt id="commands.autoJoin"><code><strong><a href="#commands.autoJoin">autoJoin</a></strong>(<span class=param>command:</span> <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>, <span class=param>isJoinable:</span> <span class=fn>fn</span>(<span class=param>before:</span> <a href="#model.Node"><span class="type">Node</span></a>, <span class=param>after:</span> <a href="#model.Node"><span class="type">Node</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a> | [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>]) → <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Wrap a command so that, when it produces a transform that causes
two joinable nodes to end up next to each other, those are joined.
Nodes are considered joinable when they are of the same type and
when the <code>isJoinable</code> predicate returns true for them or, if an
array of strings was passed, if their node type name is in that
array.</p>
</dd>
<dt id="commands.baseKeymap"><code><strong><a href="#commands.baseKeymap">baseKeymap</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Depending on the detected platform, this will hold
<a href="#commands.pcBaseKeymap"><code>pcBasekeymap</code></a> or
<a href="#commands.macBaseKeymap"><code>macBaseKeymap</code></a>.</p>
</dd>
<dt id="commands.pcBaseKeymap"><code><strong><a href="#commands.pcBaseKeymap">pcBaseKeymap</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>A basic keymap containing bindings not specific to any schema.
Binds the following keys (when multiple commands are listed, they
are chained with <a href="#commands.chainCommands"><code>chainCommands</code></a>):</p>
<ul>
<li><strong>Enter</strong> to <code>newlineInCode</code>, <code>createParagraphNear</code>, <code>liftEmptyBlock</code>, <code>splitBlock</code></li>
<li><strong>Mod-Enter</strong> to <code>exitCode</code></li>
<li><strong>Backspace</strong> and <strong>Mod-Backspace</strong> to <code>deleteSelection</code>, <code>joinBackward</code>, <code>selectNodeBackward</code></li>
<li><strong>Delete</strong> and <strong>Mod-Delete</strong> to <code>deleteSelection</code>, <code>joinForward</code>, <code>selectNodeForward</code></li>
<li><strong>Mod-Delete</strong> to <code>deleteSelection</code>, <code>joinForward</code>, <code>selectNodeForward</code></li>
<li><strong>Mod-a</strong> to <code>selectAll</code></li>
</ul>
</dd>
<dt id="commands.macBaseKeymap"><code><strong><a href="#commands.macBaseKeymap">macBaseKeymap</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>A copy of <code>pcBaseKeymap</code> that also binds <strong>Ctrl-h</strong> like Backspace,
<strong>Ctrl-d</strong> like Delete, <strong>Alt-Backspace</strong> like Ctrl-Backspace, and
<strong>Ctrl-Alt-Backspace</strong>, <strong>Alt-Delete</strong>, and <strong>Alt-d</strong> like
Ctrl-Delete.</p>
</dd>
</section><section id=part_history>
    <h2 class=module id=history>
      <a href="#history">prosemirror-history <span class=kind>module</span></a>
    </h2><p>An implementation of an undo/redo history for ProseMirror. This
history is <em>selective</em>, meaning it does not just roll back to a
previous state but can undo some changes while keeping other, later
changes intact. (This is necessary for collaborative editing, and
comes up in other situations as well.)</p>
<dt id="history.history"><code><strong><a href="#history.history">history</a></strong>(<span class=param>config:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p>Returns a plugin that enables the undo history for an editor. The
plugin will track undo and redo stacks, which can be used with the
<a href="#history.undo"><code>undo</code></a> and <a href="#history.redo"><code>redo</code></a> commands.</p>
<p>You can set an <code>&quot;addToHistory&quot;</code> <a href="#state.Transaction.setMeta">metadata
property</a> of <code>false</code> on a transaction
to prevent it from being rolled back by undo.</p>
<dl><dt id="history.history^config"><code><strong><a href="#history.history%5Econfig">config</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Supports the following configuration options:</p>
<dl><dt id="history.history^config.depth"><code><strong><a href="#history.history%5Econfig.depth">depth</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The amount of history events that are collected before the
oldest events are discarded. Defaults to 100.</p>
</dd><dl><dt id="history.history^config.newGroupDelay"><code><strong><a href="#history.history%5Econfig.newGroupDelay">newGroupDelay</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The delay between changes after which a new group should be
started. Defaults to 500 (milliseconds). Note that when changes
aren't adjacent, a new group is always started.</p>
</dd></dd></dd>
<dt id="history.undo"><code><strong><a href="#history.undo">undo</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>A command function that undoes the last change, if any.</p>
</dd>
<dt id="history.redo"><code><strong><a href="#history.redo">redo</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>A command function that redoes the last undone change, if any.</p>
</dd>
<dt id="history.undoDepth"><code><strong><a href="#history.undoDepth">undoDepth</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The amount of undoable events available in a given state.</p>
</dd>
<dt id="history.redoDepth"><code><strong><a href="#history.redoDepth">redoDepth</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The amount of redoable events available in a given editor state.</p>
</dd>
<dt id="history.closeHistory"><code><strong><a href="#history.closeHistory">closeHistory</a></strong>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Set a flag on the given transaction that will prevent further steps
from being appended to an existing history event (so that they
require a separate undo command to undo).</p>
</dd>
</section><section id=part_collab>
    <h2 class=module id=collab>
      <a href="#collab">prosemirror-collab <span class=kind>module</span></a>
    </h2><p>This module implements an API into which a communication channel for
collaborative editing can be hooked. See
<a href="../guide/index.html#collab">the guide</a> for more details and an example.</p>
<dt id="collab.collab"><code><strong><a href="#collab.collab">collab</a></strong>(<span class=param>config:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a><span class=defaultvalue> = {}</span>) → <a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p>Creates a plugin that enables the collaborative editing framework
for the editor.</p>
<dl><dt id="collab.collab^config"><code><strong><a href="#collab.collab%5Econfig">config</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>An optional set of options</p>
<dl><dt id="collab.collab^config.version"><code><strong><a href="#collab.collab%5Econfig.version">version</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>The starting version number of the collaborative editing.
Defaults to 0.</p>
</dd><dl><dt id="collab.collab^config.clientID"><code><strong><a href="#collab.collab%5Econfig.clientID">clientID</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p>This client's ID, used to distinguish its changes from those of
other clients. Defaults to a random 32-bit number.</p>
</dd></dd></dd>
<dt id="collab.getVersion"><code><strong><a href="#collab.getVersion">getVersion</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p>Get the version up to which the collab plugin has synced with the
central authority.</p>
</dd>
<dt id="collab.receiveTransaction"><code><strong><a href="#collab.receiveTransaction">receiveTransaction</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>steps:</span> [<a href="#transform.Step"><span class="type">Step</span></a>], <span class=param>clientIDs:</span> [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>], <span class=param>options:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p>Create a transaction that represents a set of new steps received from
the authority. Applying this transaction moves the state forward to
adjust to the authority's view of the document.</p>
<dl><dt id="collab.receiveTransaction^options"><code><strong><a href="#collab.receiveTransaction%5Eoptions">options</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p>Additional options.</p>
<dl><dt id="collab.receiveTransaction^options.mapSelectionBackward"><code><strong><a href="#collab.receiveTransaction%5Eoptions.mapSelectionBackward">mapSelectionBackward</a></strong>: ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p>When enabled (the default is <code>false</code>), if the current selection
is a <a href="#state.TextSelection">text selection</a>, its sides are
mapped with a negative bias for this transaction, so that
content inserted at the cursor ends up after the cursor. Users
usually prefer this, but it isn't done by default for reasons
of backwards compatibility.</p>
</dd></dd></dd>
<dt id="collab.sendableSteps"><code><strong><a href="#collab.sendableSteps">sendableSteps</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>) → ?&#8288;{<span class=prop>version: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=prop>steps: </span>[<a href="#transform.Step"><span class="type">Step</span></a>], <span class=prop>clientID: </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class=prop>origins: </span>[<a href="#state.Transaction"><span class="type">Transaction</span></a>]}</code></dt>

<dd><p>Provides data describing the editor's unconfirmed steps, which need
to be sent to the central authority. Returns null when there is
nothing to send.</p>
<p><code>origins</code> holds the <em>original</em> transactions that produced each
steps. This can be useful for looking up time stamps and other
metadata for the steps, but note that the steps may have been
rebased, whereas the origin transactions are still the old,
unchanged objects.</p>
</dd>
</section><section id=part_keymap>
    <h2 class=module id=keymap>
      <a href="#keymap">prosemirror-keymap <span class=kind>module</span></a>
    </h2><p>A plugin for conveniently defining key bindings.</p>
<dt id="keymap.keymap"><code><strong><a href="#keymap.keymap">keymap</a></strong>(<span class=param>bindings:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p>Create a keymap plugin for the given set of bindings.</p>
<p>Bindings should map key names to <a href="#commands">command</a>-style
functions, which will be called with <code>(EditorState, dispatch, EditorView)</code> arguments, and should return true when they've handled
the key. Note that the view argument isn't part of the command
protocol, but can be used as an escape hatch if a binding needs to
directly interact with the UI.</p>
<p>Key names may be strings like <code>&quot;Shift-Ctrl-Enter&quot;</code>—a key
identifier prefixed with zero or more modifiers. Key identifiers
are based on the strings that can appear in
<a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key"><code>KeyEvent.key</code></a>.
Use lowercase letters to refer to letter keys (or uppercase letters
if you want shift to be held). You may use <code>&quot;Space&quot;</code> as an alias
for the <code>&quot; &quot;</code> name.</p>
<p>Modifiers can be given in any order. <code>Shift-</code> (or <code>s-</code>), <code>Alt-</code> (or
<code>a-</code>), <code>Ctrl-</code> (or <code>c-</code> or <code>Control-</code>) and <code>Cmd-</code> (or <code>m-</code> or
<code>Meta-</code>) are recognized. For characters that are created by holding
shift, the <code>Shift-</code> prefix is implied, and should not be added
explicitly.</p>
<p>You can use <code>Mod-</code> as a shorthand for <code>Cmd-</code> on Mac and <code>Ctrl-</code> on
other platforms.</p>
<p>You can add multiple keymap plugins to an editor. The order in
which they appear determines their precedence (the ones early in
the array get to dispatch first).</p>
</dd>
<dt id="keymap.keydownHandler"><code><strong><a href="#keymap.keydownHandler">keydownHandler</a></strong>(<span class=param>bindings:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <span class=fn>fn</span>(<span class=param>view:</span> <a href="#view.EditorView"><span class="type">EditorView</span></a>, <span class=param>event:</span> <a href="https://developer.mozilla.org/en-US/docs/DOM/event"><span class="type">dom.Event</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Given a set of bindings (using the same format as
<a href="#keymap.keymap"><code>keymap</code></a>, return a <a href="#view.EditorProps.handleKeyDown">keydown
handler</a> handles them.</p>
</dd>
</section><section id=part_inputrules>
    <h2 class=module id=inputrules>
      <a href="#inputrules">prosemirror-inputrules <span class=kind>module</span></a>
    </h2><p>This module defines a plugin for attaching <em>input rules</em> to an editor,
which can react to or transform text typed by the user. It also comes
with a bunch of default rules that can be enabled in this plugin.</p>
<h4 id="inputrules.InputRule">
  <a href="#inputrules.InputRule">InputRule</a> <span class=kind>class</span></h4><p>Input rules are regular expressions describing a piece of text
that, when typed, causes something to happen. This might be
changing two dashes into an emdash, wrapping a paragraph starting
with <code>&quot;&gt; &quot;</code> into a blockquote, or something entirely different.</p>
<dl><dt id="inputrules.InputRule.constructor"><code>new <strong><a href="#inputrules.InputRule.constructor">InputRule</a></strong>(<span class=param>match:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><span class="type">RegExp</span></a>, <span class=param>handler:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>match:</span> [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>], <span class=param>start:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class=param>end:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) → ?&#8288;<a href="#state.Transaction"><span class="type">Transaction</span></a>)</code></dt>

<dd><p>Create an input rule. The rule applies when the user typed
something and the text directly in front of the cursor matches
<code>match</code>, which should probably end with <code>$</code>.</p>
<p>The <code>handler</code> can be a string, in which case the matched text, or
the first matched group in the regexp, is replaced by that
string.</p>
<p>Or a it can be a function, which will be called with the match
array produced by
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec"><code>RegExp.exec</code></a>,
as well as the start and end of the matched range, and which can
return a <a href="#state.Transaction">transaction</a> that describes the
rule's effect, or null to indicate the input was not handled.</p>
</dd></dl>
<dt id="inputrules.inputRules"><code><strong><a href="#inputrules.inputRules">inputRules</a></strong>(<span class=param>config:</span> {<span class=prop>rules: </span>[<a href="#inputrules.InputRule"><span class="type">InputRule</span></a>]}) → <a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p>Create an input rules plugin. When enabled, it will cause text
input that matches any of the given rules to trigger the rule's
action.</p>
</dd>
<dt id="inputrules.undoInputRule"><code><strong><a href="#inputrules.undoInputRule">undoInputRule</a></strong>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>This is a command that will undo an input rule, if applying such a
rule was the last thing that the user did.</p>
</dd>
<p>The module comes with a number of predefined rules:</p>
<dt id="inputrules.emDash"><code><strong><a href="#inputrules.emDash">emDash</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p>Converts double dashes to an emdash.</p>
</dd>
<dt id="inputrules.ellipsis"><code><strong><a href="#inputrules.ellipsis">ellipsis</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p>Converts three dots to an ellipsis character.</p>
</dd>
<dt id="inputrules.openDoubleQuote"><code><strong><a href="#inputrules.openDoubleQuote">openDoubleQuote</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p>“Smart” opening double quotes.</p>
</dd>
<dt id="inputrules.closeDoubleQuote"><code><strong><a href="#inputrules.closeDoubleQuote">closeDoubleQuote</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p>“Smart” closing double quotes.</p>
</dd>
<dt id="inputrules.openSingleQuote"><code><strong><a href="#inputrules.openSingleQuote">openSingleQuote</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p>“Smart” opening single quotes.</p>
</dd>
<dt id="inputrules.closeSingleQuote"><code><strong><a href="#inputrules.closeSingleQuote">closeSingleQuote</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p>“Smart” closing single quotes.</p>
</dd>
<dt id="inputrules.smartQuotes"><code><strong><a href="#inputrules.smartQuotes">smartQuotes</a></strong>: [<a href="#inputrules.InputRule"><span class="type">InputRule</span></a>]</code></dt>

<dd><p>Smart-quote related input rules.</p>
</dd>
<p>These utility functions take schema-specific parameters and create
input rules specific to that schema.</p>
<dt id="inputrules.wrappingInputRule"><code><strong><a href="#inputrules.wrappingInputRule">wrappingInputRule</a></strong>(<span class=param>regexp:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><span class="type">RegExp</span></a>, <span class=param>nodeType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>getAttrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a> | <span class=fn>fn</span>([<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>]) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, <span class=param>joinPredicate:</span> ?&#8288;<span class=fn>fn</span>([<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>], <a href="#model.Node"><span class="type">Node</span></a>) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a>) → <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p>Build an input rule for automatically wrapping a textblock when a
given string is typed. The <code>regexp</code> argument is
directly passed through to the <code>InputRule</code> constructor. You'll
probably want the regexp to start with <code>^</code>, so that the pattern can
only occur at the start of a textblock.</p>
<p><code>nodeType</code> is the type of node to wrap in. If it needs attributes,
you can either pass them directly, or pass a function that will
compute them from the regular expression match.</p>
<p>By default, if there's a node with the same type above the newly
wrapped node, the rule will try to <a href="#transform.Transform.join">join</a> those
two nodes. You can pass a join predicate, which takes a regular
expression match and the node before the wrapped node, and can
return a boolean to indicate whether a join should happen.</p>
</dd>
<dt id="inputrules.textblockTypeInputRule"><code><strong><a href="#inputrules.textblockTypeInputRule">textblockTypeInputRule</a></strong>(<span class=param>regexp:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><span class="type">RegExp</span></a>, <span class=param>nodeType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>getAttrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a> | <span class=fn>fn</span>([<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>]) → ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p>Build an input rule that changes the type of a textblock when the
matched text is typed into it. You'll usually want to start your
regexp with <code>^</code> to that it is only matched at the start of a
textblock. The optional <code>getAttrs</code> parameter can be used to compute
the new node's attributes, and works the same as in the
<code>wrappingInputRule</code> function.</p>
</dd>
</section><section id=part_gapcursor>
    <h2 class=module id=gapcursor>
      <a href="#gapcursor">prosemirror-gapcursor <span class=kind>module</span></a>
    </h2><p>This is a plugin that adds a type of selection for focusing places
that don't allow regular selection (such as positions that have a leaf
block node, table, or the end of the document both before and after
them).</p>
<p>You'll probably want to load <code>style/gapcursor.css</code>, which contains
basic styling for the simulated cursor (as a short, blinking
horizontal stripe).</p>
<p>By default, gap cursor are only allowed in places where the default
content node (in the schema content constraints) is a textblock node.
You can customize this by adding an <code>allowGapCursor</code> property to your
node specs—if it's true, gap cursor are allowed everywhere in that
node, if it's <code>false</code> they are never allowed.</p>
<dt id="gapcursor.gapCursor"><code><strong><a href="#gapcursor.gapCursor">gapCursor</a></strong>() → <a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p>Create a gap cursor plugin. When enabled, this will capture clicks
near and arrow-key-motion past places that don't have a normally
selectable position nearby, and create a gap cursor selection for
them. The cursor is drawn as an element with class
<code>ProseMirror-gapcursor</code>. You can either include
<code>style/gapcursor.css</code> from the package's directory or add your own
styles to make it visible.</p>
</dd>
<h4 id="gapcursor.GapCursor">
  <a href="#gapcursor.GapCursor">GapCursor</a> <span class=kind>class</span> <span class=extends>extends <code><a href="#state.Selection"><span class="type">Selection</span></a></code></span></h4><p>Gap cursor selections are represented using this class. Its
<code>$anchor</code> and <code>$head</code> properties both point at the cursor position.</p>
<dl></dl>
</section><section id=part_schema-basic>
    <h2 class=module id=schema-basic>
      <a href="#schema-basic">prosemirror-schema-basic <span class=kind>module</span></a>
    </h2><p>This module defines a simple schema. You can use it directly, extend
it, or just pick out a few node and mark specs to use in a new schema.</p>
<dt id="schema-basic.schema"><code><strong><a href="#schema-basic.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p>This schema rougly corresponds to the document schema used by
<a href="http://commonmark.org/">CommonMark</a>, minus the list elements,
which are defined in the <a href="#schema-list"><code>prosemirror-schema-list</code></a>
module.</p>
<p>To reuse elements from this schema, extend or read from its
<code>spec.nodes</code> and <code>spec.marks</code> <a href="#model.Schema.spec">properties</a>.</p>
</dd>
<dt id="schema-basic.nodes"><code><strong><a href="#schema-basic.nodes">nodes</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p><a href="#model.NodeSpec">Specs</a> for the nodes defined in this schema.</p>
<dl><dt id="schema-basic.nodes.doc"><code><strong><a href="#schema-basic.nodes.doc">doc</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>The top level document node.</p>
</dd><dl><dt id="schema-basic.nodes.paragraph"><code><strong><a href="#schema-basic.nodes.paragraph">paragraph</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>A plain paragraph textblock. Represented in the DOM
as a <code>&lt;p&gt;</code> element.</p>
</dd><dl><dt id="schema-basic.nodes.blockquote"><code><strong><a href="#schema-basic.nodes.blockquote">blockquote</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>A blockquote (<code>&lt;blockquote&gt;</code>) wrapping one or more blocks.</p>
</dd><dl><dt id="schema-basic.nodes.horizontal_rule"><code><strong><a href="#schema-basic.nodes.horizontal_rule">horizontal_rule</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>A horizontal rule (<code>&lt;hr&gt;</code>).</p>
</dd><dl><dt id="schema-basic.nodes.heading"><code><strong><a href="#schema-basic.nodes.heading">heading</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>A heading textblock, with a <code>level</code> attribute that
should hold the number 1 to 6. Parsed and serialized as <code>&lt;h1&gt;</code> to
<code>&lt;h6&gt;</code> elements.</p>
</dd><dl><dt id="schema-basic.nodes.code_block"><code><strong><a href="#schema-basic.nodes.code_block">code_block</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>A code listing. Disallows marks or non-text inline
nodes by default. Represented as a <code>&lt;pre&gt;</code> element with a
<code>&lt;code&gt;</code> element inside of it.</p>
</dd><dl><dt id="schema-basic.nodes.text"><code><strong><a href="#schema-basic.nodes.text">text</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>The text node.</p>
</dd><dl><dt id="schema-basic.nodes.image"><code><strong><a href="#schema-basic.nodes.image">image</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>An inline image (<code>&lt;img&gt;</code>) node. Supports <code>src</code>,
<code>alt</code>, and <code>href</code> attributes. The latter two default to the empty
string.</p>
</dd><dl><dt id="schema-basic.nodes.hard_break"><code><strong><a href="#schema-basic.nodes.hard_break">hard_break</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>A hard line break, represented in the DOM as <code>&lt;br&gt;</code>.</p>
</dd></dd>
<dt id="schema-basic.marks"><code><strong><a href="#schema-basic.marks">marks</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p><a href="#model.MarkSpec">Specs</a> for the marks in the schema.</p>
<dl><dt id="schema-basic.marks.link"><code><strong><a href="#schema-basic.marks.link">link</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p>A link. Has <code>href</code> and <code>title</code> attributes. <code>title</code>
defaults to the empty string. Rendered and parsed as an <code>&lt;a&gt;</code>
element.</p>
</dd><dl><dt id="schema-basic.marks.em"><code><strong><a href="#schema-basic.marks.em">em</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p>An emphasis mark. Rendered as an <code>&lt;em&gt;</code> element.
Has parse rules that also match <code>&lt;i&gt;</code> and <code>font-style: italic</code>.</p>
</dd><dl><dt id="schema-basic.marks.strong"><code><strong><a href="#schema-basic.marks.strong">strong</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p>A strong mark. Rendered as <code>&lt;strong&gt;</code>, parse rules
also match <code>&lt;b&gt;</code> and <code>font-weight: bold</code>.</p>
</dd><dl><dt id="schema-basic.marks.code"><code><strong><a href="#schema-basic.marks.code">code</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p>Code font mark. Represented as a <code>&lt;code&gt;</code> element.</p>
</dd></dd>
</section><section id=part_schema-list>
    <h2 class=module id=schema-list>
      <a href="#schema-list">prosemirror-schema-list <span class=kind>module</span></a>
    </h2><p>This module exports list-related schema elements and commands. The
commands assume lists to be nestable, with the restriction that the
first child of a list item is a plain paragraph.</p>
<p>These are the node specs:</p>
<dt id="schema-list.orderedList"><code><strong><a href="#schema-list.orderedList">orderedList</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>An ordered list <a href="#model.NodeSpec">node spec</a>. Has a single
attribute, <code>order</code>, which determines the number at which the list
starts counting, and defaults to 1. Represented as an <code>&lt;ol&gt;</code>
element.</p>
</dd>
<dt id="schema-list.bulletList"><code><strong><a href="#schema-list.bulletList">bulletList</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>A bullet list node spec, represented in the DOM as <code>&lt;ul&gt;</code>.</p>
</dd>
<dt id="schema-list.listItem"><code><strong><a href="#schema-list.listItem">listItem</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p>A list item (<code>&lt;li&gt;</code>) spec.</p>
</dd>
<dt id="schema-list.addListNodes"><code><strong><a href="#schema-list.addListNodes">addListNodes</a></strong>(<span class=param>nodes:</span> <a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.NodeSpec"><span class="type">NodeSpec</span></a>&gt;, <span class=param>itemContent:</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class=param>listGroup:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) → <a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.NodeSpec"><span class="type">NodeSpec</span></a>&gt;</code></dt>

<dd><p>Convenience function for adding list-related node types to a map
specifying the nodes for a schema. Adds
<a href="#schema-list.orderedList"><code>orderedList</code></a> as <code>&quot;ordered_list&quot;</code>,
<a href="#schema-list.bulletList"><code>bulletList</code></a> as <code>&quot;bullet_list&quot;</code>, and
<a href="#schema-list.listItem"><code>listItem</code></a> as <code>&quot;list_item&quot;</code>.</p>
<p><code>itemContent</code> determines the content expression for the list items.
If you want the commands defined in this module to apply to your
list structure, it should have a shape like <code>&quot;paragraph block*&quot;</code> or
<code>&quot;paragraph (ordered_list | bullet_list)*&quot;</code>. <code>listGroup</code> can be
given to assign a group name to the list node types, for example
<code>&quot;block&quot;</code>.</p>
</dd>
<p>Using this would look something like this:</p>
<pre><code class="language-javascript"><span class="hl-keyword">const</span> <span class="hl-def">mySchema</span> <span class="hl-operator">=</span> <span class="hl-keyword">new</span> <span class="hl-variable">Schema</span>({
  <span class="hl-property">nodes</span>: <span class="hl-variable">addListNodes</span>(<span class="hl-variable">baseSchema</span>.<span class="hl-property">spec</span>.<span class="hl-property">nodes</span>, <span class="hl-string">&quot;paragraph block*&quot;</span>, <span class="hl-string">&quot;block&quot;</span>),
  <span class="hl-property">marks</span>: <span class="hl-variable">baseSchema</span>.<span class="hl-property">spec</span>.<span class="hl-property">marks</span>
})
</code></pre>
<p>The following functions are <a href="../guide/index.html#commands">commands</a>:</p>
<dt id="schema-list.wrapInList"><code><strong><a href="#schema-list.wrapInList">wrapInList</a></strong>(<span class=param>listType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class=param>attrs:</span> ?&#8288;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) → <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Returns a command function that wraps the selection in a list with
the given type an attributes. If <code>dispatch</code> is null, only return a
value to indicate whether this is possible, but don't actually
perform the change.</p>
</dd>
<dt id="schema-list.splitListItem"><code><strong><a href="#schema-list.splitListItem">splitListItem</a></strong>(<span class=param>itemType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>) → <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Build a command that splits a non-empty textblock at the top level
of a list item by also splitting that list item.</p>
</dd>
<dt id="schema-list.liftListItem"><code><strong><a href="#schema-list.liftListItem">liftListItem</a></strong>(<span class=param>itemType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>) → <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Create a command to lift the list item around the selection up into
a wrapping list.</p>
</dd>
<dt id="schema-list.sinkListItem"><code><strong><a href="#schema-list.sinkListItem">sinkListItem</a></strong>(<span class=param>itemType:</span> <a href="#model.NodeType"><span class="type">NodeType</span></a>) → <span class=fn>fn</span>(<span class=param>state:</span> <a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class=param>dispatch:</span> ?&#8288;<span class=fn>fn</span>(<span class=param>tr:</span> <a href="#state.Transaction"><span class="type">Transaction</span></a>)) → <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">bool</span></a></code></dt>

<dd><p>Create a command to sink the list item around the selection down
into an inner list.</p>
</dd>
</section></article>

<footer>
  <nav>
    <a class=logo href="index.html">&nbsp;</a>
    <div class=navlinks>
      <a href="../../backers.html">Backers</a>
      <a href="http://contributor-covenant.org/version/1/1/0/">Code of Conduct</a>
      <a href="https://discuss.prosemirror.net/">Discuss</a>
      <a href="https://github.com/prosemirror/prosemirror/issues">Report an Issue</a>
    </div>
  </nav>
</footer>

</html>