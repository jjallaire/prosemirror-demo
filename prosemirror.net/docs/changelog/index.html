<!doctype html>
<html lang=en-US>
<meta charset=utf-8>
<meta name="viewport" content="width=device-width, initial-scale=1"><title>ProseMirror Changelog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel=stylesheet href="../../css/site.css">

<header >
  <nav>
    <a class=logo href="../../index.html">ProseMirror</a>
    <div class=navlinks><a href="../../examples/index.html" >Examples</a>
      <a href="../index.html" class=active>Documentation</a>
      <a href="https://discuss.prosemirror.net/">Discuss</a>
      <a href="https://github.com/prosemirror">GitHub</a>
      <a href="https://twitter.com/prosemirror">Twitter</a>
    </div>
  </nav></header><article><h2>Version Changelog</h2><h3><a href="../ref/index.html#view">prosemirror-view</a> 1.7.1 (2019-02-04)</h3>
<h4>Bug fixes</h4>
<p>Fix an issue on Safari where an Enter key events that was part of a composition is interpreted as stand-alone Enter press.</p>
<h3><a href="../ref/index.html#schema-list">prosemirror-schema-list</a> 1.0.2 (2019-01-31)</h3>
<h4>Bug fixes</h4>
<p><code>sinkListItem</code> no longer preserves marks from the outer list when creating an inner list.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.7.0 (2019-01-29)</h3>
<h4>New features</h4>
<p>Mark specs now support a property <a href="../ref/index.html#model.MarkSpec.spanning"><code>spanning</code></a> which, when set to <code>false</code>, prevents the mark's DOM markup from spanning multiple nodes, so that a separate wrapper is created for each adjacent marked node.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.7.0 (2019-01-29)</h3>
<h4>Bug fixes</h4>
<p>Fix an issue where node selections on uneditable nodes couldn't be copied or cut on Chrome.</p>
<h4>New features</h4>
<p>The editable view now recognizes the <a href="../ref/index.html#model.MarkSpec.spanning"><code>spanning</code></a> mark property.</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.3.0 (2019-01-22)</h3>
<h4>Bug fixes</h4>
<p>Inline code containing backticks is now serialized wrapped in the appropriate amount of backticks.</p>
<h4>New features</h4>
<p>The serializer now serializes links whose target is the same as their text content using &lt; &gt; syntax.</p>
<p>Mark opening and close string callbacks now get passed the mark's context (parent fragment and index).</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 2.0.3 (2019-01-09)</h3>
<h4>Bug fixes</h4>
<p>Make <code>simplifyChanges</code> merge adjacent simplified changes (which can occur when a word boundary is inserted).</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 2.0.2 (2019-01-08)</h3>
<h4>Bug fixes</h4>
<p>Fix a bug in simplifyChanges that only occurred when the changes weren't at the start of the document.</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 2.0.1 (2019-01-07)</h3>
<h4>Bug fixes</h4>
<p>Fixes issue in <code>simplifyChanges</code> where it sometimes returned nonsense when the inspected text wasn't at the start of the document.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.6.4 (2019-01-05)</h3>
<h4>Bug fixes</h4>
<p>Don't output empty style attributes when a style property with a null value is present in <code>renderSpec</code>.</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 2.0.0 (2019-01-04)</h3>
<h4>Bug fixes</h4>
<p>Solves various cases where complicated edits could corrupt the set of changes due to the mapped positions of deletions not agreeing with the mapped positions of insertions.</p>
<h4>New features</h4>
<p>Moves to a more efficient diffing algorithm (Meyers), so that large replacements can be accurately diffed using reasonable time and memory.</p>
<p>You can now find the original document given to a <code>ChangeSet</code> with its <code>startDoc</code> accessor.</p>
<h4>Breaking changes</h4>
<p>The way change data is stored in <code>ChangeSet</code> objects works differently in this version. Instead of keeping deletions and insertions in separate arrays, the object holds an array of changes, which cover all the changed regions between the old and new document. Each change has start and end positions in both the old and the new document, and contains arrays of insertions and deletions within it.</p>
<p>This representation avoids a bunch of consistency problems that existed in the old approach, where keeping positions coherent in the deletion and insertion arrays was hard.</p>
<p>This means the <code>deletions</code> and <code>insertions</code> members in <code>ChangeSet</code> are gone, and instead there is a <code>changes</code> property which holds an array of <code>Change</code> objects. Each of these has <code>fromA</code> and <code>toA</code> properties indicating its extent in the old document, and <code>fromB</code> and <code>toB</code> properties pointing into the new document. Actual insertions and deletions are stored in <code>inserted</code> and <code>deleted</code> arrays in <code>Change</code> objects, which hold <code>{data, length}</code> objects, where the total length of deletions adds up to <code>toA - fromA</code>, and the total length of insertions to <code>toB - fromB</code>.</p>
<p>When creating a <code>ChangeSet</code> object, you no longer need to pass separate compare and combine callbacks. Instead, these are now represented using a single function that returns a combined data value or <code>null</code> when the values are not compatible.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.6.8 (2019-01-03)</h3>
<h4>Bug fixes</h4>
<p>When replacing a selection by typing over it with a letter that matches its start or end, the editor now generates a step that covers the whole replacement.</p>
<p>Fixes dragging a node when the mouse is in a child DOM element that doesn't represent a document node. Work around Chrome bug in selection management</p>
<p>Fixes an issue in Chrome where clicking at the start of a textblock after a selected node would sometimes not move the cursor there.</p>
<p>Fix issue where a node view's <code>getPos</code> callback could sometimes return <code>NaN</code>.</p>
<p>Fix an issue where deleting more than 5 nodes might cause the nodes after that to be needlessly redrawn.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.6.7 (2018-11-26)</h3>
<h4>Bug fixes</h4>
<p>Avoids redrawing of content with marks when other content in front of it is deleted.</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.2.2 (2018-11-22)</h3>
<h4>Bug fixes</h4>
<p>Hard breaks at the end of an emphasized or strong mark are no longer serialized to invalid Markdown text.</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 1.2.1 (2018-11-15)</h3>
<h4>Bug fixes</h4>
<p>Properly apply the heuristics for ignoring short matches when diffing, and adjust those heuristics to more agressively weed out tiny matches in large changes.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.6.6 (2018-11-15)</h3>
<h4>Bug fixes</h4>
<p>Work around a Chrome bug where programmatic changes near the cursor sometimes cause the visible and reported selection to disagree.</p>
<p>Changing the <code>nodeView</code> prop will no longer leave outdated node views in the DOM.</p>
<p>Work around an issue where Chrome unfocuses the editor or scrolls way down when pressing down arrow with the cursor between the start of a textblock and an uneditable element.</p>
<p>Fix a bug where mapping decoration sets through changes that changed the structure of decorated subtrees sometimes produced corrupted output.</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 1.2.0 (2018-11-08)</h3>
<h4>New features</h4>
<p>The new <code>changedRange</code> method can be used to compare two change sets and find out which range has changed.</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 1.1.0 (2018-11-07)</h3>
<h4>New features</h4>
<p>Add a new method, <code>ChangeSet.map</code> to update the data associated with changed ranges.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.6.5 (2018-10-29)</h3>
<h4>Bug fixes</h4>
<p>Work around Safari issue where deleting the last bit of text in a table cell creates weird HTML with a BR in a table row.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.6.3 (2018-10-26)</h3>
<h4>Bug fixes</h4>
<p>The DOM parser now drops whitespace after BR nodes when not in whitespace-preserving mode.</p>
<h3><a href="../ref/index.html#dropcursor">prosemirror-dropcursor</a> 1.1.1 (2018-10-23)</h3>
<h4>Bug fixes</h4>
<p>Fix crash when destroying the plugin, due to a misspelled method name.</p>
<h3><a href="../ref/index.html#dropcursor">prosemirror-dropcursor</a> 1.1.0 (2018-10-22)</h3>
<h4>Bug fixes</h4>
<p>Fixes an issue where drop cursors changed line breaking, causing the content to jump around during dragging.</p>
<h4>New features</h4>
<p>Between-blocks drop cursors are now shown as a horizontal line.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.6.4 (2018-10-19)</h3>
<h4>Bug fixes</h4>
<p>Fix pasting when both text and files are present on the clipboard.</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.2.1 (2018-10-19)</h3>
<h4>Bug fixes</h4>
<p>Fixes a bug where inline mark delimiters were serialized incorrectly (the closing and opening marks were swapped, which was only noticeable when they are different).</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.6.3 (2018-10-12)</h3>
<h4>Bug fixes</h4>
<p>The editor will no longer try to handle file paste events with the old-browser compatibility kludge (which might cause scrolling and focus flickering).</p>
<h3><a href="../ref/index.html#collab">prosemirror-collab</a> 1.1.1 (2018-10-09)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where <code>mapSelectionBackward</code> didn't work because of a typo.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.6.2 (2018-10-08)</h3>
<h4>Bug fixes</h4>
<p>Fixes an issue where event handlers were leaked when destroying an editor</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.2.0 (2018-10-08)</h3>
<h4>Bug fixes</h4>
<p>Fixes an issue where the Markdown serializer would escape special characters in inline code.</p>
<h4>New features</h4>
<p>Upgrade the markdown-it dependency to version 8.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 1.0.3 (2018-10-08)</h3>
<h4>Bug fixes</h4>
<p>Appending a transaction to an undo transaction will no longer immediately clear the redo history.</p>
<p>When handling appended transactions, the history will keep the last step in the original transaction, not the one from the appended transaction, for testing whether a subsequent transaction is adjacent to the previous one.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.6.1 (2018-10-01)</h3>
<h4>Bug fixes</h4>
<p>Fixes situation where a vertical <a href="../ref/index.html#view.EditorView.endOfTextblock"><code>endOfTextblock</code></a> query could get confused by nearby widgets or complex parent node representation.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.6.2 (2018-10-01)</h3>
<h4>Bug fixes</h4>
<p>Prevent <a href="../ref/index.html#model.ContentMatch.findWrapping"><code>ContentMatch.findWrapping</code></a> from returning node types with required attributes.</p>
<h3><a href="../ref/index.html#gapcursor">prosemirror-gapcursor</a> 1.0.3 (2018-10-01)</h3>
<h4>Bug fixes</h4>
<p>Don't blanket-forbid gap cursors next to textblocks</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.6.0 (2018-09-27)</h3>
<h4>Bug fixes</h4>
<p>Fixes a corner case in which DecorationSet.map would map decorations to incorrect new positions.</p>
<p>When the editor contains scrollable elements, scrolling the cursor into view also scrolls those.</p>
<h4>New features</h4>
<p>The <code>scrollMargin</code> and <code>scrollThreshold</code> props may now hold <code>{left, right, top, bottom}</code> objects to set different margins and thresholds for different sides. Make scrolling from a given start node more robust</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 1.0.5 (2018-09-25)</h3>
<h4>Bug fixes</h4>
<p>Fix another issue where overlapping changes that can't be merged could produce a corrupt change set.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.5.3 (2018-09-24)</h3>
<h4>Bug fixes</h4>
<p>The cursor is now scrolled into view after keyboard driven selection changes even when they were handled by the browser.</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 1.0.4 (2018-09-24)</h3>
<h4>Bug fixes</h4>
<p>Fixes an issue where <code>addSteps</code> could produce invalid change sets when a new step's deleted range overlapped with an incompatible previous deletion.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.5.2 (2018-09-07)</h3>
<h4>Bug fixes</h4>
<p>Improves selection management around widgets with no actual HTML content (possibly drawn using CSS pseudo elements).</p>
<p>Fix extra whitespace in pasted HTML caused by previously-collapsed spacing.</p>
<p>Slow triple-clicks are no longer treated as two double-clicks in a row.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.5.1 (2018-08-24)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where some DOM selections would cause a non-editable view to crash when reading the selection.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.5.0 (2018-08-21)</h3>
<h4>New features</h4>
<p>Mark views are now passed a boolean that indicates whether the mark's content is inline as third argument.</p>
<h3><a href="../ref/index.html#collab">prosemirror-collab</a> 1.1.0 (2018-08-21)</h3>
<h4>New features</h4>
<p><a href="../ref/index.html#collab.receiveTransaction"><code>receiveTransaction</code></a> now supports a <code>mapSelectionBackward</code> option that makes it so that text selections are mapped to stay in place when remote changes insert content at their position.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.4.4 (2018-08-13)</h3>
<h4>Bug fixes</h4>
<p>Fix an issue where a non-empty DOM selection could stick around even though the state's selection is empty.</p>
<p>Fix an issue where Firefox would create an extra cursor position when arrow-keying through a widget.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.4.3 (2018-08-12)</h3>
<h4>Bug fixes</h4>
<p>Fix an issue where the editor got stuck believing shift was down (and hence pasting as plain text) when it was unfocused with shift held down.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.4.2 (2018-08-03)</h3>
<h4>Bug fixes</h4>
<p>Fix an issue where reading the selection from the DOM might crash in non-editable mode.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.4.1 (2018-08-02)</h3>
<h4>Bug fixes</h4>
<p>Fixes an issue where backspacing out the last character between the start of a textblock and a widget in Chrome would insert a random hard break.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.4.0 (2018-07-26)</h3>
<h4>New features</h4>
<p>The <code>dispatchTransaction</code> prop is now called with <code>this</code> bound to the editor view.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.6.1 (2018-07-24)</h3>
<h4>Bug fixes</h4>
<p>Fix a bug where marks were sometimes parsed incorrectly.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.3.8 (2018-07-24)</h3>
<h4>Bug fixes</h4>
<p>Fix an issue where Chrome Android would move the cursor forward by one after backspace-joining two paragraphs.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 1.2.2 (2018-07-23)</h3>
<h4>Bug fixes</h4>
<p>The <code>&quot;appendedTransaction&quot;</code> meta property on appended transactions now points to the root transaction instead of at the transaction itself, which it accidentally did before.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.6.0 (2018-07-20)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where marks would be applied to the wrong node when parsing a slice from DOM.</p>
<h4>New features</h4>
<p>Adds a new node spec property, <a href="../ref/index.html#model.NodeSpec.toDebugString"><code>toDebugString</code></a>, making it possible to customize your nodes' <code>toString</code> behavior.</p>
<h3><a href="../ref/index.html#menu">prosemirror-menu</a> 1.0.5 (2018-07-19)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where menu items would still execute their command when clicked even if disabled.</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.1.1 (2018-07-08)</h3>
<h4>Bug fixes</h4>
<p>Fix bug that caused superfluous backslashes to be inserted at the start of some lines when serializing to Markdown.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.1.3 (2018-07-03)</h3>
<h4>Bug fixes</h4>
<p>Replacing from a code block into a paragraph that has marks, or similar scenarios that would join content with the wrong marks into a node, no longer crashes.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.3.7 (2018-07-02)</h3>
<h4>Bug fixes</h4>
<p>Fix a crash when scrolling things into view when the editor isn't a child of <code>document.body</code>.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 1.2.1 (2018-07-02)</h3>
<h4>Bug fixes</h4>
<p>Fixes a bug in the default implementation of <code>Selection.getBookmark</code>.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.1.2 (2018-06-29)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where <a href="../ref/index.html#transform.Transform.replaceRange"><code>replaceRange</code></a> might create invalid nodes.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.1.1 (2018-06-26)</h3>
<h4>Bug fixes</h4>
<p>Fix issues in the new <a href="../ref/index.html#transform.dropPoint"><code>dropPoint</code></a> function.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.3.6 (2018-06-21)</h3>
<h4>Bug fixes</h4>
<p>Make sure Safari version detection for clipboard support also works in iOS webview.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.3.5 (2018-06-20)</h3>
<h4>Bug fixes</h4>
<p>Use shared implementation of <a href="../ref/index.html#transform.dropPoint"><code>dropPoint</code></a> to handle finding a drop position.</p>
<h3><a href="../ref/index.html#dropcursor">prosemirror-dropcursor</a> 1.0.1 (2018-06-20)</h3>
<h4>Bug fixes</h4>
<p>Dragging from a content node directly to the outside of the editor will now properly hide the drop cursor.</p>
<p>Make removal of drop cursor part of the drop transaction when possible.</p>
<p>Use <code>dropPoint</code> from prosemirror-transform, rather than a local parallel implementation.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.3.4 (2018-06-20)</h3>
<h4>Bug fixes</h4>
<p>Enable use of browser clipboard API on Mobile Safari version 11 and up, which makes cut work on that platform and should generally improve clipboard handling.</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.1.0 (2018-06-20)</h3>
<h4>New features</h4>
<p>You can now override the handling of softbreak tokens in a custom handler.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.1.0 (2018-06-20)</h3>
<h4>New features</h4>
<p><a href="../ref/index.html#transform.Transform.getMirror"><code>Transform.getMirror</code></a>, usable in obscure circumstances for inspecting the mirroring structure or a transform, is now a public method.</p>
<p>New utility function <a href="../ref/index.html#transform.dropPoint"><code>dropPoint</code></a>, which tries to find a valid position for dropping a slice near a given document position.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.3.3 (2018-06-15)</h3>
<h4>Bug fixes</h4>
<p>Fix arrow-left cursor motion from cursor wrapper (for example after a link).</p>
<p>Fix selection glitches when shift-selecting around widget decorations.</p>
<p>Fix issue where a parsing a code block from the editor DOM might drop newlines in the code.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.3.2 (2018-06-15)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/index.html#view.EditorProps.handleKeyDown"><code>handleKeyDown</code></a> will now get notified of key events happening directly after a composition ends.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.3.1 (2018-06-08)</h3>
<h4>Bug fixes</h4>
<p>The package can now be loaded in a web worker context (where <code>navigator</code> is defined but <code>document</code> isn't) without crashing.</p>
<p>Dropping something like a list item into a textblock will no longer split the textblock.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.5.0 (2018-05-31)</h3>
<h4>New features</h4>
<p><a href="../ref/index.html#model.ParseRule.getContent"><code>ParseRule.getContent</code></a> is now passed the parser schema as second argument.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.4.4 (2018-05-03)</h3>
<h4>Bug fixes</h4>
<p>Fix a regression where <code>DOMParser.parse</code> would fail to apply mark nodes directly at the start of the input.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.4.3 (2018-04-27)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/index.html#model.DOMParser.parseSlice"><code>DOMParser.parseSlice</code></a> can now correctly parses marks at the top level again.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.3.0 (2018-04-24)</h3>
<h4>Bug fixes</h4>
<p>Fix mouse-selecting (in IE and Edge) from the end of links and other positions that cause a cursor wrapper.</p>
<p><a href="../ref/index.html#view.Decoration%5Ewidget">Widget decorations</a> with the same <a href="../ref/index.html#view.Decoration%5Ewidget%5Espec.key">key</a> are now considered equivalent, even if their other spec fields differ.</p>
<h4>New features</h4>
<p>The new <a href="../ref/index.html#view.EditorView.posAtDOM"><code>EditorView.posAtDOM</code> method</a> can be used to find the document position corresponding to a given DOM position.</p>
<p>The new <a href="../ref/index.html#view.EditorView.nodeDOM"><code>EditorView.nodeDOM</code> method</a> gives you the DOM node that is used to represent a specific node in the document.</p>
<p><a href="../ref/index.html#view.Decoration%5Ewidget"><code>Decoration.widget</code></a> now accepts a function as second argument, which can be used to delay rendering of the widget until the document is drawn (at which point a reference to the view is available).</p>
<p>The <code>getPos</code> function passed to a <a href="../ref/index.html#view.editorProps.nodeViews">node view constructor</a> can now be called immediately (it used to return undefined until rendering had finished).</p>
<p>The function used to render a <a href="../ref/index.html#view.Decoration%5Ewidget">widget</a> is now passed a <code>getPos</code> method that event handlers can use to figure out where in the DOM the widget is.</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.0.4 (2018-04-17)</h3>
<h4>Bug fixes</h4>
<p>Fix crash when serializing marks with line breaks inside of them.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.4.2 (2018-04-15)</h3>
<h4>Bug fixes</h4>
<p>Remove a <code>console.log</code> that was accidentally left in the previous release.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.10 (2018-04-15)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/index.html#transform.Transform.setBlockType"><code>Transform.setBlockType</code></a> no longer drops marks on the nodes it updates.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.4.1 (2018-04-13)</h3>
<h4>Bug fixes</h4>
<p><code>DOMParser</code> can now parse marks on block nodes.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 1.0.7 (2018-04-09)</h3>
<h4>Bug fixes</h4>
<p>Fixes an issue where <a href="../ref/index.html#commands.joinBackward"><code>joinBackward</code></a> might create a selection pointing into the old document.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.9 (2018-04-05)</h3>
<h4>Bug fixes</h4>
<p>Fix a bug that made <a href="../ref/index.html#transform.replaceStep"><code>replaceStep</code></a> unable to generate wrapper nodes in some circumstances.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 1.2.0 (2018-04-05)</h3>
<h4>New features</h4>
<p><a href="../ref/index.html#state.EditorState%5Ecreate"><code>EditorState.create</code></a> now accepts a <code>storedMark</code> option to set the state's stored marks.</p>
<p><a href="../ref/index.html#state.EditorState.toJSON"><code>EditorState.toJSON</code></a> and <a href="../ref/index.html#state.EditorState%5EfromJSON"><code>fromJSON</code></a> persist the set of stored marks, when available.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.8 (2018-04-04)</h3>
<h4>Bug fixes</h4>
<p>Fixes an issue where <a href="../ref/index.html#transform.replaceStep"><code>replaceStep</code></a> could generate slices that internally violated the schema.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 1.0.6 (2018-04-04)</h3>
<h4>Bug fixes</h4>
<p>The <a href="../ref/index.html#commands.setBlockType"><code>setBlockType</code> command</a> command is now considered applicable when <em>any</em> of the selected textblocks can be changed (it used to only look at the first one).</p>
<p>Fix crash when calling <a href="../ref/index.html#commands.splitBlock"><code>splitBlock</code></a> when the selection isn't in a block node (by disabling the command in that case).</p>
<p>Fixes an issue where <a href="../ref/index.html#commands.joinForward"><code>joinForward</code></a> might create a selection pointing into the old document.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.3.0 (2018-03-22)</h3>
<h4>New features</h4>
<p><code>ContentMatch</code> objects now have an <a href="../ref/index.html#model.ContentMatch.edgeCount"><code>edgeCount</code></a> property and an <a href="../ref/index.html#model.ContentMatch.edge"><code>edge</code></a> method, providing direct access to the finite automaton structure.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.4.0 (2018-03-22)</h3>
<h4>New features</h4>
<p><a href="../ref/index.html#model.ContentMatch.defaultType"><code>ContentMatch.defaultType</code></a>, a way to get a matching node type at a content match position, is now public.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.7 (2018-03-21)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/index.html#transform.Transform.deleteRange"><code>Transform.deleteRange</code></a> will cover unmatched opening at the start of the deleted range.</p>
<h3><a href="../ref/index.html#schema-list">prosemirror-schema-list</a> 1.0.1 (2018-03-16)</h3>
<h4>Bug fixes</h4>
<p>Fixes a bug that caused <a href="../ref/index.html#schema-list.wrapInList"><code>wrapInList</code></a> to split list items in the wrong place.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 1.1.1 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p>Throw errors, rather than constructing invalid objects, when deserializing from invalid JSON data.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.2.1 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p>Content expressions with text nodes in required positions now raise the appropriate error about being unable to generate such nodes.</p>
<h3><a href="../ref/index.html#gapcursor">prosemirror-gapcursor</a> 1.0.2 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p>Throw errors, rather than constructing invalid objects, when deserializing from invalid JSON data.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.6 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p>Throw errors, rather than constructing invalid objects, when deserializing from invalid JSON data.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.2.2 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p>Throw errors, rather than constructing invalid objects, when deserializing from invalid JSON data.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.2.0 (2018-03-14)</h3>
<h4>Bug fixes</h4>
<p>Fix a problem where updating the state of a non-editable view would not set the selection, causing problems when the DOM was updated in a way that disrupted the DOM selection.</p>
<p>Fix an issue where, on IE and Chrome, starting a drag selection in a position that required a cursor wrapper (on a mark boundary) would sometimes fail to work.</p>
<p>Fix crash in key handling when the editor is focused but there is no DOM selection.</p>
<p>Fixes a bug that prevented decorations inside node views with a <a href="../ref/index.html#view.NodeView.contentDOM"><code>contentDOM</code> property</a> from being drawn.</p>
<p>Fixes an issue where, on Firefox, depending on a race condition, the skipping over insignificant DOM nodes done at keypress was canceled again before the keypress took effect.</p>
<p>Fixes an issue where an <code>:after</code> pseudo-element on a non-inclusive mark could block the cursor, making it impossible to arrow past it.</p>
<h4>New features</h4>
<p>The DOM structure for marks is no longer constrained to a single node. <a href="../ref/index.html#view.NodeView">Mark views</a> can have a <code>contentDOM</code> property, and <a href="../ref/index.html#model.MarkSpec">mark spec</a> <code>toDOM</code> methods can return structures with holes.</p>
<p><a href="../ref/index.html#view.Decoration%5Ewidget">Widget decorations</a> are now wrapped in the marks of the node after them when their <a href="../ref/index.html#view.Decoration%5Ewidget%5Espec.side"><code>side</code> option</a> is &gt;= 0.</p>
<p><a href="../ref/index.html#view.Decoration%5Ewidget">Widget decorations</a> may now specify a <a href="../ref/index.html#view.Decoration%5Ewidget%5Espec.marks"><code>marks</code> option</a> to set the precise set of marks they should be wrapped in.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.2.0 (2018-03-14)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/index.html#model.Node.rangeHasMark"><code>rangeHasMark</code></a> now always returns false for empty ranges.</p>
<p>The DOM renderer no longer needlessly splits mark nodes when starting a non-rendered mark.</p>
<h4>New features</h4>
<p><a href="../ref/index.html#model.DOMSerializer"><code>DOMSerializer</code></a> now allows <a href="../ref/index.html#model.DOMOutputSpec">DOM specs</a> for marks to have holes in them, to specify the precise position where their content should be rendered.</p>
<p>The base position parameter to <a href="../ref/index.html#model.Node.nodesBetween"><code>Node.nodesBetween</code></a> and <a href="../ref/index.html#model.Fragment.nodesBetween"><code>Fragment.nodesBetween</code></a> is now part of the public interface.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.5 (2018-03-14)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/index.html#transform.replaceStep"><code>replaceStep</code></a> will now return null rather than an empty step when it fails to place the slice.</p>
<p>Avoid duplicating defining parent nodes in <a href="../ref/index.html#tranform.Transform.replaceRange"><code>replaceRange</code></a>.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 1.0.2 (2018-03-13)</h3>
<h4>Bug fixes</h4>
<p>Fix a bug that could corrupt the history when rebasing changes because of collaborative editing.</p>
<h3><a href="../ref/index.html#menu">prosemirror-menu</a> 1.0.4 (2018-03-09)</h3>
<h4>Bug fixes</h4>
<p>Fixes a bug that prevented the menu bar from properly unregistering its <code>&quot;scroll&quot;</code> event handlers when destroyed.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 1.0.1 (2018-03-05)</h3>
<h4>Bug fixes</h4>
<p>Fix crash that could occur (in specific circumstance) when redoing.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.1.1 (2018-03-01)</h3>
<h4>Bug fixes</h4>
<p>Fixes typo that broke paste.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.1.0 (2018-02-28)</h3>
<h4>Bug fixes</h4>
<p>Fixes issue where dragging a draggable node directly below a selected node would move the old selection rather than the target node.</p>
<p>A drop that can't fit the dropped content will no longer dispatch an empty transaction.</p>
<h4>New features</h4>
<p>Transactions generated for drop now have a <code>&quot;uiEvent&quot;</code> metadata field holding <code>&quot;drop&quot;</code>. Paste and cut transactions get that field set to <code>&quot;paste&quot;</code> or <code>&quot;cut&quot;</code>.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.3 (2018-02-23)</h3>
<h4>Bug fixes</h4>
<p>Fix a problem where slice-placing didn't handle content matches correctly and might generate invalid steps or fail to generate steps though a valid one exists.</p>
<p>Allows adjacent nodes from an inserted slice to be placed in different parent nodes, allowing <code>Transform.replace</code> to create fits that weren't previously found.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.4 (2018-02-23)</h3>
<h4>Bug fixes</h4>
<p>Fix overeager closing of destination nodes when fitting a slice during replacing.</p>
<h3><a href="../ref/index.html#keymap">prosemirror-keymap</a> 1.0.1 (2018-02-23)</h3>
<h4>Bug fixes</h4>
<p>Upgrade <code>w3c-keyname</code> dependency to version 1.1.8 to prevent users getting stuck with a buggy version.</p>
<h3><a href="../ref/index.html#gapcursor">prosemirror-gapcursor</a> 1.0.1 (2018-02-16)</h3>
<h4>Bug fixes</h4>
<p>Prevent issue where clicking on a selectable node near a valid gap cursor position would create a gap cursor rather than select the node.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.11 (2018-02-16)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where the cursor was visible when a node was selected on recent Chrome versions.</p>
<h3><a href="../ref/index.html#menu">prosemirror-menu</a> 1.0.3 (2018-02-15)</h3>
<h4>Bug fixes</h4>
<p>The floating menu bar now works better in a scrollable parent node.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 1.0.5 (2018-01-30)</h3>
<h4>Bug fixes</h4>
<p>Fix crash in <a href="../ref/index.html#commands.splitBlock"><code>splitBlock</code></a> when <code>defaultContentType</code> returns null.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.2 (2018-01-24)</h3>
<h4>Bug fixes</h4>
<p>Fixes a crash in <a href="../ref/index.html#transform.Transform.replace"><code>replace</code></a>.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.10 (2018-01-24)</h3>
<h4>Bug fixes</h4>
<p>Improve preservation of open and closed nodes in slices taken from the clipboard.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 1.1.0 (2018-01-22)</h3>
<h4>New features</h4>
<p><a href="../ref/index.html#state.EditorState.toJSON"><code>EditorState.toJSON</code></a> now accepts a string or number as argument to support the way <code>JSON.stringify</code> can call it.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 1.0.4 (2018-01-18)</h3>
<h4>Bug fixes</h4>
<p>Pressing delete in front of an <a href="../ref/index.html#model.NodeSpec.isolating">isolating</a> node no longer opens it.</p>
<h3><a href="../ref/index.html#menu">prosemirror-menu</a> 1.0.2 (2018-01-17)</h3>
<h4>Bug fixes</h4>
<p>Make the <code>render</code> property of a menu item spec work as documented again.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.9 (2018-01-17)</h3>
<h4>Bug fixes</h4>
<p>Work around a Chrome cursor motion bug by making sure <br> nodes don't get a contenteditable=false attribute.</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.0.3 (2018-01-10)</h3>
<h4>Bug fixes</h4>
<p>Fix dependency version range for prosemirror-model.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.8 (2018-01-09)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where <a href="../ref/index.html#view.DecorationSet.map"><code>Decoration.map</code></a> would in some situations with nested nodes incorrectly map decoration positions.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.7 (2018-01-05)</h3>
<h4>Bug fixes</h4>
<p>Pasting from an external source no longer opens isolating nodes like table cells.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.1.0 (2018-01-05)</h3>
<h4>New features</h4>
<p><a href="../ref/index.html#model.Slice%5EmaxOpen"><code>Slice.maxOpen</code></a> now has a second argument that can be used to prevent it from opening isolating nodes.</p>
<h3><a href="../ref/index.html#test-builder">prosemirror-test-builder</a> 1.0.1 (2018-01-05)</h3>
<h4>Bug fixes</h4>
<p>Fix overly restrictive depencency version ranges.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.6 (2017-12-26)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/index.html#view.DecorationSet.remove"><code>DecorationSet.remove</code></a> now uses a proper deep compare to determine if widgets are the same (it used to compare by identity).</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 1.0.3 (2017-12-19)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where <a href="../ref/index.html#commands.joinBackward"><code>joinBackward</code></a> would sometimes create an invalid selection.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 1.0.2 (2017-12-13)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where a character might be selected after overwriting across block nodes.</p>
<p>Make sure <code>replaceSelectionWith</code> doesn't needlessly copy unmarked nodes.</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.0.2 (2017-12-07)</h3>
<h4>Bug fixes</h4>
<p>Code blocks are always wrapped in triple backticks when serializing, to avoid parsing corner cases around indented code blocks.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.5 (2017-12-05)</h3>
<h4>Bug fixes</h4>
<p>Fix an issue where deeply nested decorations were mapped incorrectly in corner cases.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.4 (2017-11-27)</h3>
<h4>Bug fixes</h4>
<p>Fix a corner-case crash during drop.</p>
<h3><a href="../ref/index.html#example-setup">prosemirror-example-setup</a> 1.0.1 (2017-11-24)</h3>
<h4>Bug fixes</h4>
<p>The example menu now allows you to enter relative links without automatically adding http:// in front of them.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.3 (2017-11-23)</h3>
<h4>Bug fixes</h4>
<p>Pressing backspace between two identical characters will no longer generate a transaction that deletes the second one.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 1.0.2 (2017-11-21)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/index.html#commands.splitBlock"><code>splitBlock</code></a> no longer crashes when used in a block that's it's parent node's only allowed child.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.2 (2017-11-20)</h3>
<h4>Bug fixes</h4>
<p>Fix test for whether a node can be selected when arrowing onto it from the right.</p>
<p>Calling <a href="../ref/index.html#view.EditorView.posAtCoords"><code>posAtCoords</code></a> while a read from the DOM is pending will no longer return a malformed result.</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 1.0.3 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where deleting, inserting, and deleting the same content would lead to an inconsistent change set.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.1 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p>Deleting the last character in a list item no longer results in a spurious hard_break node on Safari.</p>
<p>Fixes a crash on IE11 when starting to drag.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.0.1 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/index.html#model.ReplaceError"><code>ReplaceError</code></a> instances now properly inherit from <code>Error</code>.</p>
<h3><a href="../ref/index.html#inputrules">prosemirror-inputrules</a> 1.0.1 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p>Input rules no longer fire in blocks that have their <code>code</code> spec set to true.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.1 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p>The errors raised by <a href="../ref/index.html#transform.Transform.step"><code>Transform.step</code></a> now properly inherit from Error.</p>
<h3><a href="../ref/index.html#markdown">prosemirror-markdown</a> 1.0.1 (2017-11-05)</h3>
<h4>Bug fixes</h4>
<p>Link marks are now non-inclusive (typing after them produces non-linked text).</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 1.0.1 (2017-11-01)</h3>
<h4>Bug fixes</h4>
<p>Typing over marked text now properly makes the new text inherit the old text's marks.</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 1.0.2 (2017-10-19)</h3>
<h4>Bug fixes</h4>
<p>Fix a bug that caused <code>addSteps</code> to break when merging two insertions into a single deletion.</p>
<h3><a href="../ref/index.html#menu">prosemirror-menu</a> 1.0.1 (2017-10-18)</h3>
<h4>Bug fixes</h4>
<p>The menu no longer flips enabled/disabled styles on each update in IE11.</p>
<h3><a href="../ref/index.html#changeset">prosemirror-changeset</a> 1.0.1 (2017-10-18)</h3>
<h4>Bug fixes</h4>
<p>Fix crash in <code>ChangeSet.addSteps</code>.</p>
<h3><a href="../ref/index.html#gapcursor">prosemirror-gapcursor</a> 1.0.0 (2017-10-13)</h3>
<h4>New features</h4>
<p>Valid gap cursor positions are not determined in a way that allows them inside nested nodes. By default, any position where a textblock can be inserted is valid gap cursor position.</p>
<p>Nodes can override whether they allow gap cursors with the <code>allowGapCursor</code> property in their spec.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 1.0.0 (2017-10-13)</h3>
<h4>New features</h4>
<p><a href="../ref/index.html#model.ParseRule.context"><code>ParseRule.context</code></a> may now include multiple, pipe-separated context expressions.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 1.0.0 (2017-10-13)</h3>
<h4>Bug fixes</h4>
<p>When <a href="../ref/index.html#transform.Transform.setBlockType"><code>setBlockType</code></a> comes across a textblock that can't be changed due to schema constraints, it skips it instead of failing.</p>
<p><a href="../ref/index.html#transform.canSplit"><code>canSplit</code></a> now returns false when the requested split goes through isolating nodes.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 1.0.0 (2017-10-13)</h3>
<h4>New features</h4>
<p>The <a href="../ref/index.html#commands.setBlockType"><code>setBlockType</code> command</a> can now be used to change the types of multiple selected textblocks (rather than only one).</p>
<p>The platform-dependent versions of the <a href="../ref/index.html#commands.baseKeymap">base keymap</a> are now exported separately as <a href="../ref/index.html#commands.pcBaseKeymap"><code>pcBaseKeymap</code></a> and <a href="../ref/index.html#commands.macBaseKeymap"><code>macBaseKeymap</code></a>.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 1.0.0 (2017-10-13)</h3>
<h4>Bug fixes</h4>
<p>Dragging nodes with a node view that handles its own mouse events should work better now.</p>
<p>List item DOM nodes are no longer assigned <code>pointer-events: none</code> in the default style. Ctrl-clicking list markers now properly selects the list item again.</p>
<p>Arrow-down through an empty textblock no longer causes the browser to forget the cursor's horizontal position.</p>
<p>Copy-dragging on OS X is now done by holding option, rather than control, following the convention on that system.</p>
<p>Fixes a crash related to decoration management.</p>
<p>Fixes a problem where using cut on IE11 wouldn't actually remove the selected text.</p>
<p>Copy/paste on Edge 15 and up now uses the clipboard API, fixing a problem that made them fail entirely.</p>
<h4>New features</h4>
<p>The <a href="../ref/index.html#view.EditorView.dragging"><code>dragging</code></a> property of a view, which contains information about editor content being dragged, is now part of the public interface.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.24.0 (2017-09-25)</h3>
<h4>Breaking changes</h4>
<p>The <code>setNodeType</code> method on transforms is now more descriptively called <a href="../ref/version/0.24.0.html#transform.Transform.setNodeMarkup"><code>setNodeMarkup</code></a>. The old name will continue to work with a warning until the next release.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.24.0 (2017-09-25)</h3>
<h4>New features</h4>
<p>The <a href="../ref/version/0.24.0.html#view.EditorProps.clipboardTextParser"><code>clipboardTextParser</code></a> prop is now passed a context position.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 0.24.0 (2017-09-25)</h3>
<h4>New features</h4>
<p>It is no longer necessary to manually enable the <code>preserveItems</code> option to the history plugin when using collaborative editing. (This behavior is now automatically enabled when necessary.)</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.23.1 (2017-09-21)</h3>
<h4>Bug fixes</h4>
<p><code>NodeType.allowsMarks</code> and <code>allowedMarks</code> now actually work for nodes that allow only specific marks.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p><a href="../ref/version/0.23.0.html#transform.Step.toJSON"><code>Step.toJSON</code></a> no longer has a default implementation.</p>
<p>Steps no longer have an <code>offset</code> method. Map them through a map created with <a href="../ref/version/0.23.0.html#transform.StepMap%5Eoffset"><code>StepMap.offset</code></a> instead.</p>
<p>The <code>clearMarkup</code> method on <a href="../ref/version/0.23.0.html#transform.Transform"><code>Transform</code></a> is no longer supported (you probably needed <a href="../ref/version/0.23.0.html#transform.Transform.clearIncompatible"><code>clearIncompatible</code></a> anyway).</p>
<h4>Bug fixes</h4>
<p>Pasting a list item at the start of a non-empty textblock now wraps the textblock in a list.</p>
<p>Marks on open nodes at the left of a slice are no longer dropped by <a href="../ref/version/0.23.0.html#transform.Transform.replace"><code>Transform.replace</code></a>.</p>
<h4>New features</h4>
<p><code>StepMap</code> now has a static method <a href="../ref/version/0.23.0.html#transform.StepMap%5Eoffset"><code>offset</code></a>, which can be used to create a map that offsets all positions by a given distance.</p>
<p>Transform objects now have a <a href="../ref/version/0.23.0.html#transform.Transform.clearIncompatible"><code>clearIncompatible</code></a> method that can help make sure a node's content matches another node type.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p><a href="../ref/version/0.23.0.html#model.ResolvedPos.marks"><code>ResolvedPos.marks</code></a> no longer takes a parameter (you probably want <a href="../../doc/ref/version/0.23.0.html#model.ResolvedPos.marksAcross"><code>marksAcross</code></a> if you were passing true there).</p>
<p>Attribute and mark constraints in <a href="../ref/version/0.23.0.html#model.NodeSpec.content">content expressions</a> are no longer supported (this also means the <code>prosemirror-schema-table</code> package, which relied on them, is no longer supported). In this release, mark constraints are still (approximately) recognized with a warning, when present.</p>
<p><a href="../ref/version/0.23.0.html#model.ContentMatch"><code>ContentMatch</code></a> objects lost a number of methods: <code>matchNode</code>, <code>matchToEnd</code>, <code>findWrappingFor</code> (which can be easily emulated using the remaining API), and <code>allowsMark</code>, which is now the responsibility of <a href="../ref/version/0.23.0.html#model.NodeType.allowsMarkType">node types</a> instead.</p>
<p><a href="../ref/version/0.23.0.html#model.ContentMatch.validEnd"><code>ContentMatch.validEnd</code></a> is now a property rather than a method.</p>
<p><a href="../ref/version/0.23.0.html#model.ContentMatch.findWrapping"><code>ContentMatch.findWrapping</code></a> now returns an array of plain node types, with no attribute information (since this is no longer necessary).</p>
<p>The <code>compute</code> method for attributes is no longer supported.</p>
<p>Fragments no longer have an <code>offsetAt</code> method.</p>
<p><code>DOMParser.schemaRules</code> is no longer public (use <a href="../ref/version/0.23.0.html#model.DOMParser%5EfromSchema"><code>fromSchema</code></a> and get the resulting parser's <code>rules</code> property instead).</p>
<p>The DOM parser option <code>topStart</code> has been replaced by <a href="../ref/version/0.23.0.html#model.ParseOptions.topMatch"><code>topMatch</code></a>.</p>
<p>The <code>DOMSerializer</code> methods <code>nodesFromSchema</code> and <code>marksFromSchema</code> are no longer public (construct a serializer with <a href="../ref/version/0.23.0.html#model.DOMSerializer%5EfromSchema"><code>fromSchema</code></a> and read its <code>nodes</code> and <code>marks</code> properties instead).</p>
<h4>Bug fixes</h4>
<p>Fix issue where whitespace at node boundaries was sometimes dropped during content parsing.</p>
<p>Attribute default values of <code>undefined</code> are now allowed.</p>
<h4>New features</h4>
<p><a href="../ref/version/0.23.0.html#model.ParseRule.contentElement"><code>contentElement</code></a> in parse rules may now be a function.</p>
<p>The new method <a href="../ref/version/0.23.0.html#model.ResolvedPos.marksAcross"><code>ResolvedPos.marksAcross</code></a> can be used to find the set of marks that should be preserved after a deletion.</p>
<p><a href="../ref/version/0.23.0.html#model.NodeSpec.content">Content expressions</a> are now a regular language, meaning all the operators can be nested and composed as desired, and a bunch of constraints on what could appear next to what have been lifted.</p>
<p>The starting content match for a node type now lives in <a href="../ref/version/0.23.0.html#model.NodeType.contentMatch"><code>NodeType.contentMatch</code></a>.</p>
<p>Allowed marks are now specified per node, rather than in content expressions, using the <a href="../ref/version/0.23.0.html#model.NodeSpec.marks"><code>marks</code></a> property on the node spec.</p>
<p>Node types received new methods <a href="../ref/version/0.23.0.html#model.NodeType.allowsMarkType"><code>allowsMarkType</code></a>, <a href="../ref/version/0.23.0.html#model.NodeType.allowsMarks"><code>allowsMarks</code></a>, and <a href="../ref/version/0.23.0.html#model.NodeType.allowedMarks"><code>allowedMarks</code></a>, which tell you about the marks that node supports.</p>
<p>The <a href="../ref/version/0.23.0.html#model.ParseRule.style"><code>style</code></a> property on parse rules may now have the form <code>&quot;font-style=italic&quot;</code> to only match styles that have the value after the equals sign.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p><code>joinForward</code> and <code>joinBackward</code> no longer fall back to selecting the next node when no other behavior is possible. There are now separate commands <code>selectNodeForward</code> and <code>selectNodeBackward</code> that do this, which the base keymap binds as fallback behavior.</p>
<p><a href="../ref/version/0.23.0.html#commands.baseKeymap"><code>baseKeymap</code></a> no longer binds keys for <code>joinUp</code>, <code>joinDown</code>, <code>lift</code>, and <code>selectParentNode</code>.</p>
<h4>New features</h4>
<p>New commands <a href="../ref/version/0.23.0.html#commands.selectNodeForward"><code>selectNodeForward</code></a> and <a href="../ref/version/0.23.0.html#commands.selectNodeBackward"><code>selectNodeBackward</code></a> added.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p>The <code>onFocus</code>, <code>onBlur</code>, and <code>handleContextMenu</code> props are no longer supported. You can achieve their effect with the <a href="../ref/version/0.23.0.html#view.EditorProps.handleDOMEvents"><code>handleDOMEvents</code></a> prop.</p>
<h4>Bug fixes</h4>
<p>Fixes occasional crash when reading the selection in Firefox.</p>
<p>Putting a table cell on the clipboard now properly wraps it in a table.</p>
<p>The view will no longer scroll into view when receiving a state that isn't derived from its previous state.</p>
<h4>New features</h4>
<p>Transactions caused by a paste now have their &quot;paste&quot; meta property set to true.</p>
<p>Adds a new view prop, <a href="../ref/version/0.23.0.html#view.EditorProps.handleScrollToSelection"><code>handleScrollToSelection</code></a> to override the behavior of scrolling the selection into view.</p>
<p>The new editor prop <a href="../ref/version/0.23.0.html#view.EditorProps.clipboardTextSerializer"><code>clipboardTextSerializer</code></a> allows you to override the way a piece of document is converted to clipboard text.</p>
<p>Adds the editor prop <a href="../ref/version/0.23.0.html#view.EditorProps.clipboardTextParser"><code>clipboardTextParser</code></a>, which can be used to define your own parsing strategy for clipboard text content.</p>
<p><a href="../ref/version/0.23.0.html#view.DecorationSet.find"><code>DecorationSet.find</code></a> now supports passing a predicate to filter decorations by spec.</p>
<h3><a href="../ref/index.html#inputrules">prosemirror-inputrules</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p>Schema-specific rule-builders <code>blockQuoteRule</code>, <code>orderedListRule</code>, <code>bulletListRule</code>, <code>codeBlockRule</code>, and <code>headingRule</code>, along with the <code>allInputRules</code> array, are no longer included in this module.</p>
<h3><a href="../ref/index.html#schema-list">prosemirror-schema-list</a> 0.23.0 (2017-09-13)</h3>
<h4>Bug fixes</h4>
<p>The <a href="../ref/version/0.23.0.html#schema-list.splitListItem"><code>splitListItem</code> command</a> now splits the parent list item when executed in a (trailing) empty list item in a nested list.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.22.1 (2017-08-16)</h3>
<h4>Bug fixes</h4>
<p>Invisible selections that don't cover any content (i.e., a cursor) are now properly hidden.</p>
<p>Initializing the editor view non-editable no longer causes a crash.</p>
<h3><a href="../ref/index.html#keymap">prosemirror-keymap</a> 0.22.1 (2017-07-14)</h3>
<h4>Bug fixes</h4>
<p>Bindings like Alt-3 should now fire even if your keyboard produces a special character for that combination.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.22.2 (2017-07-06)</h3>
<h4>Bug fixes</h4>
<p>Fix another bug in the way <code>canSplit</code> interpreted its <code>typesAfter</code> argument.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.22.1 (2017-07-03)</h3>
<h4>Bug fixes</h4>
<p>Fix crash in <a href="../ref/version/0.22.0.html#transform.canSplit"><code>canSplit</code></a> when an array containing null fields is passed as fourth argument.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.22.0 (2017-06-29)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/version/0.22.0.html#transform.canSplit"><code>canSplit</code></a> now returns false when given custom after-split node types that don't match the content at that point.</p>
<p>Fixes <a href="../ref/version/0.22.0.html#transform.canLift"><code>canLift</code></a> incorrectly returning null when lifting into an isolating node.</p>
<h3><a href="../ref/index.html#inputrules">prosemirror-inputrules</a> 0.22.0 (2017-06-29)</h3>
<h4>Bug fixes</h4>
<p>Input rules with spaces in them now match any whitespace where the space is expected, to avoid mysteriously not working when a non-breaking space is present.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.22.0 (2017-06-29)</h3>
<h4>Bug fixes</h4>
<p>When using <a href="../ref/version/0.22.0.html#model.DOMParser.parseSlice"><code>parseSlice</code></a>, inline DOM content wrapped in block elements for which no parse rule is defined will now be properly wrapped in a textblock node.</p>
<h4>New features</h4>
<p><a href="../ref/version/0.22.0.html#model.ResolvedPos">Resolved positions</a> now have a <a href="../ref/version/0.22.0.html#model.ResolvedPos.doc"><code>doc</code></a> accessor to easily get their root node.</p>
<p>Parse rules now support a <a href="../ref/version/0.22.0.html#model.ParseRule.namespace"><code>namespace</code> property</a> to match XML namespaces.</p>
<p>The <a href="../ref/version/0.22.0.html#model.NodeRange"><code>NodeRange</code></a> constructor is now public (whereas before you could only construct these through <a href="../ref/version/0.22.0.html#model.ResolvedPos.blockRange"><code>blockRange</code></a>).</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.22.0 (2017-06-29)</h3>
<h4>Bug fixes</h4>
<p>Fix an issue where moving the cursor through a text widget causes the editor to lose the selection in Chrome.</p>
<p>Fixes an issue where down-arrow in front of a widget would sometimes not cause any cursor motion on Chrome.</p>
<p><a href="../ref/version/0.22.0.html#view.EditorView.destroy">Destroying</a> a <a href="../ref/version/0.22.0.html#view.EditorView.constructor">mounted</a> editor view no longer leaks event handlers.</p>
<p>Display updates for regular, non-composition input are now synchronous, which should reduce flickering when, for example, updating decorations in response to typing.</p>
<h4>New features</h4>
<p>The editor can now be initialized in a document other than the global document (say, an <code>iframe</code>).</p>
<p>Editor views now have a <a href="../ref/version/0.22.0.html#view.EditorView.domAtPos"><code>domAtPos</code> method</a>, which gives you the DOM position corresponding to a given document position.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.21.1 (2017-05-16)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/version/0.21.0.html#transform.Transform.addMark"><code>addMark</code></a> no longer assumes marks always <a href="../ref/version/0.21.0.html#model.MarkSpec.excludes">exclude</a> only themselves.</p>
<p><code>replaceRange</code>](http://prosemirror.net/docs/ref/version/0.21.0.html#transform.Transform.replaceRange) and <a href="../ref/version/0.21.0.html#transform.Transform.deleteRange"><code>deleteRange</code></a> will no longer expand the range across isolating node boundaries.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.21.1 (2017-05-09)</h3>
<h4>Bug fixes</h4>
<p>Copying and pasting table cells on Edge no longer strips the table structure.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.21.0 (2017-05-03)</h3>
<h4>Breaking changes</h4>
<p>The <code>associative</code> option to widget decorations is no longer supported. To make a widget left-associative, set its <code>side</code> option to a negative number. <code>associative</code> will continue to work with a warning until the next release.</p>
<h4>New features</h4>
<p><a href="../ref/version/0.21.0.html#view.Decoration%5Ewidget">Widget decorations</a> now support a <code>side</code> option that controls which side of them the cursor is drawn, where they move when content is inserted at their position, and the order in which they appear relative to other widgets at the same position.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.21.0 (2017-05-03)</h3>
<h4>Breaking changes</h4>
<p><a href="../ref/version/0.21.0.html#state.Selection%5EatStart"><code>Selection.atStart</code></a>, and <a href="../ref/version/0.21.0.html#state.Selection%5EatEnd"><code>atEnd</code></a> no longer take a second <code>textOnly</code> parameter.</p>
<h4>New features</h4>
<p><a href="../ref/version/0.21.0.html#state.Selection%5Enear"><code>Selection.near</code></a>, <a href="../ref/version/0.21.0.html#state.Selection%5EatStart"><code>atStart</code></a>, and <a href="../ref/version/0.21.0.html#state.Selection%5EatEnd"><code>atEnd</code></a> will now fall back to returning an <a href="../ref/version/0.21.0.html#state.AllSelection"><code>AllSelection</code></a> when unable to find a valid selection. This removes the (undocumented) requirement that documents always contain a valid selection position (though you'll probably still want to maintain this for practical UI reasons).</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.21.0 (2017-05-03)</h3>
<h4>Breaking changes</h4>
<p>The <code>openLeft</code> and <code>openRight</code> properties of <code>Slice</code> objects have been renamed to <a href="../ref/version/0.21.0.html#model.Slice.openStart"><code>openStart</code></a> and <a href="../ref/version/0.21.0.html#model.Slice.openEnd"><code>openEnd</code></a> to avoid confusion in right-to-left text. The old names will continue to work with a warning until the next release.</p>
<h4>New features</h4>
<p>Mark <a href="../ref/version/0.21.0.html#model.MarkSpec.toDOM">serializing functions</a> now get a second parameter that indicates whether the mark's content is inline or block nodes.</p>
<p>Setting a mark serializer to <code>null</code> in a <a href="../ref/version/0.21.0.html#model.DOMSerializer"><code>DOMSerializer</code></a> can now be used to omit that mark when serializing.</p>
<p>Node specs support a new property <a href="../ref/version/0.21.0.html#model.NodeSpec.isolating"><code>isolating</code></a>, which is used to disable editing actions like backspacing and lifting across such a node's boundaries.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.20.5 (2017-05-02)</h3>
<h4>Bug fixes</h4>
<p>Fixes an issue where the DOM selection could be shown on the wrong side of hard break or image nodes.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.20.4 (2017-04-24)</h3>
<h4>Bug fixes</h4>
<p>Fix a bug that prevented the DOM selection from being updated when the new position was near the old one in some circumstances.</p>
<p>Stop interfering with alt-d keypresses on OS X.</p>
<p>Fix issue where reading a DOM change in a previously empty node could crash.</p>
<p>Fixes crash when reading a change that removed a decorated text node from the DOM.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.20.3 (2017-04-12)</h3>
<h4>Bug fixes</h4>
<p>Shift-pasting and pasting into a code block now does the right thing on IE and Edge.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.20.2 (2017-04-05)</h3>
<h4>Bug fixes</h4>
<p>Fixes a bug that broke dragging from the editor.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.20.1 (2017-04-04)</h3>
<h4>Bug fixes</h4>
<p>Typing in code blocks no longer replaces newlines with spaces.</p>
<p>Copy and paste on Internet Explorer, Edge, and mobile Safari should now behave more like it does on other browsers. Handlers are called, and the changes to the document are made by ProseMirror's code, not the browser.</p>
<p>Fixes a problem where triple-clicking the editor would sometimes cause the scroll position to inexplicably jump around on IE11.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.20.0 (2017-04-03)</h3>
<h4>Breaking changes</h4>
<p>The <code>inclusiveLeft</code> and <code>inclusiveRight</code> options to inline decorations were renamed to <a href="../ref/version/0.20.0.html#view.Decoration%5Einline%5Espec.inclusiveStart"><code>inclusiveStart</code></a> and <a href="../ref/version/0.20.0.html#view.Decoration%5Einline%5Espec.inclusiveEnd"><code>inclusiveEnd</code></a> so that they also make sense in right-to-left text. The old names work with a warning until the next release.</p>
<p>The default styling for lists and blockquotes was removed from <code>prosemirror.css</code>. (They were moved to the <a href="https://github.com/ProseMirror/prosemirror-example-setup"><code>example-setup</code></a> module.)</p>
<h4>Bug fixes</h4>
<p>Fixes reading of selection in Chrome in a shadow DOM.</p>
<p>Registering DOM event handlers that the editor doesn't listen to by default with the <code>handleDOMEvents</code> prop should work again.</p>
<p>Backspacing after turning off a mark now works again in Firefox.</p>
<h4>New features</h4>
<p>The new props <a href="../ref/version/0.20.0.html#view.EditorProps.handlePaste"><code>handlePaste</code></a> and <a href="../ref/version/0.20.0.html#view.EditorProps.handleDrop"><code>handleDrop</code></a> can be used to override drop and paste behavior.</p>
<h3><a href="../ref/index.html#inputrules">prosemirror-inputrules</a> 0.20.0 (2017-04-03)</h3>
<h4>Breaking changes</h4>
<p>The input rules <a href="../ref/version/0.20.0.html#inputrules.inputRules">plugin</a> no longer implicitly binds backspace to undo the last applied rule.</p>
<h4>New features</h4>
<p>This module now exposes a command <a href="../ref/version/0.20.0.html#inputrules.undoInputRule"><code>undoInputRule</code></a>, which will revert an input rule when run directly after one was applied.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.20.0 (2017-04-03)</h3>
<h4>Bug fixes</h4>
<p>Fixes issue where replacing would sometimes unexpectedly split nodes.</p>
<h3><a href="../ref/index.html#schema-list">prosemirror-schema-list</a> 0.20.0 (2017-04-03)</h3>
<h4>New features</h4>
<p>The <a href="../ref/version/0.20.0.html#schema-list.liftListItem"><code>liftListItem</code></a> command can now lift items out of a list entirely, when the parent node isn't another list.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.20.0 (2017-04-03)</h3>
<h4>Breaking changes</h4>
<p><a href="../ref/version/0.20.0.html#state.Selection%5Enear"><code>Selection.near</code></a> no longer accepts a <code>textOnly</code> parameter.</p>
<h4>Bug fixes</h4>
<p><a href="../ref/version/0.20.0.html#state.TextSelection%5Ebetween"><code>TextSelection.between</code></a> may now return a node selection when the document does not contain a valid cursor position.</p>
<h4>New features</h4>
<p><a href="../ref/version/0.20.0.html#model.Selection"><code>Selection</code></a> objects now implement a <a href="../ref/version/0.20.0.html#model.Selection.content"><code>content</code></a> method that returns their content. This is used to determine what ends up on the clipboard when the selection is copied or dragged.</p>
<p>Selections may now specify multiple <a href="../ref/version/0.20.0.html#state.Selection.ranges">ranges</a> that they cover, to generalize to more types of selections. The <a href="../ref/version/0.20.0.html#state.Selection"><code>Selection</code></a> superclass constructor takes an array of <a href="../ref/version/0.20.0.html#state.SelectionRange">ranges</a> as optional third argument.</p>
<p>Selections gained new methods <a href="../ref/version/0.20.0.html#state.Selection.replace"><code>replace</code></a> and <a href="../ref/version/0.20.0.html#state.Selection.replaceWith"><code>replaceWith</code></a> to provide subclasses more control over how selections of that type respond to being deleted or overwritten.</p>
<p>Selections have a new method <a href="../ref/version/0.20.0.html#state.Selection.getBookmark"><code>getBookmark</code></a> that custom selection classes can implement to allow the undo history to accurately store and restore them.</p>
<p>The new selection class <a href="../ref/version/0.20.0.html#state.AllSelection"><code>AllSelection</code></a> can be used to select the entire document.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 0.20.0 (2017-04-03)</h3>
<h4>Bug fixes</h4>
<p>Appended transactions no longer generate undo history events.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.20.0 (2017-04-03)</h3>
<h4>Breaking changes</h4>
<p>Newlines in the text are now normalized to spaces when parsing except when you set <code>preserveWhitespace</code> to <code>&quot;full&quot;</code> in your <a href="../ref/version/0.20.0.html#model.DOMParser.parse">options</a> or in a <a href="../ref/version/0.20.0.html#model.ParseRule.preserveWhitespace">parse rule</a>.</p>
<h4>Bug fixes</h4>
<p>Fix crash in IE when parsing DOM content.</p>
<h4>New features</h4>
<p>Fragments now have <a href="../ref/version/0.20.0.html#model.Fragment.nodesBetween"><code>nodesBetween</code></a> and <a href="../ref/version/0.20.0.html#model.Fragments.descendants"><code>descendants</code></a> methods, providing the same functionality as the methods by the same name on nodes.</p>
<p>Resolved positions now have <a href="../ref/version/0.20.0.html#model.ResolvedPos.max"><code>max</code></a> and <a href="../ref/version/0.20.0.html#model.ResolvedPos.min"><code>min</code></a> methods to easily find a maximum or minimum position.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 0.20.0 (2017-04-03)</h3>
<h4>New features</h4>
<p>The new <a href="../ref/version/0.20.0.html#commands.selectAll"><code>selectAll</code> command</a>, bound to Mod-a in the base keymap, sets the selection to an <a href="../ref/version/0.20.0.html#state.AllSelection"><code>AllSelection</code></a>.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.19.1 (2017-03-18)</h3>
<h4>Bug fixes</h4>
<p>Fixes a number of issues with characters being duplicated or disappearing when typing on mark boundaries.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.19.1 (2017-03-17)</h3>
<h4>Bug fixes</h4>
<p>Fix an issue where <code>ensureMarks</code> would fail to reset the marks to the empty set when turning off the last mark.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.19.0 (2017-03-16)</h3>
<h4>Breaking changes</h4>
<p><code>Selection.between</code> is now called <a href="state.TextSelection%5Ebetween.html"><code>TextSelection.between</code></a>, and only returns text selections.</p>
<p>The JSON representation of selections changed. <a href="../ref/version/0.19.0.html#state.Selection%5EfromJSON"><code>fromJSON</code></a> will continue to understand the old representation, but if your own code touches the JSON data, you'll have to adjust it.</p>
<p>All <code>Selection</code> objects now have <a href="../ref/version/0.19.0.html#state.Selection.$head"><code>$head</code></a>/<a href="../ref/version/0.19.0.html#state.Selection.$anchor"><code>$anchor</code></a> properties, so those can no longer be used to recognize text selections (use <a href="../ref/version/0.19.0.html#state.TextSelection.$cursor"><code>$cursor</code></a> or <code>instanceof</code>).</p>
<h4>New features</h4>
<p>It is now possible to write your own <a href="../ref/version/0.19.0.html#state.Selection"><code>Selection</code></a> subclasses and set the editor selection to an instance of them (provided you implement all required methods and register them with <a href="../ref/version/0.19.0.html#state.Selection%5EjsonID"><code>Selection.jsonID</code></a>).</p>
<p>Text selections now have a <a href="../ref/version/0.19.0.html#state.TextSelection.$cursor"><code>$cursor</code></a> getter which returns a position only if this is a cursor selection.</p>
<p>The new <a href="../ref/version/0.19.0.html#state.Transaction.ensureMarks"><code>Transaction.ensureMarks</code></a> method makes it easier to ensure given set of active marks without needlessly setting <code>storedMarks</code>.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.19.0 (2017-03-16)</h3>
<h4>Breaking changes</h4>
<p><code>MarkSpec.inclusiveRight</code> was replaced by <a href="../ref/version/0.19.0.html#model.MarkSpec.inclusive"><code>inclusive</code></a>, which behaves slightly differently. <code>inclusiveRight</code> will be interpreted as <code>inclusive</code> (with a warning) until the next release.</p>
<h4>New features</h4>
<p>The new <a href="../ref/version/0.19.0.html#model.Node.inlineContent"><code>inlineContent</code></a> property on nodes and node types tells you whether a node type supports inline content.</p>
<p><a href="../ref/version/0.19.0.html#model.MarkSpec.inclusive"><code>MarkSpec.inclusive</code></a> can now be used to control whether content inserted at the boundary of a mark receives that mark.</p>
<p>Parse rule <a href="../ref/version/0.19.0.html#model.ParseRule.context"><code>context</code></a> restrictions can now use node <a href="../ref/version/0.19.0.html#model.NodeSpec.group">groups</a>, not just node names, to specify valid context.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 0.19.0 (2017-03-16)</h3>
<h4>New features</h4>
<p>A new function <a href="../ref/version/0.19.0.html#history.closeHistory"><code>closeHistory</code></a> can be used to force separation of history events at the start of a given transaction.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 0.19.0 (2017-03-16)</h3>
<h4>Bug fixes</h4>
<p>Calling <code>joinBackward</code> at the start of a node that can't be joined no longer raises an error.</p>
<h3><a href="../ref/index.html#collab">prosemirror-collab</a> 0.19.0 (2017-03-16)</h3>
<h4>New features</h4>
<p>You can now use strings (as well as numbers) as client IDs (this already worked, but now the documentation reflects this).</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.19.0 (2017-03-16)</h3>
<h4>Breaking changes</h4>
<p><a href="../ref/version/0.19.0.html#view.EditorView.endOfTextblock"><code>endOfTextblock</code></a> no longer always returns false for horizontal motion on non-cursor selections, but checks the position of the selection head instead.</p>
<h4>Bug fixes</h4>
<p>Typing after adding/removing a mark no longer briefly shows the new text with the wrong marks.</p>
<p><a href="../ref/version/0.19.0.html#view.EditorView.posAtCoords"><code>posAtCoords</code></a> is now more reliable on modern browsers by using browser APIs.</p>
<p>Fix a bug where the view would in some circumstances leave superfluous DOM nodes around inside marks.</p>
<h4>New features</h4>
<p>You can now override the selection the editor creates for a given DOM selection with the <a href="../ref/version/0.19.0.html#view.EditorProps.createSelectionBetween"><code>createSelectionBetween</code></a> prop.</p>
<h3><a href="../ref/index.html#schema-basic">prosemirror-schema-basic</a> 0.19.0 (2017-03-16)</h3>
<h4>Breaking changes</h4>
<p>Link marks are now non-inclusive by default.</p>
<h3><a href="../ref/index.html#collab">prosemirror-collab</a> 0.18.0 (2017-02-24)</h3>
<h4>New features</h4>
<p><a href="../ref/version/0.18.0.html#collab.sendableSteps"><code>sendableSteps</code></a> now also returns information about the original transactions that produced the steps.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.18.0 (2017-02-24)</h3>
<h4>Breaking changes</h4>
<p>Plugin objects now store their spec under a <a href="../ref/version/0.18.0.html#state.PluginSpec.spec"><code>spec</code></a> instead of an <code>options</code> property. The <code>options</code> property still works with a warning in this release.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.18.0 (2017-02-24)</h3>
<h4>New features</h4>
<p><a href="../ref/version/0.18.0.html#transform.Transform.setNodeType"><code>Transform.setNodeType</code></a> now takes an optional argument to set the new node's attributes.</p>
<p>Steps now provide an <a href="../ref/version/0.18.0.html#transform.Step.offset"><code>offset</code></a> method, which makes it possible to create a copy the step with its position offset by a given amount.</p>
<p><a href="../ref/version/0.18.0.html#transform.Transform.docChanged"><code>docChanged</code></a> is now a property on the <code>Transform</code> class, rather than its <code>Transaction</code> subclass.</p>
<p><code>Mapping</code> instances now have <a href="../ref/version/0.18.0.html#transform.Mapping.invert"><code>invert</code></a> and <a href="../ref/version/0.18.0.html#transform.Mapping.appendMappingInverted"><code>appendMappingInverted</code></a> methods to make mapping through them in reverse easier.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 0.18.0 (2017-02-24)</h3>
<h4>Bug fixes</h4>
<p>Fix a problem where simultaneous collaborative editing could break the undo history.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.18.0 (2017-02-24)</h3>
<h4>Breaking changes</h4>
<p><code>Decoration</code> objects now store their definition object under <a href="../ref/version/0.18.0.html#Decoration.spec"><code>spec</code></a>, not <code>options</code>. The old property name still works, with a warning, until the next release.</p>
<h4>Bug fixes</h4>
<p>Fix bug where calling <a href="../ref/version/0.18.0.html#view.EditorView.focus"><code>focus</code></a> when there was a text selection would sometimes result in <code>state.selection</code> receiving an incorrect value.</p>
<p><a href="../ref/version/0.18.0.html#view.EditorView.props"><code>EditorView.props</code></a> now has its <code>state</code> property updated when you call <code>updateState</code>.</p>
<p>Putting decorations on or inside a node view with an <code>update</code> method now works.</p>
<h4>New features</h4>
<p><a href="../ref/version/0.18.0.html#state.PluginSpec.view">Plugin view</a> update methods are now passed the view's previous state as second argument.</p>
<p>The <code>place</code> agument to the <a href="../ref/version/0.18.0.html#view.EditorView"><code>EditorView</code> constructor</a> can now be an object with a <code>mount</code> property to directly provide the node that should be made editable.</p>
<p>The new <a href="../ref/version/0.18.0.html#view.EditorView.setProps"><code>EditorView.setProps</code> method</a> makes it easier to update individual props.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 0.18.0 (2017-02-24)</h3>
<h4>New features</h4>
<p>New command <a href="../ref/version/0.18.0.html#commands.splitBlockKeepMarks"><code>splitBlockKeepMarks</code></a> which splits a block but preserves the marks at the cursor.</p>
<h3><a href="../ref/index.html#keymap">prosemirror-keymap</a> 0.18.0 (2017-02-24)</h3>
<h4>New features</h4>
<p>Add a <a href="../ref/version/0.18.0.html#keymap.keydownHandler"><code>keydownHandler</code></a> function, which takes a keymap and produces a <a href="../ref/version/0.18.0.html#view.EditorProps.handleKeydown"><code>handleKeydown</code> prop</a>-style function.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.18.0 (2017-02-24)</h3>
<h4>Breaking changes</h4>
<p><code>schema.nodeSpec</code> and <code>schema.markSpec</code> have been deprecated in favor of <a href="../ref/version/0.18.0.html#model.Schema.spec"><code>schema.spec</code></a>. The properties still work with a warning in this release, but will be dropped in the next.</p>
<h4>New features</h4>
<p><code>Node</code> objects now have a <a href="../ref/version/0.18.0.html#model.Node.check"><code>check</code></a> method which can be used to assert that they conform to the schema.</p>
<p>Node specs now support an <a href="../ref/version/0.18.0.html#model.NodeSpec.atom"><code>atom</code> property</a>, and nodes an <a href="../ref/version/0.18.0.html#model.Node.isAtom"><code>isAtom</code> accessor</a>, which is currently only used to determine whether such nodes should be directly selectable (for example when they are rendered as an uneditable node view).</p>
<p>The new <a href="../ref/version/0.18.0.html#model.MarkSpec.excludes"><code>excludes</code></a> field on mark specs can be used to control the marks that this mark may coexist with. Mark type objects also gained an <a href="../ref/version/0.18.0.html#model.MarkType.excludes"><code>excludes</code> <em>method</em></a> to querty this relation.</p>
<p>Mark specs now support a <a href="../ref/version/0.18.0.html#model.MarkSpec.group"><code>group</code></a> property, and marks can be referred to by group name in content specs.</p>
<p>The <code>Schema</code> class now provides its whole <a href="../ref/version/0.18.0.html#model.SchemaSpec">spec</a> under its <a href="../ref/version/0.18.0.html#model.Schema.spec"><code>spec</code></a> property.</p>
<p>The name of a schema's default top-level node is now <a href="../ref/version/0.18.0.html#model.SchemaSpec.topNode">configurable</a>. You can use <a href="../ref/version/0.18.0.html#model.Schema.topNodeType"><code>schema.topNodeType</code></a> to retrieve the top node type.</p>
<p><a href="../ref/version/0.18.0.html#model.ParseRule">Parse rules</a> now support a <a href="../ref/version/0.18.0.html#model.ParseRule.context"><code>context</code> field</a> that can be used to only make the rule match inside certain ancestor nodes.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.17.7 (2017-02-08)</h3>
<h4>Bug fixes</h4>
<p>Fixes crash in the code that maintains the scroll position when the document is empty or hidden.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.17.6 (2017-02-08)</h3>
<h4>Bug fixes</h4>
<p>Transactions that shouldn't <a href="../ref/version/0.17.0.html#state.transaction.scrollIntoView">scroll the selection into view</a> now no longer do so.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.17.1 (2017-02-08)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/version/0.17.0.html#%23state.Transaction.scrolledIntoView"><code>Transaction.scrolledIntoView</code></a> no longer always returns true.</p>
<p><a href="../ref/version/0.17.0.html#state.Selection%5Eneard"><code>Selection.near</code></a> now takes a third <code>textOnly</code> argument, as the docs already claimed.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 0.17.1 (2017-02-02)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where collaborative editing corner cases could corrupt the history.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.17.4 (2017-02-02)</h3>
<h4>Bug fixes</h4>
<p>Fixes bug where widget decorations would sometimes get parsed as content when editing near them.</p>
<p>The editor now prevents the behavior of Ctrl-d and Ctrl-h on textblock boundaries on OS X, as intended.</p>
<p>Make sure long words don't cause a horizontal scrollbar in Firefox</p>
<p>Various behavior fixes for IE11.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.17.3 (2017-01-19)</h3>
<h4>Bug fixes</h4>
<p>DOM changes deleting a node's inner wrapping DOM element (for example the <code>&lt;code&gt;</code> tag in a schema-basic code block) no longer break the editor.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.17.2 (2017-01-16)</h3>
<h4>Bug fixes</h4>
<p>Call custom click handlers before applying select-node behavior for a ctrl/cmd-click.</p>
<p>Fix failure to apply DOM changes that start at document position 0.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 0.17.1 (2017-01-16)</h3>
<h4>Bug fixes</h4>
<p>Make sure <a href="../ref/version/0.17.0.html#commands.toggleMark"><code>toggleMark</code></a> also works in the top-level node (when it is a textblock).</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.17.1 (2017-01-07)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where a document update that left the selection in the same place sometimes led to an incorrect DOM selection.</p>
<p>Make sure <a href="../ref/version/0.17.0.html#view.EditorView.focus"><code>EditorView.focus</code></a> doesn't cause the browser to scroll the top of the editor into view.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.17.0 (2017-01-05)</h3>
<h4>Breaking changes</h4>
<p><code>Node.marksAt</code> was replaced with <a href="../ref/version/0.17.0.html#model.ResolvedPos.marks"><code>ResolvedPos.marks</code></a>. It still works (with a warning) in this release, but will be removed in the next one.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 0.17.0 (2017-01-05)</h3>
<h4>Breaking changes</h4>
<p>The <code>dispatch</code> function passed to commands is now passed a <a href="../ref/version/0.17.0.html#state.Transaction"><code>Transaction</code></a>, not an action object.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.17.0 (2017-01-05)</h3>
<h4>Breaking changes</h4>
<p>The way state is updated was changed. Instead of applying an action (a raw object with a <code>type</code> property), it is now done by <a href="../ref/version/0.17.0.html#state.EditorState.apply">applying</a> a <a href="../ref/version/0.17.0.html#state.Transaction"><code>Transaction</code></a>.</p>
<p>The <code>EditorTransform</code> class was renamed <a href="../ref/version/0.17.0.html#state.Transaction"><code>Transaction</code></a>, and extended to allow changing the set of stored marks and attaching custom metadata.</p>
<h4>New features</h4>
<p>Plugins now accept a <a href="../ref/version/0.17.0.html#state.Plugin.constructor%5Eoptions.filterTransaction"><code>filterTransaction</code></a> option that can be used to filter out transactions as they come in.</p>
<p>Plugins also got an <a href="../ref/version/0.17.0.html#state.Plugin.constructor%5Eoptions.appendTransaction"><code>appendTransaction</code></a> option making it possible to follow up transactions with another transaction.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.17.0 (2017-01-05)</h3>
<h4>Breaking changes</h4>
<p>The <code>handleDOMEvent</code> prop has been dropped in favor of the <a href="../ref/version/0.17.0.html#view.EditorProps.handleDOMEvents"><code>handleDOMEvents</code></a> (plural) prop.</p>
<p>The <code>onChange</code> prop has been replaced by a <a href="../ref/version/0.17.0.html#view.EditorProps.dispatchTransaction"><code>dispatchTransaction</code></a> prop (which takes a transaction instead of an action).</p>
<h4>New features</h4>
<p>Added support for a <a href="../ref/version/0.17.0.html#view.EditorProps.handleDOMEvents"><code>handleDOMEvents</code> prop</a>, which allows you to provide handler functions per DOM event, and works even for events that the editor doesn't normally add a handler for.</p>
<p>Add view method <a href="../ref/version/0.17.0.html#view.EditorView.dispatch"><code>dispatch</code></a>, which provides a convenient way to dispatch transactions.</p>
<p>The <a href="../ref/version/0.17.0.html#view.EditorProps.dispatchTransaction"><code>dispatchTransaction</code></a> (used to be <code>onAction</code>) prop is now optional, and will default to simply applying the transaction to the current view state.</p>
<p><a href="../ref/version/0.17.0.html#view.Decoration.widget">Widget decorations</a> now accept an option <code>associative</code> which can be used to configure on which side of content inserted at their position they end up.</p>
<p>Typing immediately after deleting text now preserves the marks of the deleted text.</p>
<p>Transactions that update the selection because of mouse or touch input now get a metadata property <code>pointer</code> with the value <code>true</code>.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.16.0 (2016-12-23)</h3>
<h4>Bug fixes</h4>
<p>Solve problem where setting a node selection would trigger a DOM read, leading to the selection being reset.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.16.0 (2016-12-23)</h3>
<h4>Breaking changes</h4>
<p>The <code>spellcheck</code>, <code>label</code>, and <code>class</code> props are now replaced by an <a href="../ref/version/0.16.0.html#view.EditorProps.attributes"><code>attributes</code> prop</a>.</p>
<h4>Bug fixes</h4>
<p>Ignoring/aborting an action should no longer lead to the DOM being stuck in an outdated state.</p>
<p>Typing at the end of a textblock which ends in a non-text node now actually works.</p>
<p>DOM nodes for leaf document nodes are now set as non-editable to prevent various issues such as stray cursors inside of them and Firefox adding image resize controls.</p>
<p>Inserting a node no longer causes nodes of the same type after it to be neednessly redrawn.</p>
<h4>New features</h4>
<p>Add a new editor prop <a href="../ref/version/0.16.0.html#view.EditorProps.editable"><code>editable</code></a> which controls whether the editor's <code>contentEditable</code> behavior is enabled.</p>
<p>Plugins and props can now set any DOM attribute on the outer editor node using the <a href="../ref/version/0.16.0.html#view.EditorProps.attributes"><code>attributes</code> prop</a>.</p>
<p>Node view constructors and update methods now have access to the node's wrapping decorations, which can be used to pass information to a node view without encoding it in the document.</p>
<p>Attributes added or removed by node and inline <a href="../ref/version/0.16.0.html#view.Decoration">decorations</a> no longer cause the nodes inside of them to be fully redrawn, making node views more stable and allowing CSS transitions to be used.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.16.0 (2016-12-23)</h3>
<h4>New features</h4>
<p>Plugins now take a <a href="../ref/version/0.16.0.html#state.Plugin.constructor%5Eoptions.view"><code>view</code> option</a> that can be used to interact with the <a href="../ref/version/0.16.0.html#view.EditorView">editor view</a>.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.15.0 (2016-12-10)</h3>
<h4>Breaking changes</h4>
<p><code>ResolvedPos.atNodeBoundary</code> is deprecated and will be removed in the next release. Use <code>textOffset &gt; 0</code> instead.</p>
<h4>New features</h4>
<p>Parse rules associated with a schema can now specify a <a href="../ref/version/0.15.0.html#model.ParseRule.priority"><code>priority</code></a> to influence the order in which they are applied.</p>
<p>Resolved positions have a new getter <a href="../ref/version/0.15.0.html#model.ResolvedPos.textOffset"><code>textOffset</code></a> to find their position within a text node (if any).</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.15.0 (2016-12-10)</h3>
<h4>Breaking changes</h4>
<p>The editor view no longer wraps its editable DOM element in a wrapper element. The <code>ProseMirror</code> CSS class now applies directly to the editable element. The <code>ProseMirror-content</code> CSS class is still present for ease of upgrading but will be dropped in the next release.</p>
<p>The editor view no longer draws a drop cursor when dragging content over the editor. The new <a href="https://github.com/prosemirror/prosemirror-dropcursor"><code>prosemirror-dropcursor</code></a> module implements this as a plugin.</p>
<h4>Bug fixes</h4>
<p>Simple typing and backspacing now gets handled by the browser without ProseMirror redrawing the touched nodes, making spell-checking and various platform-specific input tricks (long-press on OS X, double space on iOS) work in the editor.</p>
<p>Improve tracking of DOM nodes that have been touched by user changes, so that <a href="../ref/version/0.15.0.html#view.EditorView.updateState"><code>updateState</code></a> can reliably fix them.</p>
<p>Changes to the document that happen while dragging editor content no longer break moving of the content.</p>
<p>Adding or removing a mark directly in the DOM (for example with the bold/italic buttons in iOS' context menu) now produces mark steps, rather than replace steps.</p>
<p>Pressing backspace at the start of a paragraph on Android now allows key handlers for backspace to fire.</p>
<p>Toggling a mark when there is no selection now works better on mobile platforms.</p>
<h4>New features</h4>
<p>Introduces an <a href="../ref/version/0.15.0.html#view.EditorView.endOfTextblock"><code>endOfTextblock</code></a> method on views, which can be used to find out in a bidi- and layout-aware way whether the selection is on the edge of a textblock.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.15.2 (2016-12-10)</h3>
<h4>Bug fixes</h4>
<p>The native selection is now appropriately hidden when there is a node selection.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.15.0 (2016-12-10)</h3>
<h4>Bug fixes</h4>
<p>Fix bug where pasted/inserted content would sometimes get incorrectly closed at the right side.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 0.15.0 (2016-12-10)</h3>
<h4>Breaking changes</h4>
<p>Drops suppport for <code>delete(Char|Word)(Before|After)</code> and <code>move(Back|For)ward</code>, since we are now letting the browser handle those natively.</p>
<h4>Bug fixes</h4>
<p>The <a href="../ref/version/0.15.0.html#commands.joinForward"><code>joinForward</code></a> and <a href="../ref/version/0.15.0.html#commands.joinBackward"><code>joinBackward</code></a> commands can now strip out markup and nodes that aren't allowed in the joined node.</p>
<h4>New features</h4>
<p>A new command <a href="../ref/version/0.15.0.html#commands.exitCode"><code>exitCode</code></a> allows a user to exit a code block by creating a new paragraph below it.</p>
<p>The <a href="../ref/version/0.15.0.html#commands.joinForward"><code>joinForward</code></a> and <a href="../ref/version/0.15.0.html#commands.joinBackward"><code>joinBackward</code></a> commands now use a bidirectional-text-aware way to determine whether the cursor is at the proper side of its parent textblock when they are passed a view.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.15.0 (2016-12-10)</h3>
<h4>Breaking changes</h4>
<p>Selection actions no longer scroll the new selection into view by default (they never were supposed to, but due to a bug they did). Add a <code>scrollIntoView</code> property to the action to get this behavior.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.15.1 (2016-12-10)</h3>
<h4>Bug fixes</h4>
<p>Fix DOM parsing for decorated text nodes.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.14.4 (2016-12-02)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where node decorations would stick around in the DOM after the decoration was removed.</p>
<p>Setting or removing a node selection in an unfocused editor now properly updates the DOM to show that selection.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.14.1 (2016-11-30)</h3>
<h4>Bug fixes</h4>
<p><a href="../ref/version/0.14.0.html#model.DOMParser.parseSlice"><code>DOMParser.parseSlice</code></a> will now ignore whitespace-only text nodes at the top of the slice.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.14.2 (2016-11-30)</h3>
<h4>Bug fixes</h4>
<p>FIX: Avoid unneeded selection resets which sometimes confused browsers.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.14.1 (2016-11-29)</h3>
<h4>Bug fixes</h4>
<p>Restores previously broken kludge that allows the cursor to appear after non-text content at the end of a line.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.14.2 (2016-11-29)</h3>
<h4>Bug fixes</h4>
<p>Fix a bug where inverted selections weren't created in the DOM correctly.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.14.0 (2016-11-28)</h3>
<h4>New features</h4>
<p>Parse rules now support <a href="../ref/version/0.14.0.html#model.ParseRule.skip"><code>skip</code></a> (skip outer element, parse content) and <a href="../ref/version/0.14.0.html#model.ParseRule.getContent"><code>getContent</code></a> (compute content using custom code) properties.</p>
<p>The <code>DOMSerializer</code> class now exports a static <a href="../ref/version/0.14.0.html#model.DOMSerializer%5ErenderSpec"><code>renderSpec</code></a> method that can help render DOM spec arrays.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.14.0 (2016-11-28)</h3>
<h4>Breaking changes</h4>
<p>Wrapping decorations are now created using the <a href="../ref/version/0.14.0.html#view.DecorationAttrs.nodeName"><code>nodeName</code></a> property. The <code>wrapper</code> property is no longer supported.</p>
<p>The <code>onUnmountDOM</code> prop is no longer supported (use a node view with a <a href="../ref/version/0.14.0.html#view.NodeView.destroy"><code>destroy</code></a> method instead).</p>
<p>The <code>domSerializer</code> prop is no longer supported. Use <a href="../ref/version/0.14.0.html#view.EditorProps.nodeViews">node views</a> to configure editor-specific node representations.</p>
<h4>New features</h4>
<p>Widget decorations can now be given a <a href="../ref/version/0.14.0.html#view.Decoration.widget%5Eoptions.key"><code>key</code></a> property to prevent unneccesary redraws.</p>
<p>The <code>EditorView</code> class now has a <a href="../ref/version/0.14.0.html#view.EditorView.destroy"><code>destroy</code></a> method for cleaning up.</p>
<p>The <a href="../ref/version/0.14.0.html#view.EditorProps.handleClickOn"><code>handleClickOn</code></a> prop and friends now receive a <code>direct</code> boolean argument that indicates whether the node was clicked directly.</p>
<p><a href="../ref/version/0.14.0.html#view.Decoration%5Ewidget">Widget decorations</a> now support a <code>stopEvent</code> option that can be used to control which DOM events that pass through them should be ignored by the editor view.</p>
<p>You can now <a href="../ref/version/0.14.0.html#view.EditorProps.nodeViews">specify</a> custom <a href="../ref/version/0.14.0.html#view.NodeView">node views</a> for an editor view, which give you control over the way node of a given type are represented in the DOM. See the related <a href="https://discuss.prosemirror.net/t/rfc-node-views-to-manage-the-representation-of-nodes/463">RFC</a>.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.14.0 (2016-11-28)</h3>
<h4>New features</h4>
<p><a href="../ref/version/0.14.0.html#state.SelectionAction">Selection actions</a> now have a <code>time</code> field and an (optional) <code>origin</code> field.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.13.2 (2016-11-15)</h3>
<h4>Bug fixes</h4>
<p>Fixes an issue where widget decorations in the middle of text nodes would sometimes disappear.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.13.1 (2016-11-15)</h3>
<h4>Bug fixes</h4>
<p>Fixes event handler crash (and subsequent bad default behavior) when pasting some types of external HTML into an editor.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.13.0 (2016-11-11)</h3>
<h4>Bug fixes</h4>
<p>Fix issue where <a href="../ref/version/0.13.0.html#transform.Transform.replace"><code>Transform.replace</code></a> would, in specific circumstances, unneccessarily drop content.</p>
<h4>New features</h4>
<p>The new <a href="../ref/version/0.13.0.html#transform.Transform"><code>Transform</code></a> method <a href="../ref/version/0.13.0.html#transform.Transform.replaceRange"><code>replaceRange</code></a>, <a href="../ref/version/0.13.0.html#transform.Transform.replaceRangeWith"><code>replaceRangeWith</code></a>, and <a href="../ref/version/0.13.0.html#transform.Transform.deleteRange"><code>deleteRange</code></a> provide a way to replace and delete content in a 'do what I mean' way, automatically expanding the replaced region over empty parent nodes and including the parent nodes in the inserted content when appropriate.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 0.13.0 (2016-11-11)</h3>
<h4>New features</h4>
<p>The <a href="../ref/version/0.13.0.html#commands.autoJoin"><code>autoJoin</code></a> function allows you to wrap command functions so that when the command makes nodes of a certain type occur next to each other, they are automatically joined.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.13.0 (2016-11-11)</h3>
<h4>Breaking changes</h4>
<p><a href="../ref/version/0.13.0.html#state.EditorTransform.replaceSelection"><code>EditorTransform.replaceSelection</code></a> now takes a <a href="../ref/version/0.13.0.html#model.Slice">slice</a>, no longer a node. The new <a href="../ref/version/0.13.0.html#state.EditorTransform.replaceSelectionWith"><code>replaceSelectionWith</code></a> method should be used to replace the selection with a node. Until the next release, calling it the old way will still work and emit a warning.</p>
<h4>Bug fixes</h4>
<p>The documentation for <a href="../ref/version/0.13.0.html#state.StateField.applyAction"><code>applyAction</code></a> now actually reflects the arguments this method is given.</p>
<h4>New features</h4>
<p>A state field's <a href="../ref/version/0.13.0.html#state.StateField.applyAction"><code>applyAction</code></a> method is now passed the previous state as 4th argument, so that it has access to the new doc and selection.</p>
<p><a href="../ref/version/0.13.0.html#state.EditorTransform.replaceSelection"><code>EditorTransform.replaceSelection</code></a> now accepts a slice (or, as before, as a node), and uses a revised algorithm, relying on the <a href="../ref/version/0.13.0.html#model.NodeSpec.defining"><code>defining</code></a> node flag.</p>
<p>The <a href="../ref/version/0.13.0.html#state.TextSelection"><code>TextSelection</code></a> and <a href="../ref/version/0.13.0.html#state.NodeSelection"><code>NodeSelection</code></a> classes now have a static <a href="../ref/version/0.13.0.html#state.TextSelection%5Ecreate"><code>create</code></a> convenience method for creating selections from unresolved positions.</p>
<p>Allow <a href="../ref/version/0.13.0.html#state.TransformAction">transform actions</a> to be extended during dispatch using <a href="../ref/version/0.13.0.html#state.extendTransformAction"><code>extendTransformAction</code></a>. Introduce <a href="../ref/version/0.13.0.html#state.TransformAction.sealed"><code>sealed</code></a> flag to indicate when this is not safe.</p>
<p>A new utility function <a href="../ref/version/0.13.0.html#state.NodeSelection.isSelectable"><code>NodeSelection.isSelectable</code></a> can be used to test whether a node can be the target of a node selection.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.13.0 (2016-11-11)</h3>
<h4>Breaking changes</h4>
<p><code>ResolvedPos.sameDepth</code> is now called <a href="../ref/version/0.13.0.html#model.ResolvedPos.sharedDepth"><code>ResolvedPos.sharedDepth</code></a>, and takes a raw, unresolved position as argument.</p>
<h4>New features</h4>
<p><a href="../ref/version/0.13.0.html#model.DOMSerializer"><code>DOMSerializer</code></a>'s <code>nodes</code> and <code>marks</code> properties are now public.</p>
<p><a href="../ref/version/0.13.0.html#model.ContentMatch.findWrapping"><code>ContentMatch.findWrapping</code></a> now takes a third argument, <code>marks</code>. There's a new method <a href="../ref/version/0.13.0.html#model.ContentMatch.findWrappingFor"><code>findWrappingFor</code></a> that accepts a whole node.</p>
<p>Adds <a href="../ref/version/0.13.0.html#model.Slice%5EmaxOpen"><code>Slice.maxOpen</code></a> static method to create maximally open slices.</p>
<p>DOM parser objects now have a <a href="../ref/version/0.13.0.html#model.DOMParser.parseSlice"><code>parseSlice</code></a> method which parses an HTML fragment into a <a href="../ref/version/0.13.0.html#model.Slice"><code>Slice</code></a>, rather than trying to create a whole document from it.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.13.0 (2016-11-11)</h3>
<h4>Breaking changes</h4>
<p>Selecting nodes on OS X is now done with cmd-leftclick rather than ctrl-leftclick.</p>
<h4>Bug fixes</h4>
<p>Pasting text into a code block will now insert the raw text.</p>
<p>Widget decorations at the start or end of a textblock no longer block horizontal cursor motion through them.</p>
<p>Widget nodes at the end of textblocks are now reliably drawn during display updates.</p>
<h4>New features</h4>
<p><a href="../ref/version/0.13.0.html#view.DecorationSet.map"><code>DecorationSet.map</code></a> now takes an options object which allows you to specify an <code>onRemove</code> callback to be notified when remapping drops decorations.</p>
<p>The <a href="../ref/version/0.13.0.html#view.EditorProps.transformPastedHTML"><code>transformPastedHTML</code></a> and <a href="../ref/version/0.13.0.html#view.EditorProps.transformPastedText"><code>transformPastedText</code></a> props were (re-)added, and can be used to clean up pasted content.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.12.2 (2016-11-02)</h3>
<h4>Bug fixes</h4>
<p>Inline decorations that span across an empty textblock no longer crash the display drawing code.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.12.1 (2016-11-01)</h3>
<h4>Bug fixes</h4>
<p>Fix bug in <code>Transform.setBlockType</code> when used in a transform that already has steps.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.12.1 (2016-11-01)</h3>
<h4>Bug fixes</h4>
<p>Use a separate document to parse pasted HTML to better protect
against cross-site scripting attacks.</p>
<p>Specifying multiple classes in a decoration now actually works.</p>
<p>Ignore empty inline decorations when building a decoration set.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 0.12.1 (2016-11-01)</h3>
<h4>Bug fixes</h4>
<p>Fix crash in undo or redo commands when the history is empty.</p>
<h3><a href="../ref/index.html#history">prosemirror-history</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p>The <a href="../ref/version/0.12.0.html#history.history"><code>history</code></a> export is now a function
that creates a history plugin, rather than a plugin instance.</p>
<h4>New features</h4>
<p>Add a
<a href="../ref/version/0.12.0.html#history.history%5Econfig.newGroupDelay"><code>newGroupDelay</code></a> plugin
option. This brings back the behavior where pausing between edits will
automatically cause the history to put subsequent changes in a new
undo event.</p>
<h3><a href="../ref/index.html#state">prosemirror-state</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p>The interace to
<a href="../ref/version/0.12.0.html#state.EditorState.toJSON"><code>EditorState.toJSON</code></a> and
<a href="../ref/version/0.12.0.html#state.EditorState.fromJSON"><code>EditorState.fromJSON</code></a> has changed.</p>
<p>The way plugins declare their <a href="../ref/version/0.12.0.html#state.Plugin.constructor.options.state">state
field</a> has changed. Only one
state field per plugin is supported, and state fields no longer have
hard-coded names. <a href="../ref/version/0.12.0.html#state.Plugin.getState"><code>Plugin.getState</code></a> is the
way to access plugin state now.</p>
<p>Plugin dependencies are no longer supported.</p>
<p><code>Plugin.reconfigure</code> is gone. Plugins are now always created
with <a href="../ref/version/0.12.0.html#state.Plugin.constructor"><code>new Plugin</code></a>.</p>
<p>Plugins no longer have a <code>config</code> field.</p>
<h4>Bug fixes</h4>
<p>Node selections are now properly dropped when mapped over a
change that replaces their nodes.</p>
<h4>New features</h4>
<p><a href="../ref/version/0.12.0.html#state.PluginKey">Plugin keys</a> can now be used to find
plugins by identity.</p>
<p><a href="../ref/version/0.12.0.html#state.TransformAction">Transform actions</a> now have a
<code>time</code> field containing the timestamp when the change was made.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p>The return value of
<a href="../ref/version/0.12.0.html#view.EditorView.posAtCoords"><code>EditorView.posAtCoords</code></a> changed to
contain an <code>inside</code> property pointing at the innermost node that the
coordinates are inside of. (Note that the docs for this method were
wrong in the previous release.)</p>
<h4>Bug fixes</h4>
<p>Reduce reliance on shift-state tracking to minimize damage when
it gets out of sync.</p>
<p>Fix bug that'd produce bogus document positions for DOM positions
inside non-document nodes.</p>
<p>Don't treat fast ctrl-clicks as double or triple clicks.</p>
<h4>New features</h4>
<p>Implement <a href="../ref/version/0.12.0.html#view.Decoration">decorations</a>, a way to
influence the way the document is drawn. Add the <a href="../ref/version/0.12.0.html#view.EditorProps.decorations"><code>decorations</code>
prop</a> to specify them.</p>
<h3><a href="../ref/index.html#commands">prosemirror-commands</a> 0.12.0 (2016-10-21)</h3>
<h4>Bug fixes</h4>
<p>Fix crash when backspacing into nodes with complex content
expressions.</p>
<h3><a href="../ref/index.html#transform">prosemirror-transform</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p>Mapped positions now count as deleted when the token to the
side specified by the <code>assoc</code> parameter is deleted, rather than when
both tokens around them are deleted. (This is usually what you already
wanted anyway.)</p>
<h3><a href="../ref/index.html#schema-basic">prosemirror-schema-basic</a> 0.12.0 (2016-10-21)</h3>
<h4>Bug fixes</h4>
<p>Don't treat &lt;b style=font-weight: normal&gt; as strong when parsing.
(Google Docs puts such ridiculous HTML on the clipboard.)</p>
<h3><a href="../ref/index.html#keymap">prosemirror-keymap</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p>Key names are now based on
<a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key"><code>KeyboardEvent.key</code></a>
instead of
<a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code"><code>.code</code></a>.
This means that, for character-producing keys, you'll want to use the
character typed, not the key name. So <code>Ctrl-Z</code> now means uppercase Z,
and you'll usually want <code>Ctrl-z</code> instead. Single-quoted key names are
no longer supported.</p>
<h3><a href="../ref/index.html#model">prosemirror-model</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p>Drops support for some undocumented options to the DOM
serializer that were used by the view.</p>
<h4>Bug fixes</h4>
<p>When rendering DOM attributes, only ignore null values, not all
falsy values.</p>
<h3><a href="../ref/index.html#view">prosemirror-view</a> 0.11.2 (2016-10-04)</h3>
<h4>Bug fixes</h4>
<p>Pass actual event object to <a href="../ref/version/0.11.0.html#view.EditorProps.handleDOMEvent"><code>handleDOMEvent</code></a>, rather than just its name.</p>
<p>Fix display corruption caused by using the wrong state as previous version during IME.</p>
</article>

<footer>
  <nav>
    <a class=logo href="index.html">&nbsp;</a>
    <div class=navlinks>
      <a href="../../backers.html">Backers</a>
      <a href="http://contributor-covenant.org/version/1/1/0/">Code of Conduct</a>
      <a href="https://discuss.prosemirror.net/">Discuss</a>
      <a href="https://github.com/prosemirror/prosemirror/issues">Report an Issue</a>
    </div>
  </nav>
</footer>

</html>